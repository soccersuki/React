(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),i=n.n(c),s=n(9),o=n(38),l=n(12),j=n(70),u=n(198),b=(n(197),n(196),n(167)),d=n(169),p=n(171),h=n(63),O=n(173),x=n(172),f=n(78),m=n.n(f),g=n(2),v=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function y(){var e=v();return Object(g.jsx)("div",{className:e.root,children:Object(g.jsx)(d.a,{position:"static",children:Object(g.jsxs)(p.a,{children:[Object(g.jsx)(x.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(g.jsx)(m.a,{})}),Object(g.jsx)(h.a,{variant:"h6",className:e.title,children:"News"}),Object(g.jsx)(O.a,{color:"inherit",children:"Login"})]})})})}function w(){return Object(g.jsx)(u.a,{height:"70vh",justifyContent:"center",alignItems:"center",display:"flex",bgcolor:"#3f51b5",children:Object(g.jsxs)(u.a,{mx:"auto",children:[Object(g.jsx)(h.a,{variant:"h2",children:Object(g.jsx)(u.a,{color:"white",children:"Let's plan!"})}),Object(g.jsx)(h.a,{variant:"subtitle1",children:Object(g.jsx)(u.a,{color:"white",children:"\u65c5\u884c\u306e\u4e88\u5b9a\u3092\u81ea\u52d5\u3067\u4f5c\u6210"})})]})})}var S=n(199);function k(e){var t=Object(a.useState)(e.initialValue),n=Object(s.a)(t,2),r=n[0],c=n[1];return Object(g.jsx)("form",{onSubmit:function(t){t.preventDefault(),e.onSubmit(r)},children:Object(g.jsx)(S.a,{required:!0,fullWidth:!0,id:"standard-basic",label:e.label,variant:"filled",onChange:function(e){c(e.target.value)},value:r})})}var C=n(177),P=n(178),N=n(179),D=Object(b.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},imageList:{flexWrap:"nowrap",transform:"translateZ(0)"},title:{color:"white"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}}));function I(e){var t=D(),n=e.itemData;return Object(g.jsx)("div",{className:t.root,children:Object(g.jsx)(C.a,{className:t.imageList,cols:2.5,rowHeight:120,children:n.map((function(n,a){return Object(g.jsxs)(P.a,{onClick:function(t){return e.onClick(t,a)},children:[Object(g.jsx)("img",{src:n.img,alt:n.title}),Object(g.jsx)(N.a,{title:n.title,classes:{root:t.titleBar,title:t.title}})]},n.img)}))})})}var L=n.p+"static/media/img_osaka.c9ba6993.jpg",F=n.p+"static/media/img_hokkaido.bd87e191.jpg",T=n.p+"static/media/img_tokyo.ebbf7b3f.jpg";function _(e){var t=[{img:L,title:"\u5927\u962a"},{img:T,title:"\u6771\u4eac"},{img:F,title:"\u5317\u6d77\u9053"}];return Object(g.jsxs)(u.a,{my:5,mx:5,children:[Object(g.jsx)(h.a,{variant:"subtitle1",children:Object(g.jsx)(u.a,{color:"gray",children:"\u4eba\u6c17\u306e\u30a8\u30ea\u30a2"})}),Object(g.jsx)(I,{itemData:t,onClick:function(n,a){e.onClick(t[a].title)}})]})}function q(){var e=Object(l.f)(),t=function(t){e.push("/condition",{region:t})};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(y,{}),Object(g.jsx)(w,{}),Object(g.jsx)(u.a,{mx:5,my:5,children:Object(g.jsx)(k,{onSubmit:t,initialValue:"\u5927\u962a",label:"Region"})}),Object(g.jsx)(_,{onClick:t})]})}var B=n(79),z=Object(b.a)((function(e){return{root:{width:"100%",height:"30vh"}}}));function M(e){var t=z();return Object(g.jsx)("img",{className:t.root,src:L,alt:"alt"})}var R=n(17),V=n(176),W=n(121),A=n(182),G=n(183),E=n(181),K=n(180),U=n(200),H=n(80),J=n.n(H),Q=n(81),Y=n.n(Q),Z=Object(b.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},form:{width:"50vw"}}}));function X(e){var t=Z(),n=r.a.useState(["wifi"]),c=Object(s.a)(n,2),i=c[0],o=c[1],l=Object(a.useState)(""),j=Object(s.a)(l,2),b=j[0],d=j[1],p=Object(a.useState)(""),h=Object(s.a)(p,2),x=h[0],f=h[1],m=function(e){return function(){var t=i.indexOf(e),n=Object(R.a)(i);-1===t?n.push(e):n.splice(t,1),o(n)}};return Object(g.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={origin:b,destination:x};e.onSubmit(n)},children:[Object(g.jsxs)(V.a,{subheader:Object(g.jsx)(K.a,{children:"Settings"}),className:t.root,children:[Object(g.jsxs)(W.a,{children:[Object(g.jsx)(E.a,{primary:"\u51fa\u767a"}),Object(g.jsx)(S.a,{required:!0,variant:"filled",onChange:function(e){d(e.target.value)}})]}),Object(g.jsxs)(W.a,{children:[Object(g.jsx)(E.a,{primary:"\u5230\u7740"}),Object(g.jsx)(S.a,{variant:"filled",onChange:function(e){f(e.target.value)}})]}),Object(g.jsxs)(W.a,{children:[Object(g.jsx)(A.a,{children:Object(g.jsx)(J.a,{})}),Object(g.jsx)(E.a,{id:"switch-list-label-wifi",primary:"Wi-Fi"}),Object(g.jsx)(G.a,{children:Object(g.jsx)(U.a,{edge:"end",onChange:m("wifi"),checked:-1!==i.indexOf("wifi"),inputProps:{"aria-labelledby":"switch-list-label-wifi"}})})]}),Object(g.jsxs)(W.a,{children:[Object(g.jsx)(A.a,{children:Object(g.jsx)(Y.a,{})}),Object(g.jsx)(E.a,{id:"switch-list-label-bluetooth",primary:"Bluetooth"}),Object(g.jsx)(G.a,{children:Object(g.jsx)(U.a,{edge:"end",onChange:m("bluetooth"),checked:-1!==i.indexOf("bluetooth"),inputProps:{"aria-labelledby":"switch-list-label-bluetooth"}})})]})]}),Object(g.jsx)(u.a,{display:"flex",justifyContent:"center",children:Object(g.jsx)(O.a,{type:"submit",variant:"contained",children:"PLAN!"})})]})}var $=Object(b.a)((function(e){return{root:{width:"80vw"}}}));function ee(e){var t=$(),n=Object(l.f)(),a=Object(l.g)().state.region;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(y,{}),Object(g.jsx)(M,{region:a}),Object(g.jsx)(u.a,{display:"flex",justifyContent:"center",children:Object(g.jsx)(u.a,{className:t.root,children:Object(g.jsx)(X,{onSubmit:function(e){n.push("/plan",Object(B.a)({region:a},e))}})})})]})}var te=n(15),ne=n.n(te),ae=n(28);Object(b.a)((function(e){return{root:{height:"30vh"}}}));function re(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{ref:e.mapContainerRef,style:{height:"30vh"},children:"I can use the DOM with react ref"})})}var ce=n(82),ie=n.n(ce),se=n(83),oe=n.n(se),le=Object(b.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},imageList:{},icon:{color:"rgba(255, 255, 255, 0.54)"},addIcon:{width:50,height:50}}}));function je(e){for(var t=le(),n=[],a=0;a<5;a++){var r={img:L,title:"Osaka",author:"author"};n.push(r)}var c=e.spots;return null==c?null:Object(g.jsx)("div",{className:t.root,children:Object(g.jsxs)(C.a,{rowHeight:180,className:t.imageList,children:[Object(g.jsx)(P.a,{cols:2,style:{height:"auto"},children:Object(g.jsx)(K.a,{component:"div",children:"December"})},"Subheader"),c.map((function(e){return Object(g.jsxs)(P.a,{children:[Object(g.jsx)("img",{src:null==e.photos?null:e.photos[0].getUrl(),alt:e.name}),Object(g.jsx)(N.a,{title:e.name,subtitle:Object(g.jsxs)("span",{children:["by: ",e.name]}),actionIcon:Object(g.jsx)(x.a,{"aria-label":"info about ".concat(e.name),className:t.icon,children:Object(g.jsx)(ie.a,{})})})]},null==e.photos?null:e.photos[0].getUrl())})),Object(g.jsx)(P.a,{children:Object(g.jsx)(u.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",children:Object(g.jsx)(x.a,{onClick:e.onClick,children:Object(g.jsx)(oe.a,{fontSize:"large",className:t.addIcon})})})})]})})}function ue(e){var t=Object(l.f)(),n=Object(a.useContext)(_e),r=n.spots,c=(n.plan,n.legs,n.region),i=n.setPlan,o=n.setSpots,j=n.setLegs,u=function(){var n=Object(ae.a)(ne.a.mark((function n(){var a,l,u,b,d,p;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.google,n.next=3,Be(a,c,"\u5927\u962a\u99c5","\u8431\u5d8b\u99c5",r);case 3:l=n.sent,u=Object(s.a)(l,3),b=u[0],d=u[1],p=u[2],i(d),o(b),j(p),t.push("/plan");case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(a.useEffect)((function(){console.log("edit")}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(je,{onClick:function(){t.push("/plan/add")},spots:e.spots}),Object(g.jsx)(X,{onSubmit:u}),Object(g.jsx)(O.a,{type:"submit",variant:"contained",onClick:function(){t.push("/plan")},children:"\u8f9e\u3081\u308b"})]})}var be=n(190),de=n(184),pe=n(186),he=n(188),Oe=n(189),xe=n(185),fe=n(187),me=n(86),ge=n(84),ve=n.n(ge),ye=n(202),we=Object(b.a)((function(e){return{paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main}}}));function Se(e){var t=we(),n=e.plan,a=e.legs;if(null==n||null==a)return null;for(var r=[],c=0;c<n.length;c++){var i=Object(g.jsxs)(de.a,{children:[Object(g.jsx)(xe.a,{style:{flex:.1},children:Object(g.jsx)(h.a,{variant:"body2",color:"textSecondary",children:n[c].arrivalTime.text})}),Object(g.jsxs)(pe.a,{children:[Object(g.jsx)(fe.a,{children:Object(g.jsx)(ye.a,{alt:"Remy Sharp",src:null==n[c].photos?null:n[c].photos[0].getUrl()})}),Object(g.jsx)(he.a,{})]}),Object(g.jsx)(Oe.a,{children:Object(g.jsxs)(me.a,{elevation:3,className:t.paper,children:[Object(g.jsx)(h.a,{variant:"h6",component:"h1",children:n[c].name}),Object(g.jsxs)(h.a,{children:["stay time: ",n[c].stayTime]})]})})]});r.push(i);var s=Object(g.jsxs)(de.a,{children:[Object(g.jsx)(xe.a,{style:{flex:.1},children:Object(g.jsx)(h.a,{variant:"body2",color:"textSecondary",children:n[c].arrivalTime.text})}),Object(g.jsxs)(pe.a,{children:[Object(g.jsx)(fe.a,{children:Object(g.jsx)(ye.a,{children:Object(g.jsx)(ve.a,{})})}),Object(g.jsx)(he.a,{})]}),Object(g.jsx)(Oe.a,{children:Object(g.jsx)(u.a,{display:"flex",alignItems:"center",height:"100%",children:"17min by transit"})})]});r.push(s)}return Object(g.jsx)(be.a,{children:r})}var ke=n(191),Ce=n(192),Pe=n(195),Ne=n(194),De=n(193),Ie=Object(b.a)({root:{},media:{height:140}});function Le(e){var t=Ie(),n=e.place;return null==n?null:(console.log(n),Object(g.jsxs)(ke.a,{className:t.root,children:[Object(g.jsxs)(Ce.a,{children:[Object(g.jsx)(De.a,{className:t.media,image:n[0].photos[0].getUrl(),title:"Contemplative Reptile"}),Object(g.jsxs)(Ne.a,{children:[Object(g.jsx)(h.a,{gutterBottom:!0,variant:"h5",component:"h2",children:n[0].name}),Object(g.jsx)(h.a,{variant:"body2",color:"textSecondary",component:"p",children:"Lizards are a widespread group of squamate reptiles, with over 6,000 species, ranging across all continents except Antarctica"})]})]}),Object(g.jsx)(Pe.a,{children:Object(g.jsx)(O.a,{size:"small",color:"primary",onClick:e.onClick,children:"ADD"})})]}))}function Fe(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(null),o=Object(s.a)(i,2),j=o[0],b=o[1],d=Object(l.f)(),p=e.spots,h=function(){var t=Object(ae.a)(ne.a.mark((function t(n){var a,c,i;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=e.google,c=e.map,t.next=4,Te(a,c,r);case 4:i=t.sent,new a.maps.Marker({position:{lat:i[0].geometry.location.lat(),lng:i[0].geometry.location.lng()},label:"!",map:c}),b(i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(u.a,{mx:5,my:5,children:[Object(g.jsx)("form",{onSubmit:h,children:Object(g.jsx)(S.a,{fullWidth:!0,variant:"filled",onChange:function(e){c(e.target.value)}})}),Object(g.jsx)(u.a,{my:5,children:Object(g.jsx)(Le,{place:j,onClick:function(){console.log(j),p.push(j[0]),d.push("/plan/edit")}})}),Object(g.jsx)(u.a,{display:"flex",justifyContent:"center",my:5,children:Object(g.jsx)(O.a,{type:"submit",variant:"contained",onClick:function(){d.push("/plan/edit")},children:"\u623b\u308b"})})]})})}var Te=function(){var e=Object(ae.a)(ne.a.mark((function e(t,n,a,r){var c,i,s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new t.maps.places.PlacesService(n),i={query:a,fields:["name","geometry","formatted_address","photos"]},null!=r&&(i.locationBias={lat:r.lat(),lng:r.lng()}),e.next=5,new Promise((function(e){c.findPlaceFromQuery(i,(function(n,a){a===t.maps.places.PlacesServiceStatus.OK&&e(n)}))}));case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),_e=Object(a.createContext)();function qe(e){var t=Object(a.useState)(null),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(null),o=Object(s.a)(i,2),b=o[0],d=o[1],p=Object(a.useState)(null),h=Object(s.a)(p,2),x=h[0],f=h[1],m=Object(a.useState)(null),v=Object(s.a)(m,2),w=v[0],S=v[1],k=Object(l.f)(),C=(Object(l.g)(),Object(a.useRef)(null)),P=Object(a.useState)(null),N=Object(s.a)(P,2),D=N[0],I=N[1],L=Object(a.useState)(null),F=Object(s.a)(L,2),T=F[0],_=F[1],q={plan:r,setPlan:c,spots:b,setSpots:d,legs:x,setLegs:f,region:w,setRegion:S};Object(a.useEffect)(Object(ae.a)(ne.a.mark((function e(){var t,n,a,r,i,o,l,u,b,p,h,O;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("plan"),"AIzaSyCkNip5D4glIDSddF__OlVzY1ovG5yVf7g",t={zoom:12,center:{lat:35.6432027,lng:139.6729435}},n=new j.a({apiKey:"AIzaSyCkNip5D4glIDSddF__OlVzY1ovG5yVf7g",version:"weekly",libraries:["places"]}),e.next=6,n.load().then((function(e){return e}));case 6:return a=e.sent,I(a),r=new a.maps.Map(C.current,t),_(r),"\u5927\u962a","\u5927\u962a\u99c5","\u8431\u5d8b\u99c5",e.next=13,Ve(a,r,"\u5927\u962a");case 13:return i=e.sent,S(i),e.next=17,We(a,r,"\u89b3\u5149",i[0].geometry.location);case 17:return o=e.sent,e.next=20,Be(a,i,"\u5927\u962a\u99c5","\u8431\u5d8b\u99c5",o.slice(0,5));case 20:for(l=e.sent,u=Object(s.a)(l,3),b=u[0],p=u[1],h=u[2],c(p),f(h),d(b),O=0;O<p.length;O++)new a.maps.Marker({position:{lat:p[O].geometry.location.lat(),lng:p[O].geometry.location.lng()},label:String(O),map:r});r.setCenter({lat:p[0].geometry.location.lat(),lng:p[0].geometry.location.lng()}),console.log(i),console.log(o),console.log(p),console.log(h),console.log(b);case 35:case"end":return e.stop()}}),e)}))),[]);return Object(g.jsxs)(_e.Provider,{value:q,children:[Object(g.jsx)(y,{}),Object(g.jsx)(re,{mapContainerRef:C}),Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{path:"/plan/edit",children:Object(g.jsx)(ue,{plan:r,spots:b,region:w,google:D,setPlan:c,setSpots:d,setLegs:f})}),Object(g.jsx)(l.a,{path:"/plan/add",children:Object(g.jsx)(Fe,{google:D,map:T,plan:r,spots:b})}),Object(g.jsxs)(l.a,{path:"/plan",children:[Object(g.jsx)(Se,{plan:r,legs:x,spots:b}),Object(g.jsx)(u.a,{display:"flex",justifyContent:"center",children:Object(g.jsx)(O.a,{type:"submit",variant:"contained",onClick:function(){k.push("/plan/edit")},children:"EDIT"})})]})]})]})}function Be(e,t,n,a,r){return ze.apply(this,arguments)}function ze(){return(ze=Object(ae.a)(ne.a.mark((function e(t,n,a,r,c){var i,s,o,l,j;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.map((function(e){return{location:e.formatted_address,stopover:!0}})),e.next=3,Ae(t,a,r,i);case 3:return s=e.sent,(o=s.routes[0].legs).map((function(e){e.duration.value*=2})),l=Me(s,c),j=Re(l,o,s),console.log("makePlan"),e.abrupt("return",[l,j,o]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Me=function(e,t){return e.routes[0].waypoint_order.map((function(e){var n=t[e];return n.stayTime=3600,n}))},Re=function(e,t,n){var a=e.slice(),r={name:n.request.origin.query,geometry:{location:n.routes[0].legs[0].start_location},stayTime:0},c={name:n.request.destination.query,geometry:{location:n.routes[0].legs.slice(-1)[0].end_location},stayTime:0};a.unshift(r),a.push(c);for(var i=32400,s=0;s<a.length;s++)a[s].arrivalTime={text:Ge(i),value:i},s<t.length&&(i+=a[s].stayTime+t[s].duration.value);return a},Ve=function(){var e=Object(ae.a)(ne.a.mark((function e(t,n,a,r){var c,i,s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new t.maps.places.PlacesService(n),i={query:a,fields:["name","geometry","formatted_address"]},null!=r&&(i.locationBias={lat:r.lat(),lng:r.lng()}),e.next=5,new Promise((function(e){c.findPlaceFromQuery(i,(function(n,a){a===t.maps.places.PlacesServiceStatus.OK&&e(n)}))}));case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),We=function(){var e=Object(ae.a)(ne.a.mark((function e(t,n,a,r){var c,i,s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new t.maps.places.PlacesService(n),i={location:new t.maps.LatLng(r.lat(),r.lng()),radius:"5000",query:"\u89b3\u5149"},e.next=4,new Promise((function(e){c.textSearch(i,(function(n,a){a==t.maps.places.PlacesServiceStatus.OK&&e(n)}))}));case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(ae.a)(ne.a.mark((function e(t,n,a,r){var c,i,s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new t.maps.DirectionsService,i={origin:n,destination:a,travelMode:t.maps.TravelMode.DRIVING},null!=r&&(i.waypoints=r,i.optimizeWaypoints=!0),e.next=5,c.route(i).then((function(e){return e})).catch((function(e){return console.log("Directions request failed due to "+e)}));case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}();function Ge(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60);return"".concat(("00"+t).slice(-2),":").concat(("00"+n).slice(-2))}function Ee(){return Object(g.jsx)(o.a,{children:Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{path:"/condition",children:Object(g.jsx)(ee,{})}),Object(g.jsx)(l.a,{path:"/plan",children:Object(g.jsx)(qe,{})}),Object(g.jsx)(l.a,{path:"/",children:Object(g.jsx)(q,{})})]})})}var Ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,204)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};n(118);i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(Ee,{})}),document.getElementById("root")),Ke()}},[[119,1,2]]]);
//# sourceMappingURL=main.01be7603.chunk.js.map
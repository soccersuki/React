{"version":3,"sources":["MyContext.js","funcs/googleMapAPI.js","funcs/planFuncs.js","funcs/customHooks.js","Map.js","TextForm.js","Top.js","PlaceDetail.js","MediaCard.js","Carousel.js","Bottom.js","CustomizedTimeline.js","MySpeedDial.js","funcs/markerFuncs.js","MySnackbar.js","MyDialog.js","MyDrawer.js","MultipleSelect.js","MaterialUIPickers.js","ConditionPage.js","Home.js","FirstPage.js","App.js","reportWebVitals.js","index.js"],"names":["AppContext","createContext","MyContext","props","useState","google","setGoogle","map","setMap","plan","setPlan","condition","setCondition","open","handleClose","setSnackbarState","snackbarState","handleOpen","text","setDialogState","dialogState","status","top","left","bottom","right","toggle","anchor","content","setDrawerState","drawerState","contextValue","Provider","value","children","findPlace","query","location","a","service","maps","places","PlacesService","request","fields","locationBias","north","east","south","west","lat","lng","Promise","resolve","findPlaceFromQuery","results","PlacesServiceStatus","OK","place","findPlaces","bounds","getBounds","radius","textSearch","getDetail","placeId","getDetails","drivingDirection","origin","destination","waypoints","directionsService","DirectionsService","travelMode","TravelMode","DRIVING","optimizeWaypoints","route","then","response","catch","e","console","log","direction","makePlan","regionName","originName","destinationName","lunch","dinner","departureTime","arrivalTime","getPlaces","waypts","formatted_address","stopover","routes","legs","leg","setDuration","duration","waypoint_order","i","itinerary","setTime","insertPlace","type","label","num","allPlaces","concat","slice","length","Math","floor","getDurationStr","time","getTimeStr","geometry","goDirection","goLeg","backDirection","backLeg","newText","splice","h","m","str","useStyles","makeStyles","theme","root","Map","classes","useContext","mapContainerRef","useRef","useEffect","current","zoom","center","disableDefaultUI","addListener","handleClickPOI","ref","className","style","height","TextForm","initialValue","setText","onSubmit","preventDefault","document","activeElement","blur","Box","display","color","margin","InputBase","required","placeholder","size","fullWidth","onChange","target","Top","handleClick","id","onClick","chips","types","Chip","japanese","icon","backgroundColor","chipIndex","mx","Paper","mt","overflowX","whiteSpace","width","img","objectFit","PlaceDetail","detail","setDetail","place_id","src","photos","getUrl","Typography","gutterBottom","variant","component","name","alignItems","rating","Rating","precision","readOnly","user_ratings_total","Button","startIcon","marginTop","handleClickAdd","handleClickDelete","List","ListItem","button","divider","ListItemIcon","ListItemText","primary","padding","formatted_phone_number","website","noWrap","my","subheader","ListSubheader","disableSticky","reviews","review","Avatar","profile_photo_url","marginLeft","author_name","media","MediaCard","Card","CardActionArea","CardMedia","image","title","CardContent","CardActions","disableSpacing","Carousel","enableMouseEvents","index","carouselIndex","onChangeIndex","setCarouselIndex","panTo","handleChangeIndex","px","Bottom","Zoom","in","justifyContent","MyTimelineItem","TimelineItem","TimelineOppositeContent","flexGrow","oppositeContent","TimelineSeparator","TimelineConnector","separator","TimelineContent","DurationSelect","FormControl","Select","labelId","MenuItem","dense","CustomizedTimeline","setItinerary","Timeline","Skeleton","handleChange","overflow","position","p","Alert","severity","changed","Accordion","AccordionSummary","expandIcon","AccordionDetails","Badge","anchorOrigin","vertical","horizontal","badgeContent","transform","exampleWrapper","speedDial","actions","MySpeedDial","React","setOpen","SpeedDial","ariaLabel","SpeedDialIcon","onClose","onOpen","action","SpeedDialAction","tooltipTitle","addMarkers","infoWindow","InfoWindow","originMarker","addMarker","destinationMarker","markers","labelText","iconCode","fontFamily","fontSize","option","optimized","animation","Animation","DROP","marker","Marker","close","setContent","getTitle","getMap","MySnackbar","Snackbar","autoHideDuration","elevation","ScrollDialog","descriptionElementRef","descriptionElement","focus","Dialog","scroll","DialogTitle","indigo","DialogContent","dividers","MyDrawer","SwipeableDrawer","role","onKeyDown","formControl","minWidth","maxWidth","flexWrap","chip","noLabel","spacing","MenuProps","PaperProps","maxHeight","ITEM_HEIGHT","names","getStyles","personName","fontWeight","indexOf","typography","fontWeightRegular","fontWeightMedium","MultipleSelect","useTheme","InputLabel","multiple","state","event","setState","input","Input","renderValue","selected","MaterialUIPickers","utils","DateFnsUtils","TimePicker","selectedDate","handleDateChange","KeyboardButtonProps","SwitchListSecondary","checked","setChecked","setRegionName","setOriginName","setDestinationName","departureDate","Date","arrivalDate","setHours","setMinutes","setDepartureTime","setArrivalTime","querys","setQuerys","handleToggle","currentIndex","newChecked","push","handleSubmit","getHours","getMinutes","newPlan","disableGutters","TextField","Grid","container","item","xs","Collapse","date","ListItemSecondaryAction","Switch","edge","Home","setChipIndex","setPlaces","setMarkers","setDisplay","Loader","apiKey","version","libraries","load","useGoogle","deletePlace","window","innerHeight","FirstPage","timeout","onEnter","setTimeout","onExited","setFirstPage","App","firstPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f772c693.chunk.js","sourcesContent":["import { useState, createContext } from 'react'\n\nexport const AppContext = createContext();\n\nexport default function MyContext(props){\n  const [google, setGoogle] = useState(null);\n  const [map, setMap] = useState(null);\n  const [plan, setPlan] = useState(null);\n  const [condition, setCondition] = useState(null);\n  const [snackbarState, setSnackbarState] = useState({\n    open: false,\n    handleClose: () => setSnackbarState({...snackbarState, open: false}),\n    handleOpen: (text) => setSnackbarState({...snackbarState, open: true, text}),\n  });\n  const [dialogState, setDialogState] = useState({\n    open: false,\n    handleClose: () => setDialogState({...dialogState, open: false}),\n    handleOpen: (status) => setDialogState({...dialogState, open: true, status})\n  })\n  const [drawerState, setDrawerState] = useState({\n    open: {\n      top: false,\n      left: false,\n      bottom: false,\n      right: false,\n    },\n    toggle: (anchor, open, content) => setDrawerState({ ...drawerState, content, open: { ...drawerState.open, [anchor]: open }}),\n    anchor: 'bottom',\n  })\n  const contextValue = {\n    google, setGoogle,\n    map, setMap,\n    plan, setPlan,\n    condition, setCondition,\n    snackbarState,\n    dialogState,\n    drawerState,\n  }\n  return(\n    <AppContext.Provider value={contextValue}>\n      {props.children}\n    </AppContext.Provider>\n  )\n}\n","export const findPlace = async (google, map, query, location) => {\n  var service = new google.maps.places.PlacesService(map);\n  var request = {\n    query: query,\n    fields: ['name', 'geometry', 'formatted_address', 'photos'],\n  };\n  if(location == null){\n    request.locationBias = {north: 45.29328154474485, east: 153.2360484603554, south: 26.151593390188783, west: 126.5636657976794};\n  }\n  else{\n    request.locationBias = {lat: location.lat(), lng: location.lng()};\n  }\n  var place = await new Promise(resolve => {\n    service.findPlaceFromQuery(request, function(results, status) {\n      if (status === google.maps.places.PlacesServiceStatus.OK) {\n        resolve(results);\n      }\n    });\n  });\n  return place;\n}\n\nexport const findPlaces = async (google, map, query, location) => {\n  var service = new google.maps.places.PlacesService(map);\n  var request = {\n    query,\n  }\n  if(location == null){\n    // request.bounds = {north: 45.29328154474485, east: 153.2360484603554, south: 26.151593390188783, west: 126.5636657976794};\n    request.bounds = map.getBounds();\n  }\n  else{\n    request.location = {lat: location.lat(), lng: location.lng()};\n    request.radius = 50000;\n  }\n  var places = await new Promise(resolve => {\n    service.textSearch(request, (results, status) => {\n      if (status == google.maps.places.PlacesServiceStatus.OK) {\n        resolve(results);\n      }\n    })\n  })\n  return places;\n}\n\nexport const getDetail = async (google, map, placeId, fields) => {\n  var request = {\n    placeId,\n    fields\n  };\n\n  const service = new google.maps.places.PlacesService(map);\n  const place = await new Promise(resolve => {\n    service.getDetails(request, (results, status) => {\n      if (status == google.maps.places.PlacesServiceStatus.OK) {\n        resolve(results);\n      }\n    });\n  })\n  return place;\n}\n\nexport const drivingDirection = async (google, origin, destination, waypoints) => {\n  const directionsService = new google.maps.DirectionsService();\n  // const directionsRenderer = new google.maps.DirectionsRenderer({suppressPolylines: true});\n  // directionsRenderer.setMap(map);\n  var request = {\n    origin,\n    destination,\n    travelMode: google.maps.TravelMode.DRIVING,\n  };\n  if(waypoints != null){\n    request.waypoints = waypoints;\n    request.optimizeWaypoints = true;\n  }\n\n  var direction = await directionsService\n    .route(request)\n    .then((response) => {\n      // directionsRenderer.setDirections(response);\n      return response;\n    })\n    .catch((e) => console.log(\"Directions request failed due to \" + e));\n  return direction\n}\n","import { findPlace, findPlaces, drivingDirection, } from './googleMapAPI'\r\n\r\nexport async function makePlan(google, map, plan, condition){\r\n  var {regionName, originName, destinationName, lunch, dinner, departureTime, arrivalTime, status, place} = condition;\r\n  if(arrivalTime == null) arrivalTime = 21 * 3600\r\n  var [origin] = await findPlace(google, map, originName);\r\n  var [destination] = await findPlace(google, map, destinationName);\r\n  var places = await getPlaces(google, map, plan, departureTime, arrivalTime, lunch, dinner, status, regionName, place);\r\n  var waypts = places.map(place => {\r\n    return{\r\n      location: place.formatted_address,\r\n      stopover: true,\r\n    }\r\n  });\r\n  var direction = await drivingDirection(google, originName, destinationName, waypts);\r\n  direction.routes[0].legs.map(leg => { setDuration(leg, leg.duration.value * 2)});\r\n\r\n  places = direction.routes[0].waypoint_order.map(i => places[i]);\r\n\r\n  setDuration(origin, 0);\r\n  setDuration(destination, 0);\r\n  places.map(place => setDuration(place, 3600));\r\n\r\n  var itinerary = [origin, ...places, destination];\r\n  setTime(itinerary, direction.routes[0].legs, departureTime)\r\n\r\n  if(lunch) await insertPlace(google, map, itinerary, direction.routes[0].legs, places, 12 * 3600, '昼食', departureTime);\r\n  if(dinner) await insertPlace(google, map, itinerary, direction.routes[0].legs, places, 18 * 3600, '夕食', departureTime);\r\n\r\n  const alphabet = 'abcdefghijklmnopqrstuvwxyz';\r\n  places.map((place, i) => {\r\n    place.type = 'plan';\r\n    place.label = alphabet[i];\r\n  })\r\n  return {places, origin, destination, itinerary, legs: direction.routes[0].legs};\r\n}\r\n\r\nasync function getPlaces(google, map, plan, departureTime, arrivalTime, lunch, dinner, status, regionName, place){\r\n  var duration = (arrivalTime - departureTime);\r\n  if(lunch) duration -= 3600;\r\n  if(dinner) duration -= 3600;\r\n  var num = duration / (75 * 60)\r\n\r\n  var places = []\r\n  if(status != 'new') places = plan.places;\r\n  if(status == 'new' || place){\r\n    const allPlaces = await findPlaces(google, map, regionName + ' 観光');\r\n    places = places.concat(allPlaces.slice(0, num - places.length))\r\n  }\r\n  return places;\r\n}\r\n\r\nconst setDuration = (place, value) => {\r\n  place.duration = {\r\n    value: Math.floor(value),\r\n    text: getDurationStr(value),\r\n  }\r\n}\r\n\r\nconst getItinerary = (places, origin, destination, legs, departureTime) => {\r\n  var itinerary = places.slice();\r\n  itinerary.unshift(origin);\r\n  itinerary.push(destination);\r\n  return itinerary;\r\n}\r\n\r\nexport const setTime = (itinerary, legs, departureTime) => {\r\n  var time = departureTime;\r\n  for(var i = 0; i < itinerary.length; i++){\r\n    itinerary[i].arrivalTime = {\r\n      text: getTimeStr(time),\r\n      value: time,\r\n    };\r\n    time += itinerary[i].duration.value;\r\n    itinerary[i].departureTime = {\r\n      text: getTimeStr(time),\r\n      value: time,\r\n    }\r\n    if(i < legs.length){\r\n      time += legs[i].duration.value;\r\n    }\r\n  }\r\n}\r\n\r\nexport const insertPlace = async (google, map, itinerary, legs, places, time, query, departureTime) => {\r\n  for(var i = 0; i < itinerary.length - 1; i++){\r\n    if(itinerary[i].departureTime.value >= time){\r\n      var [lunch] = await findPlace(google, map, query, itinerary[i].geometry.location);\r\n      lunch.duration = {\r\n        value: 3600,\r\n        text: getDurationStr(3600),\r\n      }\r\n      var goDirection = await drivingDirection(google, itinerary[i].formatted_address, lunch.formatted_address);\r\n      var goLeg = goDirection.routes[0].legs[0];\r\n      var backDirection = await drivingDirection(google, lunch.formatted_address, itinerary[i+1].formatted_address);\r\n      var backLeg = backDirection.routes[0].legs[0];\r\n      goLeg.duration.value *= 2;\r\n      goLeg.duration.newText = getDurationStr(goLeg.duration.value);\r\n      backLeg.duration.value *= 2;\r\n      backLeg.duration.newText = getDurationStr(backLeg.duration.value);\r\n      itinerary.splice(i+1, 0, lunch);\r\n      legs.splice(i, 1, goLeg, backLeg);\r\n      places.splice(i+1, 0, lunch);\r\n      break;\r\n    }\r\n  }\r\n  setTime(itinerary, legs, departureTime);\r\n}\r\n\r\n\r\n\r\nfunction getTimeStr(time){\r\n  var h = Math.floor(time / 3600);\r\n  var m = Math.floor((time % 3600) / 60);\r\n  return `${('00' + h).slice(-2)}:${('00' + m).slice(-2)}`;\r\n}\r\nfunction getDurationStr(time){\r\n  var h = Math.floor(time / 3600);\r\n  var m = Math.floor((time % 3600) / 60);\r\n  var str = '';\r\n  if(h > 0) str += `${h}hour`;\r\n  if((m == 0 && h == 0) || m > 0){\r\n    str += `${m}min`;\r\n  }\r\n  return str;\r\n}\r\n","import { AppContext } from '../MyContext'\nimport { useEffect, useContext, } from 'react'\nimport { Loader } from \"@googlemaps/js-api-loader\"\nimport { findPlace, findPlaces, } from './googleMapAPI';\nimport { makePlan, insertLunch, } from './planFuncs';\n\nexport const useGoogle = () => {\n  const {google, setGoogle} = useContext(AppContext);\n  useEffect(() => {\n    const API_KEY = \"AIzaSyCkNip5D4glIDSddF__OlVzY1ovG5yVf7g\";\n    const loader = new Loader({\n      apiKey: API_KEY,\n      version: \"weekly\",\n      libraries: [\"places\"],\n    });\n    loader.load().then((google) => {\n      setGoogle(google);\n    })\n  }, [])\n}\n\nexport const usePlan = (cnt, setCnt, handleOpenS) => {\n  const {google, map, plan, setPlan, condition, } = useContext(AppContext);\n\n  useEffect(async () => {\n    if(google == null || map == null || condition == null) return;\n\n    const newPlan = await makePlan(google, map, plan, condition);\n    setPlan({...newPlan});\n    console.log(newPlan);\n    setCnt(cnt + 1)\n    handleOpenS('プランが完成しました')\n  }, [google, map, condition])\n}\n","import { useState, useRef, useEffect, useContext } from 'react'\r\n\r\nimport { AppContext } from './MyContext'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n  },\r\n}));\r\n\r\nexport default function Map(props){\r\n  const classes = useStyles();\r\n  const {google, map, setMap} = useContext(AppContext);\r\n  const mapContainerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if(google == null || mapContainerRef == null) return;\r\n    const initialConfig = {\r\n      zoom: 15,\r\n      center: { lat: 35.6432027, lng: 139.6729435 },\r\n      disableDefaultUI: true,\r\n    }\r\n    const map = new google.maps.Map(mapContainerRef.current, initialConfig);\r\n    map.addListener(\"click\", props.handleClickPOI);\r\n    setMap(map);\r\n  }, [google, mapContainerRef]);\r\n\r\n\r\n\r\n  return(\r\n    <>\r\n      <div ref={mapContainerRef} className={classes.root} style={{height: '100%'}}>I can use the DOM with react ref</div>\r\n    </>\r\n  )\r\n}\r\n","import { useState, } from 'react'\r\nimport {\r\n  Box,\r\n  InputAdornment,\r\n  InputBase,\r\n} from '@material-ui/core';\r\nimport LoyaltyIcon from '@material-ui/icons/Loyalty';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nexport default function TextForm(props){\r\n  const [text, setText] = useState(props.initialValue);\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const elem = document.activeElement;\r\n    elem.blur()\r\n    props.onSubmit(text);\r\n  }\r\n  const handleChange = (e) => {\r\n    setText(e.target.value);\r\n  }\r\n  return(\r\n    <form onSubmit={handleSubmit}>\r\n      <Box display='flex'>\r\n        <LoyaltyIcon color=\"action\" style={{margin: 10}}/>\r\n        <InputBase required placeholder=\"Search\" size=\"small\" fullWidth label={'SEARCH'} onChange={handleChange} value={text}/>\r\n        <SearchIcon color='action' style={{margin: 10}}/>\r\n      </Box>\r\n    </form>\r\n  )\r\n}\r\n","import TextForm from './TextForm'\r\nimport LoyaltyIcon from '@material-ui/icons/Loyalty';\r\nimport { Box, Chip, InputAdornment, Paper} from '@material-ui/core'\r\n\r\nexport default function Top(props){\r\n  const handleClick = (id) => () => {\r\n    props.onClick(id);\r\n  }\r\n  const chips = props.types.map((type, id) => (\r\n    <Chip label={type.japanese} size=\"small\" icon={type.icon} onClick={handleClick(id)} style={{margin: 5, backgroundColor: props.chipIndex == id ? 'blue': 'white'}} color={props.chipIndex == id ? 'primary': 'default'}/>\r\n  ))\r\n  return(\r\n    <Box mx={2}>\r\n      <Paper>\r\n        <TextForm onSubmit={props.onSubmit}/>\r\n      </Paper>\r\n      <Box mt={2}style={{overflowX: 'auto', whiteSpace: 'nowrap'}}>\r\n        {chips}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { Box, Typography, List, ListItem, ListItemIcon, ListItemText, Chip, Fab, ListSubheader, Button, Avatar, } from '@material-ui/core'\nimport { Rating } from '@material-ui/lab'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport RoomIcon from '@material-ui/icons/Room';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport PublicIcon from '@material-ui/icons/Public';\nimport SearchIcon from '@material-ui/icons/Search';\nimport NavigationIcon from '@material-ui/icons/Navigation';\n\nimport { useContext, useEffect, useState, } from 'react';\nimport { AppContext } from './MyContext'\n\nimport { getDetail } from './funcs/googleMapAPI';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%'\n  },\n  img: {\n    width: '100%',\n    height: 200,\n    objectFit: 'cover',\n  }\n}));\n\nexport default function PlaceDetail(props){\n  const {place} = props;\n  const classes = useStyles();\n  const { google, map, plan, } = useContext(AppContext);\n  const [detail, setDetail] = useState(null);\n\n  useEffect(() => {\n    console.log(place)\n    if(place == null) return;\n    (async() => {\n      const fields = ['geometry', 'name', 'formatted_address', 'photos', 'opening_hours', 'formatted_phone_number', 'website', 'url', 'reviews', 'rating', 'user_ratings_total']\n      const detail = await getDetail(google, map, place.place_id, fields)\n      setDetail(detail)\n      console.log(detail)\n    })()\n  }, [])\n\n  if(place == null) return;\n\n  return(\n    <Box className={classes.root}>\n      <img src={place.photos?.[0].getUrl() ?? detail?.photos?.[0].getUrl()} className={classes.img}/>\n      <Box>\n        <Box mx={2}>\n        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n          {place.name ?? detail?.name}\n        </Typography>\n        <Typography gutterBottom variant=\"body2\" color=\"textSecondary\" component=\"p\">\n          <Box display=\"flex\" alignItems=\"center\">\n            {place.rating ?? detail?.rating}\n            <Rating name=\"read-only\" value={place.rating ?? detail?.rating} precision={0.5} readOnly size='small' />\n            ({place.user_ratings_total ?? detail?.rating})\n          </Box>\n        </Typography>\n        {plan != null && place.type == null &&\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              fullWidth\n              startIcon={<NavigationIcon />}\n              style={{marginTop: 20}}\n              onClick={() => props.handleClickAdd(plan, detail, props.id)}\n            >\n              Add\n            </Button>\n        }\n        {plan != null && place.type != null &&\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            fullWidth\n            startIcon={<NavigationIcon />}\n            style={{marginTop: 20}}\n            onClick={() => props.handleClickDelete(plan, detail, props.id)}\n          >\n            Delete\n          </Button>\n        }\n\n        </Box>\n        <List>\n          <ListItem button divider>\n            <ListItemIcon>{<RoomIcon/>}</ListItemIcon>\n            <ListItemText primary={<Typography variant='body2' style={{padding: '5px 0'}}>{place.formatted_address ?? detail?.formatted_address}</Typography>} />\n          </ListItem>\n          <ListItem button divider>\n            <ListItemIcon>{<AccessTimeIcon />}</ListItemIcon>\n            <ListItemText primary={<Typography variant='body2' style={{padding: '5px 0'}}>{'営業中'}</Typography>} />\n          </ListItem>\n          {detail != null && detail.formatted_phone_number != null && (\n            <ListItem button divider>\n              <ListItemIcon>{<PhoneIcon />}</ListItemIcon>\n              <ListItemText primary={<Typography variant='body2' style={{padding: '5px 0'}}>{detail.formatted_phone_number}</Typography>} />\n            </ListItem>\n          )}\n          {detail != null && detail.website != null && (\n            <ListItem divider>\n              <ListItemIcon>{<PublicIcon />}</ListItemIcon>\n              <ListItemText primary={<Typography variant='body2' noWrap style={{padding: '5px 0'}}>{detail.website}</Typography>} />\n            </ListItem>\n          )}\n          <ListItem button divider>\n            <ListItemIcon>{<SearchIcon />}</ListItemIcon>\n            <ListItemText primary={<Typography variant='body2' style={{padding: '5px 0'}}>{'googleで検索'}</Typography>} />\n          </ListItem>\n        </List>\n        <Box my={2}>\n        <List subheader={<ListSubheader disableSticky><Typography variant='h6'>クチコミ</Typography></ListSubheader>}>\n          {detail?.reviews?.map?.(review => (\n            <ListItem divider >\n              <Box>\n                <Box display='flex'alignItems=\"center\">\n                  <Avatar aria-label=\"recipe\" src={review.profile_photo_url}/>\n                  <Typography style={{marginLeft: 10}}>{review.author_name}</Typography>\n                </Box>\n                {<Rating name=\"read-only\" value={review.rating} precision={0.5} readOnly size='small' />}\n                <Typography variant='body2'>{review.text}</Typography>\n              </Box>\n            </ListItem>\n          ))}\n        </List>\n        </Box>\n      </Box>\n    </Box>\n  )\n}\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport { Box, Typography, Button } from '@material-ui/core'\r\nimport { Rating } from '@material-ui/lab'\r\nimport PlaceDetail from './PlaceDetail'\r\n\r\nimport { useContext, } from 'react'\r\nimport {AppContext, } from './MyContext'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: '100%',\r\n    width: '100%',\r\n  },\r\n  media: {\r\n    height: 100,\r\n  },\r\n}));\r\n\r\nexport default function MediaCard(props) {\r\n  const classes = useStyles();\r\n  const { place } = props;\r\n  const { plan, drawerState, } = useContext(AppContext)\r\n  if(place == null) return null;\r\n\r\n  const handleClick = () => {\r\n    drawerState.toggle('bottom', true, <PlaceDetail {...props}/>)\r\n  }\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea onClick={handleClick}>\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={place.photos == null ? null : place.photos[0].getUrl()}\r\n          title=\"Contemplative Reptile\"\r\n        />\r\n        <CardContent>\r\n          <Typography variant=\"h6\" component=\"h6\" noWrap>\r\n            {place.name}\r\n          </Typography>\r\n          <Typography gutterBottom variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            <Box display=\"flex\" alignItems=\"center\">\r\n              {place.rating}\r\n              <Rating name=\"read-only\" value={place.rating} precision={0.5} readOnly size='small' />\r\n              ({place.user_ratings_total})\r\n            </Box>\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      {plan != null && (\r\n        <CardActions disableSpacing>\r\n          {place.type == null ?\r\n            <Button size=\"small\" color=\"primary\" onClick={() => props.handleClickAdd(plan, place, props.id)}>\r\n              ADD\r\n            </Button>\r\n            :\r\n            <Button size=\"small\" color=\"primary\" onClick={() => props.handleClickDelete(plan, place, props.id)}>\r\n              DELETE\r\n            </Button>\r\n          }\r\n        </CardActions>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n","import SwipeableViews from 'react-swipeable-views';\r\nimport MediaCard from './MediaCard';\r\nimport { Box } from '@material-ui/core';\r\nimport { useState, useContext, useEffect} from 'react'\r\nimport { AppContext, } from './MyContext'\r\n\r\nexport default function Carousel(props){\r\n  const { map, } = useContext(AppContext)\r\n  const { places } = props;\r\n  const handleChangeIndex = (index) => {\r\n    props.setCarouselIndex(index);\r\n    map.panTo({lat: places[index].geometry.location.lat(), lng: places[index].geometry.location.lng()})\r\n  }\r\n\r\n  if(places == null) return;\r\n  return(\r\n    <SwipeableViews enableMouseEvents index={props.carouselIndex} onChangeIndex={(index) => handleChangeIndex(index)} style={{padding: '0 30px'}}>\r\n      {places.map((place, id) => (\r\n        <Box px={1}>\r\n          <MediaCard place={place} id={id} handleClickDelete={props.handleClickDelete} handleClickAdd={props.handleClickAdd}/>\r\n        </Box>\r\n      ))}\r\n    </SwipeableViews>\r\n  )\r\n};\r\n","import { Box, Zoom, } from '@material-ui/core'\r\nimport Carousel from './Carousel'\r\n\r\nexport default function Bottom(props){\r\n  if(props.places == null) return null;\r\n\r\n  return(\r\n    <Zoom in={props.display}>\r\n      <Box display='flex' justifyContent='center'>\r\n        <Box width='100%'>\r\n          <Carousel {...props}/>\r\n        </Box>\r\n      </Box>\r\n    </Zoom>\r\n  )\r\n}\r\n","import Timeline from '@material-ui/lab/Timeline';\r\nimport TimelineItem from '@material-ui/lab/TimelineItem';\r\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator';\r\nimport TimelineConnector from '@material-ui/lab/TimelineConnector';\r\nimport TimelineContent from '@material-ui/lab/TimelineContent';\r\nimport TimelineOppositeContent from '@material-ui/lab/TimelineOppositeContent';\r\nimport TimelineDot from '@material-ui/lab/TimelineDot';\r\nimport TrainIcon from '@material-ui/icons/Train';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport { Box, Avatar, Badge, Typography, FormControl, MenuItem, InputLabel, Select, Button} from '@material-ui/core'\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport NavigationIcon from '@material-ui/icons/Navigation';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nimport { useContext, useState, useEffect } from 'react';\r\nimport { AppContext } from './MyContext'\r\n\r\nimport { setTime, } from './funcs/planFuncs'\r\n\r\nconst label = 'abcdefghijklmnopqrstuvwxyz';\r\n\r\nfunction MyTimelineItem(props){\r\n  return(\r\n    <TimelineItem>\r\n      <TimelineOppositeContent style={{ flexGrow: 0.1 }}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\">\r\n          {props.time}\r\n        </Typography>\r\n        {props.oppositeContent}\r\n      </TimelineOppositeContent>\r\n      <TimelineSeparator style={{ flexGrow: 0.3 }}>\r\n        <TimelineConnector />\r\n        <Box display='flex' justifyContent='center'>\r\n          <Box mx={1} my={1}>\r\n            {props.separator}\r\n          </Box>\r\n        </Box>\r\n        <TimelineConnector />\r\n      </TimelineSeparator>\r\n      <TimelineContent>\r\n        {props.content}\r\n      </TimelineContent>\r\n    </TimelineItem>\r\n  )\r\n}\r\n\r\nfunction DurationSelect(props){\r\n  return(\r\n    <FormControl>\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        value={props.initialValue}\r\n        onChange={(e) => props.onChange(e.target.value)}\r\n        label=\"Age\"\r\n      >\r\n        <MenuItem dense value={props.initialValue}>{props.initialValue}</MenuItem>\r\n        <MenuItem dense value={0}>0</MenuItem>\r\n        <MenuItem dense value={30}>30</MenuItem>\r\n        <MenuItem dense value={60}>60</MenuItem>\r\n        <MenuItem dense value={120}>120</MenuItem>\r\n        <MenuItem dense value={180}>180</MenuItem>\r\n      </Select>\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nexport default function CustomizedTimeline(props) {\r\n  const {plan, setPlan, condition, dialogState, drawerState, } = useContext(AppContext);\r\n  const [itinerary, setItinerary] = useState(plan?.itinerary);\r\n\r\n  useEffect(() => {\r\n    console.log('timeline')\r\n  }, [])\r\n\r\n  if(plan == null){\r\n    return(\r\n      <Timeline>\r\n        {[0, 1, 2, 3, 4].map(() => {\r\n          return(\r\n            <MyTimelineItem\r\n              time={<Skeleton />}\r\n              content={<Typography variant=\"h1\"><Skeleton /></Typography>}\r\n              separator={<Skeleton variant=\"circle\"><Avatar /></Skeleton>}\r\n            />\r\n          )\r\n        })}\r\n      </Timeline>\r\n    )\r\n  }\r\n\r\n  const {legs} = plan;\r\n\r\n  const handleChange = (place, value) => {\r\n    place.duration.value = value * 60;\r\n    setTime(itinerary, legs, condition.departureTime)\r\n    setItinerary([...itinerary]);\r\n    setPlan(plan)\r\n  }\r\n  const handleClick = () => {\r\n    drawerState.toggle('bottom', false)\r\n    dialogState.handleOpen('update')\r\n  }\r\n\r\n  return(\r\n    <Box height='100%' style={{overflow: 'scroll'}}>\r\n      <Box width='100%'>\r\n        <Box style={{position: 'relative'}}>\r\n          <img src={plan.itinerary[1].photos[0].getUrl()} style={{height: 200, width: '100%'}}/>\r\n          <Box display=\"flex\"p={2} style={{position: 'absolute', bottom: 0}}>\r\n            <Avatar>\r\n              <NavigationIcon />\r\n            </Avatar>\r\n            <Typography variant='h5' style={{color: 'white'}}>{condition.regionName}旅行</Typography>\r\n          </Box>\r\n        </Box>\r\n\r\n        <Box p={1}>\r\n          <Alert severity=\"warning\">\r\n            <Box>時間は目安です</Box>\r\n            <Box>閉店しているかも</Box>\r\n            {plan.changed && (\r\n              <Box>\r\n                スポットが変わりました\r\n                <Button color=\"primary\" onClick={handleClick}>更新</Button>\r\n              </Box>\r\n            )}\r\n          </Alert>\r\n        </Box>\r\n      </Box>\r\n      <Timeline>\r\n        {itinerary.map((place, i) => {\r\n          return(\r\n            <Box>\r\n              <MyTimelineItem time={place.arrivalTime.text}\r\n                content={\r\n                  <Accordion>\r\n                    <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                      <Box>\r\n                        <Typography variant=\"h6\" component=\"h1\">{place.name}</Typography>\r\n                        <Typography variant='caption'>\r\n                          <Box display=\"flex\" alignItems=\"center\">\r\n                            {place.rating}\r\n                            <Rating name=\"read-only\" value={place.rating} precision={0.5} readOnly size='small' />\r\n                          </Box>\r\n                        </Typography>\r\n                      </Box>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n                      <Typography variant='body2'>\r\n                        <Box display=\"flex\" alignItems=\"center\">\r\n                          <Box>滞在時間:</Box>\r\n                          <DurationSelect initialValue={place.duration.value / 60} onChange={(value) => handleChange(place, value)}/>\r\n                          <Box>分</Box>\r\n                        </Box>\r\n                      </Typography>\r\n                    </AccordionDetails>\r\n                  </Accordion>\r\n                }\r\n                separator={\r\n                  <Badge anchorOrigin={{ vertical: 'bottom', horizontal: 'right',}} badgeContent={place.label} color=\"secondary\">\r\n                    <Avatar src={place.photos == null ? null: place.photos[0].getUrl()} />\r\n                  </Badge>\r\n                }\r\n              />\r\n              {i < legs.length && (\r\n                <MyTimelineItem place={place} leg={legs[i]} time={place.departureTime.text}\r\n                  content={\r\n                    <Box display=\"flex\" alignItems='center' height='100%'>\r\n                      電車で\r\n                      <DurationSelect initialValue={Math.floor(legs[i].duration.value / 60)} onChange={(value) => handleChange(legs[i], value)}/>\r\n                      分\r\n                    </Box>}\r\n                  separator={<TrainIcon />}\r\n                />)\r\n              }\r\n            </Box>\r\n          )\r\n        })\r\n      }\r\n      </Timeline>\r\n    </Box>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport SpeedDial from '@material-ui/lab/SpeedDial';\r\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\r\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\r\n\r\nimport ScheduleIcon from '@material-ui/icons/Schedule';\r\nimport UpdateIcon from '@material-ui/icons/Update';\r\nimport NewReleasesIcon from '@material-ui/icons/NewReleases';\r\n\r\nimport CustomizedTimeline from './CustomizedTimeline'\r\nimport { useContext, } from 'react';\r\nimport { AppContext } from './MyContext'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    transform: 'translateZ(0px)',\r\n    flexGrow: 1,\r\n  },\r\n  exampleWrapper: {\r\n    position: 'relative',\r\n    height: 180,\r\n  },\r\n  speedDial: {\r\n    position: 'absolute',\r\n  },\r\n}));\r\n\r\nconst actions = [\r\n  { icon: <ScheduleIcon />, name: 'Timeline' },\r\n  { icon: <NewReleasesIcon />, name: 'New' },\r\n];\r\n\r\nexport default function MySpeedDial(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const { dialogState, drawerState, } = useContext(AppContext)\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClick = (id) => () => {\r\n    if(id == 0) drawerState.toggle('bottom', true, <CustomizedTimeline />)\r\n    else if(id == 1) dialogState.handleOpen('new');\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.exampleWrapper}>\r\n        <SpeedDial\r\n          ariaLabel=\"SpeedDial example\"\r\n          className={classes.speedDial}\r\n          icon={<SpeedDialIcon />}\r\n          onClose={handleClose}\r\n          onOpen={handleOpen}\r\n          open={open}\r\n          direction={'up'}\r\n        >\r\n          {actions.map((action, id) => (\r\n            <SpeedDialAction\r\n              key={action.name}\r\n              icon={action.icon}\r\n              tooltipTitle={action.name}\r\n              onClick={handleClick(id)}\r\n            />\r\n          ))}\r\n        </SpeedDial>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export function addMarkers(google, map, places, type, origin, destination){\r\n  const infoWindow = new google.maps.InfoWindow();\r\n  const originMarker = origin == null ? null : addMarker(google, map, infoWindow, origin, null)\r\n  const destinationMarker = destination == null ? null : addMarker(google, map, infoWindow, destination, null)\r\n  const markers = places?.map((place, id) => {\r\n    const labelText = type.name == 'plan' ? place.label : type.iconCode;\r\n    return addMarker(google, map, infoWindow, place, labelText, type.name == 'plan' ? null : 'Material Icons')\r\n  })\r\n  return {markers, originMarker, destinationMarker}\r\n}\r\n\r\nexport function addMarker(google, map, infoWindow, place, labelText, fontFamily){\r\n  const label = {\r\n    text: labelText, // codepoint from https://fonts.google.com/icons\r\n    color: \"#ffffff\",\r\n    fontSize: \"14px\"\r\n  }\r\n  if(fontFamily != null) label.fontFamily = fontFamily\r\n  const option = {\r\n    position: {\r\n      lat: place.geometry.location.lat(),\r\n      lng: place.geometry.location.lng(),\r\n    },\r\n    map: map,\r\n    label: label,\r\n    title: place.name,\r\n    optimized: false,\r\n    animation: google.maps.Animation.DROP,\r\n  }\r\n  const marker = new google.maps.Marker(option);\r\n  marker.addListener(\"click\", () => {\r\n    infoWindow.close();\r\n    infoWindow.setContent(marker.getTitle());\r\n    infoWindow.open(marker.getMap(), marker);\r\n  });\r\n  marker.setMap(map)\r\n  return marker;\r\n}\r\n","import Alert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nexport default function MySnackbar(props){\r\n  return(\r\n    <Snackbar open={props.open} autoHideDuration={3000} onClose={props.handleClose}>\r\n      <Alert elevation={6} variant=\"filled\" onClose={props.handleClose} severity=\"success\">\r\n        {props.text}\r\n      </Alert>\r\n    </Snackbar>\r\n  )\r\n}\r\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport { Box, Avatar, Typography, } from '@material-ui/core'\nimport NavigationIcon from '@material-ui/icons/Navigation';\n\nimport indigo from '@material-ui/core/colors/indigo';\n\nexport default function ScrollDialog(props) {\n  const handleClose = () => {\n    props.handleClose();\n  };\n\n  const descriptionElementRef = React.useRef(null);\n  React.useEffect(() => {\n    if (props.open) {\n      const { current: descriptionElement } = descriptionElementRef;\n      if (descriptionElement !== null) {\n        descriptionElement.focus();\n      }\n    }\n  }, [props.open]);\n\n  return (\n    <div>\n      <Dialog\n        open={props.open}\n        onClose={handleClose}\n        scroll={'paper'}\n        aria-labelledby=\"scroll-dialog-title\"\n        aria-describedby=\"scroll-dialog-description\"\n      >\n        <DialogTitle style={{backgroundColor: indigo[500]}}>\n          <Box display=\"flex\">\n            <Avatar>\n              <NavigationIcon />\n            </Avatar>\n            <Typography variant='h4' style={{color: 'white', marginLeft: 10}}>Plan</Typography>\n          </Box>\n        </DialogTitle>\n        <DialogContent dividers={'paper' === 'paper'} >\n          {props.content}\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%',\r\n    height: '80vh',\r\n  }\r\n});\r\n\r\nexport default function MyDrawer(props) {\r\n  const classes = useStyles();\r\n\r\n  const handleOpen = () => {\r\n    props.toggle(props.anchor, true)\r\n  }\r\n  const handleClose = () => {\r\n    props.toggle(props.anchor, false);\r\n  }\r\n  const content = (anchor) => (\r\n    <div\r\n      className={classes.root}\r\n      role=\"presentation\"\r\n      onKeyDown={handleClose}\r\n    >\r\n      {props.content}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <SwipeableDrawer\r\n        anchor={props.anchor}\r\n        open={props.open[props.anchor]}\r\n        onClose={handleClose}\r\n        onOpen={handleOpen}\r\n      >\r\n        {content(props.anchor)}\r\n      </SwipeableDrawer>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Select from '@material-ui/core/Select';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Chip from '@material-ui/core/Chip';\nimport OutlinedInput from '@material-ui/core/OutlinedInput'\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    width: '100%',\n    minWidth: 120,\n    maxWidth: '100%',\n  },\n  chips: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  chip: {\n    margin: 2,\n  },\n  noLabel: {\n    marginTop: theme.spacing(3),\n  },\n}));\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n    },\n  },\n};\n\nconst names = [\n  '一人',\n  '友人',\n  'カップル',\n  '家族',\n  'せっかち',\n  'ゆっくり',\n  '男性におすすめ',\n  '女性におすすめ',\n  '定番',\n  '安さ重視',\n  '学生',\n];\n\nfunction getStyles(name, personName, theme) {\n  return {\n    fontWeight:\n      personName.indexOf(name) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\n\nexport default function MultipleSelect(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [personName, setPersonName] = React.useState([]);\n\n  const handleChange = (event) => {\n    props.setState(event.target.value);\n  };\n\n  const handleChangeMultiple = (event) => {\n    const { options } = event.target;\n    const value = [];\n    for (let i = 0, l = options.length; i < l; i += 1) {\n      if (options[i].selected) {\n        value.push(options[i].value);\n      }\n    }\n    props.setState(value);\n  };\n\n  return (\n    <>\n      <FormControl className={classes.formControl}>\n        <InputLabel id=\"demo-mutiple-chip-label\">{props.label}</InputLabel>\n        <Select\n          labelId=\"demo-mutiple-chip-label\"\n          id=\"demo-mutiple-chip\"\n          multiple\n          value={props.state}\n          onChange={handleChange}\n          input={<Input id=\"select-multiple-chip\" margin='dense'/>}\n          renderValue={(selected) => (\n            <div className={classes.chips}>\n              {selected.map((value) => (\n                <Chip size='small' key={value} label={value} className={classes.chip} />\n              ))}\n            </div>\n          )}\n          MenuProps={MenuProps}\n        >\n          {names.map((name) => (\n            <MenuItem dense key={name} value={name} style={getStyles(name, personName, theme)}>\n              {name}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    </>\n  );\n}\n","import 'date-fns'\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardTimePicker,\r\n  KeyboardDatePicker,\r\n  TimePicker,\r\n} from '@material-ui/pickers';\r\n\r\nexport default function MaterialUIPickers(props) {\r\n  return (\r\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n      <TimePicker\r\n        margin=\"dense\"\r\n        id=\"time-picker\"\r\n        label={props.label}\r\n        value={props.selectedDate}\r\n        onChange={props.handleDateChange}\r\n        KeyboardButtonProps={{\r\n          'aria-label': 'change time',\r\n        }}\r\n        style={{width: '100%',}}\r\n        size='small'\r\n      />\r\n    </MuiPickersUtilsProvider>\r\n  );\r\n}\r\n","import { useState, useContext, useEffect } from 'react'\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport { TextField, Button, Box, Collapse, Typography, Avatar, Grid, } from '@material-ui/core';\r\nimport NavigationIcon from '@material-ui/icons/Navigation';\r\n\r\nimport MultipleSelect from './MultipleSelect'\r\nimport MaterialUIPickers from './MaterialUIPickers'\r\n\r\nimport {AppContext} from './MyContext'\r\n\r\nimport {makePlan} from './funcs/planFuncs'\r\n\r\nexport default function SwitchListSecondary(props) {\r\n  const [checked, setChecked] = useState(['new']);\r\n  const [regionName, setRegionName] = useState('大阪');\r\n  const [originName, setOriginName] = useState('大阪駅');\r\n  const [destinationName, setDestinationName] = useState('大阪駅');\r\n  const departureDate = new Date();\r\n  const arrivalDate = new Date();\r\n  departureDate.setHours(9)\r\n  departureDate.setMinutes(0)\r\n  arrivalDate.setHours(21)\r\n  arrivalDate.setMinutes(0)\r\n  const [departureTime, setDepartureTime] = useState(departureDate);\r\n  const [arrivalTime, setArrivalTime] = useState(arrivalDate);\r\n  const [querys, setQuerys] = useState([])\r\n  const { google, map, plan, setPlan, condition, setCondition, snackbarState, dialogState} = useContext(AppContext);\r\n\r\n  useEffect(() => {\r\n    if(dialogState.status == 'update'){\r\n      handleToggle('new')()\r\n    }\r\n  }, [])\r\n\r\n  const handleToggle = (value) => () => {\r\n    const currentIndex = checked.indexOf(value);\r\n    const newChecked = [...checked];\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n    setChecked(newChecked);\r\n  };\r\n  const handleChangeRegionName = (e) => {\r\n    setRegionName(e.target.value);\r\n  }\r\n  const handleChangeOriginName = (e) => {\r\n    setOriginName(e.target.value);\r\n  }\r\n  const handleChangeDestinationName = (e) => {\r\n    setDestinationName(e.target.value);\r\n  }\r\n  const handleDepartureDateChange = (date) => {\r\n    setDepartureTime(date);\r\n  };\r\n  const handleArrivalDateChange = (date) => {\r\n    setArrivalTime(date);\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const condition = {\r\n      regionName,\r\n      originName,\r\n      destinationName,\r\n      place: checked.indexOf('place') != -1,\r\n      lunch: checked.indexOf('lunch') != -1,\r\n      dinner: checked.indexOf('dinner') != -1,\r\n      departureTime: departureTime.getHours() * 3600 + departureTime.getMinutes() * 60,\r\n      arrivalTime: arrivalTime.getHours() * 3600 + arrivalTime.getMinutes() * 60,\r\n      querys,\r\n      status: checked.indexOf('new') != -1 ? 'new' : 'update',\r\n    };\r\n    setCondition({...condition})\r\n    const newPlan = await makePlan(google, map, plan, condition);\r\n    setPlan({...newPlan});\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Box width='100%'>\r\n        <Box display=\"flex\" justifyContent=\"center\">\r\n          <Typography variant='h5'></Typography>\r\n        </Box>\r\n      </Box>\r\n      <Box color='text.secondary'>\r\n        <form onSubmit={handleSubmit}>\r\n          <List dense={false}>\r\n            <ListItem disableGutters>\r\n              <TextField label={<Typography component='body2'variant='body2'>エリア</Typography>} fullWidth margin='dense' required  onChange={handleChangeRegionName} value={regionName}/>\r\n            </ListItem>\r\n            <ListItem disableGutters>\r\n              <Grid container spacing={2}>\r\n              <Grid item xs={6}>\r\n              <TextField label={<Typography component='body2'variant='body2'>出発</Typography>} fullWidth margin='dense' required onChange={handleChangeOriginName} value={originName} />\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n              <TextField label={<Typography component='body2'variant='body2'>到着</Typography>} fullWidth margin='dense'onChange={handleChangeDestinationName} value={destinationName} />\r\n              </Grid>\r\n              </Grid>\r\n            </ListItem>\r\n            <Collapse in={checked.indexOf('checkBox') == -1}>\r\n              <ListItem disableGutters>\r\n              </ListItem>\r\n            </Collapse>\r\n            <ListItem disableGutters>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={6}>\r\n                  <MaterialUIPickers label={<Typography component='body2'variant='body2'>出発時間</Typography>} selectedDate={departureTime} handleDateChange={handleDepartureDateChange}/>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                  <MaterialUIPickers label={<Typography component='body2'variant='body2'>到着時間</Typography>} selectedDate={arrivalTime} handleDateChange={handleArrivalDateChange}/>\r\n                </Grid>\r\n              </Grid>\r\n            </ListItem>\r\n            <ListItem disableGutters>\r\n              <ListItemText primary={<Typography variant='body2'>新規作成</Typography>} />\r\n              <ListItemSecondaryAction>\r\n                <Switch\r\n                  edge=\"end\"\r\n                  onChange={handleToggle('new')}\r\n                  checked={checked.indexOf('new') !== -1}\r\n                  color=\"primary\"\r\n                />\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n            <Collapse in={checked.indexOf('new') == -1}>\r\n              <ListItem disableGutters>\r\n                <ListItemText primary={<Typography variant='body2'>スポットを自動で追加</Typography>} />\r\n                <ListItemSecondaryAction>\r\n                  <Switch\r\n                    edge=\"end\"\r\n                    onChange={handleToggle('place')}\r\n                    checked={checked.indexOf('place') !== -1}\r\n                    color=\"primary\"\r\n                  />\r\n                </ListItemSecondaryAction>\r\n              </ListItem>\r\n            </Collapse>\r\n            <ListItem disableGutters>\r\n              <ListItemText primary={<Typography variant='body2'>昼食を自動で追加</Typography>} />\r\n              <ListItemSecondaryAction>\r\n                <Switch\r\n                  edge=\"end\"\r\n                  onChange={handleToggle('lunch')}\r\n                  checked={checked.indexOf('lunch') !== -1}\r\n                  color=\"primary\"\r\n                />\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n            <ListItem disableGutters>\r\n              <ListItemText primary={<Typography variant='body2'>夕食を自動で追加</Typography>} />\r\n              <ListItemSecondaryAction>\r\n                <Switch\r\n                  edge=\"end\"\r\n                  onChange={handleToggle('dinner')}\r\n                  checked={checked.indexOf('dinner') !== -1}\r\n                  color=\"primary\"\r\n                />\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n            <ListItem disableGutters>\r\n              <MultipleSelect label={<Typography component='body2'variant='body2'>その他</Typography>} state={querys} setState={setQuerys}/>\r\n            </ListItem>\r\n          </List>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            fullWidth\r\n            startIcon={<NavigationIcon />}\r\n            type='submit'\r\n            style={{marginTop: 20}}\r\n          >\r\n            Plan\r\n          </Button>\r\n        </form>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n","import { useState, useContext, useEffect ,} from 'react'\r\nimport Map from './Map';\r\nimport {AppContext} from './MyContext'\r\nimport Top from './Top';\r\nimport Bottom from './Bottom';\r\nimport MySpeedDial from './MySpeedDial'\r\n\r\nimport { useGoogle } from './funcs/customHooks';\r\nimport { addMarkers, } from './funcs/markerFuncs';\r\nimport { findPlaces } from './funcs/googleMapAPI';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Box, } from '@material-ui/core'\r\n\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport LocalCafeIcon from '@material-ui/icons/LocalCafe';\r\nimport NatureIcon from '@material-ui/icons/Nature';\r\nimport PetsIcon from '@material-ui/icons/Pets';\r\nimport EmojiPeopleIcon from '@material-ui/icons/EmojiPeople';\r\nimport RestaurantIcon from '@material-ui/icons/Restaurant';\r\n\r\nimport MySnackbar from './MySnackbar';\r\nimport MyDialog from './MyDialog'\r\nimport MyDrawer from './MyDrawer'\r\nimport ConditionPage from './ConditionPage'\r\nimport PlaceDetail from './PlaceDetail'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    position: 'relative',\r\n  },\r\n}));\r\n\r\nconst types = [\r\n  {name: 'plan', japanese: 'プラン', query: '', icon: <FaceIcon />, iconCode: '\\ue87c'},\r\n  {name: 'touristAttractions', japanese: '観光スポット', query: '観光スポット', icon: <EmojiPeopleIcon />, iconCode: '\\uea1d'},\r\n  {name: 'restrant', japanese: 'レストラン', query: 'レストラン', icon: <RestaurantIcon />, iconCode: '\\ue56c'},\r\n  {name: 'park', japanese: '公園', query: '公園', icon: <NatureIcon />,iconCode: '\\ue406'},\r\n  {name: 'cafe', japanese: 'カフェ', query: 'カフェ', icon: <LocalCafeIcon />,iconCode: '\\ue541'},\r\n  {name: 'amusementPark', japanese: '遊園地', query: '遊園地', icon: <PetsIcon />,iconCode: '\\ue91d'},\r\n]\r\n\r\nexport default function Home(){\r\n  const classes = useStyles();\r\n\r\n  const [chipIndex, setChipIndex] = useState(0);\r\n  const { google, map, plan, setPlan, snackbarState, dialogState, drawerState} = useContext(AppContext)\r\n  const [places, setPlaces] = useState(null);\r\n  const [markers, setMarkers] = useState(null);\r\n  const [display, setDisplay] = useState(false);\r\n  const [carouselIndex, setCarouselIndex] = useState(0);\r\n\r\n  useGoogle();\r\n\r\n  const handleClick = async (id) => {\r\n    setChipIndex(id);\r\n    var places;\r\n    if(id == 0) places = plan?.places;\r\n    else places = await findPlaces(google, map, types[id].query);\r\n    setPlaces(places);\r\n  }\r\n  const handleSubmit = async (text) => {\r\n    setChipIndex(-1);\r\n    var places = await findPlaces(google, map, text);\r\n    setPlaces(places);\r\n  }\r\n\r\n  useEffect(() => {\r\n    snackbarState.handleOpen('プランを新規作成しましょう')\r\n    dialogState.handleOpen('new')\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if(plan == null) return;\r\n    var places\r\n    if(chipIndex == 0) places = plan?.places;\r\n    setPlaces(places)\r\n    dialogState.handleClose()\r\n    snackbarState.handleOpen('プランが完成しました')\r\n  }, [plan])\r\n\r\n  useEffect(() => {\r\n    if(places == null) return;\r\n    setCarouselIndex(0);\r\n    setDisplay(true);\r\n\r\n    var markers;\r\n    if(chipIndex == 0) markers = addMarkers(google, map, plan?.places, types[chipIndex], plan?.origin, plan?.destination)\r\n    else markers = addMarkers(google, map, places, chipIndex == -1 ? types[1] : types[chipIndex])\r\n    markers.markers.map((marker, id) => {\r\n      marker.addListener('click', ()=>{\r\n        for(var i = 0; i < places.length; i++){\r\n          if(places[i].name == marker.title){\r\n            setCarouselIndex(i)\r\n            break;\r\n          }\r\n        }\r\n      })\r\n    })\r\n    setMarkers(markers)\r\n    map.panTo({lat: places[0].geometry.location.lat(), lng: places[0].geometry.location.lng()})\r\n\r\n    return () => {\r\n      setDisplay(false);\r\n      if(markers != null){\r\n        markers.markers.map((marker) => marker.setMap(null));\r\n        if(markers.originMarker != null) markers.originMarker.setMap(null);\r\n        if(markers.destinationMarker != null) markers.destinationMarker.setMap(null);\r\n      }\r\n    }\r\n  }, [places])\r\n\r\n  const deletePlace = (id) => {\r\n    markers.markers[id]?.setMap(null);\r\n    markers.markers.splice(id, 1);\r\n    setMarkers(markers)\r\n    places.splice(id, 1);\r\n    setPlaces(places);\r\n    if(id < places.length) map.panTo({lat: places[id].geometry.location.lat(), lng: places[id].geometry.location.lng()})\r\n  }\r\n  const handleClickDelete = (plan, place, id) => {\r\n    if(id != null) deletePlace(id);\r\n    setPlan(plan);\r\n    plan.changed = true;\r\n    snackbarState.handleOpen('削除しました')\r\n    drawerState.toggle('bottom', false)\r\n    console.log(plan)\r\n  }\r\n  const handleClickAdd = (plan, place, id) => {\r\n    place.type = 'plan'\r\n    place.label = 'new';\r\n    plan.places.push(place);\r\n    plan.changed = true;\r\n    if(id != null) deletePlace(id);\r\n    setPlan(plan);\r\n    snackbarState.handleOpen('追加しました')\r\n    drawerState.toggle('bottom', false)\r\n  }\r\n  const handleClickPOI = (event) => {\r\n    if(event.placeId){\r\n      drawerState.toggle('bottom', true, <PlaceDetail place={{place_id: event.placeId}} handleClickAdd={handleClickAdd} handleClickDelete={handleClickDelete}/>);\r\n    }\r\n  }\r\n\r\n  return(\r\n    <Box className={classes.root}>\r\n      <div style={{height: window.innerHeight}}>\r\n        <Map handleClickPOI={handleClickPOI}/>\r\n      </div>\r\n      <Box style={{position: 'absolute', width: '100%', top: 20}}>\r\n        <Top onClick={handleClick} chipIndex={chipIndex} types={types} onSubmit={handleSubmit}/>\r\n      </Box>\r\n      <Box style={{position: 'absolute', width: '100%', bottom: 20}}>\r\n        <Bottom carouselIndex={carouselIndex} setCarouselIndex={setCarouselIndex} places={places} display={display} handleClickAdd={handleClickAdd} handleClickDelete={handleClickDelete}/>\r\n      </Box>\r\n      <Box style={{position: 'absolute', bottom: 20, right: 70}}>\r\n        <MySpeedDial />\r\n      </Box>\r\n      <MySnackbar {...snackbarState}/>\r\n      <MyDialog {...dialogState} content={<ConditionPage/>}/>\r\n      <MyDrawer {...drawerState}/>\r\n    </Box>\r\n  );\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { Box, Typography, Zoom, } from '@material-ui/core';\r\nimport LoyaltyIcon from '@material-ui/icons/Loyalty';\r\nimport { useState, } from 'react';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    height: window.innerHeight,\r\n    backgroundColor: 'pink',\r\n  },\r\n}));\r\nexport default function FirstPage(props){\r\n  const classes = useStyles();\r\n  const [display, setDisplay] = useState(true);\r\n  const handleEnter = () => {\r\n    setTimeout(() => {\r\n      setDisplay(false)\r\n    }, 1000)\r\n  }\r\n  return(\r\n    <Box className={classes.root} justifyContent=\"center\" alignItems=\"center\" display=\"flex\">\r\n      <Zoom in={display} timeout={300} onEnter={handleEnter} onExited={() => props.setFirstPage(false)}>\r\n        <Box mx='auto'>\r\n          <Box display=\"flex\" justifyContent=\"center\">\r\n            <LoyaltyIcon style={{ color: 'white', fontSize: 200 }}/>\r\n          </Box>\r\n        </Box>\r\n      </Zoom>\r\n    </Box>\r\n  )\r\n}\r\n","import { useState, createContext } from 'react'\nimport { makeStyles, } from '@material-ui/core/styles';\nimport { useGoogle } from './funcs/customHooks';\n\nimport Home from './Home';\nimport FirstPage from './FirstPage'\nimport MyContext from './MyContext'\n\n// export const AppContext = createContext();\n\nexport default function App() {\n  const [firstPage, setFirstPage] = useState(true);\n  \n  if(firstPage) return(\n    <FirstPage setFirstPage={setFirstPage}/>\n  )\n  return(\n    <MyContext>\n      <Home />\n    </MyContext>\n  )\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{123:function(e,t,n){},124:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),i=n.n(c),s=n(9),o=n(35),l=n(13),u=n(72),j=n(16),b=n(175),d=n(177),p=n(179),x=n(67),h=n(180),O=n(126),m=n(85),f=n.n(m),g=n(2),v=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function y(){var e=v(),t=Object(l.g)(),n=Object(l.f)(),r=Object(a.useContext)(st),c=r.condition,i=r.setCondition;console.log(t);return Object(g.jsx)("div",{className:e.root,children:Object(g.jsx)(d.a,{position:"static",children:Object(g.jsxs)(p.a,{children:[Object(g.jsx)(O.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(){"/plan/edit"==t.pathname&&(i(Object(j.a)(Object(j.a)({},c),{},{status:"cancel"})),n.push("/plan"))},children:Object(g.jsx)(f.a,{})}),Object(g.jsx)(x.a,{variant:"h6",className:e.title,children:"News"}),Object(g.jsx)(h.a,{color:"inherit",children:"Login"})]})})})}var k=n(208),w=n(86),C=n.n(w);function S(){return Object(g.jsx)(k.a,{height:"70vh",justifyContent:"center",alignItems:"center",display:"flex",bgcolor:"#3f51b5",children:Object(g.jsxs)(k.a,{mx:"auto",children:[Object(g.jsx)(k.a,{display:"flex",justifyContent:"center",children:Object(g.jsx)(C.a,{style:{color:"white",fontSize:200}})}),Object(g.jsx)(x.a,{variant:"h2",children:Object(g.jsx)(k.a,{color:"white",children:"Let's plan!"})}),Object(g.jsx)(x.a,{variant:"subtitle1",children:Object(g.jsx)(k.a,{color:"white",children:"\u65c5\u884c\u306e\u4e88\u5b9a\u3092\u81ea\u52d5\u3067\u4f5c\u6210"})})]})})}var M=n(207);function N(e){var t=Object(a.useState)(e.initialValue),n=Object(s.a)(t,2),r=n[0],c=n[1];return Object(g.jsx)("form",{onSubmit:function(t){t.preventDefault(),e.onSubmit(r)},children:Object(g.jsx)(M.a,{required:!0,fullWidth:e.fullWidth,id:"standard-basic",label:e.label,variant:"filled",onChange:function(e){c(e.target.value)},value:r})})}var T=n(182),P=n(183),_=n(184),I=Object(b.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},imageList:{flexWrap:"nowrap",transform:"translateZ(0)"},title:{color:"white"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}}));function D(e){var t=I(),n=e.itemData;return Object(g.jsx)("div",{className:t.root,children:Object(g.jsx)(T.a,{className:t.imageList,cols:2.5,rowHeight:120,children:n.map((function(n,a){return Object(g.jsxs)(P.a,{onClick:function(t){return e.onClick(t,a)},children:[Object(g.jsx)("img",{src:n.img,alt:n.name}),Object(g.jsx)(_.a,{title:n.name,classes:{root:t.titleBar,title:t.title}})]},n.img)}))})})}var q={Osaka:{name:"\u5927\u962a",originName:"\u5927\u962a\u99c5",img:n.p+"static/media/img_osaka.c9ba6993.jpg"},Tokyo:{name:"\u6771\u4eac",originName:"\u6771\u4eac\u99c5",img:n.p+"static/media/img_tokyo.ebbf7b3f.jpg"},Hokkaido:{name:"\u5317\u6d77\u9053",originName:"\u672d\u5e4c\u99c5",img:n.p+"static/media/img_hokkaido.bd87e191.jpg"}};function B(e){var t=[q.Osaka,q.Tokyo,q.Hokkaido];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a,{variant:"subtitle1",children:Object(g.jsx)(k.a,{color:"gray",children:"\u4eba\u6c17\u306e\u30a8\u30ea\u30a2"})}),Object(g.jsx)(D,{itemData:t,onClick:function(n,a){e.onClick(t[a])}})]})}var F=n(19),z=n.n(F),W=n(14),L=n(38);function G(e,t,n){var a="abcdefghijklmnopqrstuvwxyz",r={position:{lat:n[0].geometry.location.lat(),lng:n[0].geometry.location.lng()},map:t,icon:{url:"http://maps.google.com/mapfiles/ms/icons/flag.png"}},c=new e.maps.Marker(r);c.setMap(t);var i={position:{lat:n.slice(-1)[0].geometry.location.lat(),lng:n.slice(-1)[0].geometry.location.lng()},map:t,icon:{url:"http://maps.google.com/mapfiles/ms/icons/flag.png"}},s=new e.maps.Marker(i);s.setMap(t);for(var o=[],l=new e.maps.InfoWindow,u=function(){var r={position:{lat:n[j].geometry.location.lat(),lng:n[j].geometry.location.lng()},map:t,label:{text:a[(j-1)%a.length],color:"white"},title:n[j].name,optimized:!1},c=new e.maps.Marker(r);c.addListener("click",(function(){l.close(),l.setContent(c.getTitle()),l.open(c.getMap(),c)})),c.setMap(t),o.push(c)},j=1;j<n.length-1;j++)u();return t.setCenter({lat:n[0].geometry.location.lat(),lng:n[0].geometry.location.lng()}),{originMarker:c,destinationMarker:s,spotMarkers:o}}function R(e,t,n,a,r,c){return A.apply(this,arguments)}function A(){return(A=Object(L.a)(z.a.mark((function e(t,n,a,r,c,i){var s,o,l,u,j;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=i.map((function(e){return{location:e.formatted_address,stopover:!0}})),e.next=3,J(t,a,r,s);case 3:return o=e.sent,(l=o.routes[0].legs).map((function(e){e.duration.value*=2,e.duration.newText=Y(e.duration.value)})),u=V(o,i),j=E(u,l,o),e.abrupt("return",{spots:u,itinerary:j,legs:l});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=function(e,t){return e.routes[0].waypoint_order.map((function(e){var n=t[e];return n.stayTime={value:3600,text:Y(3600)},n}))},E=function(e,t,n){var a=e.slice(),r={name:n.request.origin.query,geometry:{location:n.routes[0].legs[0].start_location},stayTime:{value:0,text:Y(0)}},c={name:n.request.destination.query,geometry:{location:n.routes[0].legs.slice(-1)[0].end_location},stayTime:{value:0,text:Y(0)}};a.unshift(r),a.push(c);for(var i=32400,s=0;s<a.length;s++)a[s].arrivalTime={text:Q(i),value:i},i+=a[s].stayTime.value,a[s].departureTime={text:Q(i),value:i},s<t.length&&(i+=t[s].duration.value);return a},H=function(){var e=Object(L.a)(z.a.mark((function e(t,n,a){var r,c,i,o,l,u,j,b,d,p,x,h,O,m;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.itinerary,c=a.legs,i=a.spots,o=0;case 2:if(!(o<r.length-1)){e.next=36;break}if(!(r[o].departureTime.value>=43200)){e.next=33;break}return e.next=6,U(t,n,"\u663c\u98df",r[o].geometry.location);case 6:return l=e.sent,u=Object(s.a)(l,1),(j=u[0]).stayTime={value:3600,text:Y(3600)},e.next=12,J(t,r[o].formatted_address,j.formatted_address);case 12:return b=e.sent,d=b.routes[0].legs[0],e.next=16,J(t,j.formatted_address,r[o+1].formatted_address);case 16:for(p=e.sent,x=p.routes[0].legs[0],d.duration.value*=2,d.duration.newText=Y(d.duration.value),x.duration.value*=2,x.duration.newText=Y(x.duration.value),h=r[o].departureTime.value+d.duration.value,O=d.duration.value+j.stayTime.value+x.duration.value,j.arrivalTime={value:h,text:Q(h)},h+=j.stayTime.value,j.departureTime={value:h,text:Q(h)},h+=x.duration.value,m=o+1;m<r.length;m++)r[m].arrivalTime.value+=O-c[o].duration.value,r[m].arrivalTime.text=Q(r[m].arrivalTime.value),r[m].departureTime.value+=O-c[o].duration.value,r[m].departureTime.text=Q(r[m].departureTime.value);return r.splice(o+1,0,j),c.splice(o,1,d,x),i.splice(o+1,0,j),e.abrupt("break",36);case 33:o++,e.next=2;break;case 36:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(L.a)(z.a.mark((function e(t,n,a,r){var c,i,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new t.maps.places.PlacesService(n),(i={query:a,fields:["name","geometry","formatted_address","photos"]}).locationBias=null==r?{north:45.29328154474485,east:153.2360484603554,south:26.151593390188783,west:126.5636657976794}:{lat:r.lat(),lng:r.lng()},e.next=5,new Promise((function(e){c.findPlaceFromQuery(i,(function(n,a){a===t.maps.places.PlacesServiceStatus.OK&&e(n)}))}));case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),K=function(){var e=Object(L.a)(z.a.mark((function e(t,n,a,r){var c,i,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new t.maps.places.PlacesService(n),i={query:a},null==r?i.bounds={north:45.29328154474485,east:153.2360484603554,south:26.151593390188783,west:126.5636657976794}:(i.location={lat:r.lat(),lng:r.lng()},i.radius=5e4),e.next=5,new Promise((function(e){c.textSearch(i,(function(n,a){a==t.maps.places.PlacesServiceStatus.OK&&e(n)}))}));case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),J=function(){var e=Object(L.a)(z.a.mark((function e(t,n,a,r){var c,i,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new t.maps.DirectionsService,i={origin:n,destination:a,travelMode:t.maps.TravelMode.DRIVING},null!=r&&(i.waypoints=r,i.optimizeWaypoints=!0),e.next=5,c.route(i).then((function(e){return e})).catch((function(e){return console.log("Directions request failed due to "+e)}));case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}();function Q(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60);return"".concat(("00"+t).slice(-2),":").concat(("00"+n).slice(-2))}function Y(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),a="";return t>0&&(a+="".concat(t,"hour")),(0==n&&0==t||n>0)&&(a+="".concat(n,"min")),a}function Z(){var e=Object(l.f)();!function(){var e=Object(a.useContext)(st),t=e.google,n=e.setGoogle;console.log(t),Object(a.useEffect)((function(){new u.a({apiKey:"AIzaSyCkNip5D4glIDSddF__OlVzY1ovG5yVf7g",version:"weekly",libraries:["places"]}).load().then((function(e){n(e)}))}),[])}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(y,{}),Object(g.jsx)(S,{}),Object(g.jsx)(k.a,{mx:5,display:"flex",justifyContent:"center",children:Object(g.jsxs)(k.a,{width:"100%",maxWidth:500,children:[Object(g.jsx)(k.a,{my:5,children:Object(g.jsx)(N,{onSubmit:function(t){var n={name:t};e.push("/condition",n)},initialValue:"\u5927\u962a",label:"Region",fullWidth:!0})}),Object(g.jsx)(k.a,{my:5,children:Object(g.jsx)(B,{onClick:function(t){e.push("/condition",t)}})})]})})]})}var X=n.p+"static/media/img_travel.b5321376.jpg",$=Object(b.a)((function(e){return{root:{width:"100%",height:"30vh"}}}));function ee(e){var t=$();return Object(g.jsx)("img",{className:t.root,src:null==e.img?X:e.img})}var te=n(181),ne=n(186),ae=n(187),re=n(190),ce=n(188),ie=n(185),se=n(191),oe=n(73),le=n.n(oe),ue=n(87),je=n.n(ue),be=n(77),de=n.n(be),pe=n(209),xe=n(189),he=n(192),Oe=n(74),me=n.n(Oe),fe=Object(b.a)((function(e){return{root:{},fab:{position:"fixed",bottom:e.spacing(2)}}}));function ge(e){var t=fe(),n=Object(a.useState)(["checkBox"]),r=Object(s.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(e.condition.regionName),l=Object(s.a)(o,2),u=l[0],j=l[1],b=Object(a.useState)(e.condition.originName),d=Object(s.a)(b,2),p=d[0],x=d[1],h=Object(a.useState)(""),O=Object(s.a)(h,2),m=O[0],f=O[1],v=function(e){return function(){var t=c.indexOf(e),n=Object(W.a)(c);-1===t?n.push(e):n.splice(t,1),i(n)}};return Object(g.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=-1!=c.indexOf("meal"),a={regionName:u,originName:p,destinationName:m,meal:n};-1!=c.indexOf("checkBox")&&(a.destinationName=p),e.onSubmit(a)},children:[Object(g.jsxs)(te.a,{subheader:Object(g.jsx)(ie.a,{children:"Settings"}),children:[Object(g.jsxs)(ne.a,{children:[Object(g.jsx)(ae.a,{children:Object(g.jsx)(je.a,{})}),Object(g.jsx)(ce.a,{primary:"\u30a8\u30ea\u30a2"}),Object(g.jsx)(M.a,{required:!0,variant:"filled",onChange:function(e){j(e.target.value)},value:u})]}),Object(g.jsxs)(ne.a,{children:[Object(g.jsx)(ae.a,{children:Object(g.jsx)(de.a,{})}),Object(g.jsx)(ce.a,{primary:"\u51fa\u767a"}),Object(g.jsx)(M.a,{required:!0,variant:"filled",onChange:function(e){x(e.target.value)},value:p})]}),Object(g.jsxs)(ne.a,{children:[Object(g.jsx)(pe.a,{checked:-1!==c.indexOf("checkBox"),onChange:v("checkBox"),inputProps:{"aria-label":"primary checkbox"}}),Object(g.jsx)(ce.a,{primary:"\u51fa\u767a\u5730\u70b9\u3068\u5230\u7740\u5730\u70b9\u304c\u540c\u3058"})]}),Object(g.jsx)(xe.a,{in:-1==c.indexOf("checkBox"),children:Object(g.jsxs)(ne.a,{children:[Object(g.jsx)(ae.a,{children:Object(g.jsx)(de.a,{})}),Object(g.jsx)(ce.a,{primary:"\u5230\u7740"}),Object(g.jsx)(M.a,{variant:"filled",onChange:function(e){f(e.target.value)},value:m})]})}),Object(g.jsxs)(ne.a,{children:[Object(g.jsx)(ae.a,{children:Object(g.jsx)(le.a,{})}),Object(g.jsx)(ce.a,{id:"switch-list-label-bluetooth",primary:"\u663c\u98df\u3092\u81ea\u52d5\u3067\u8ffd\u52a0"}),Object(g.jsx)(re.a,{children:Object(g.jsx)(se.a,{edge:"end",onChange:v("meal"),checked:-1!==c.indexOf("meal"),inputProps:{"aria-labelledby":"switch-list-label-bluetooth"}})})]})]}),Object(g.jsx)(k.a,{className:t.fab,width:"100%",children:Object(g.jsx)(k.a,{display:"flex",justifyContent:"center",children:Object(g.jsxs)(he.a,{color:"primary",variant:"extended",type:"submit",children:[Object(g.jsx)(me.a,{}),"Navigate"]})})})]})}function ve(e){var t=Object(l.f)(),n=Object(l.g)(),r=Object(a.useContext)(st).setCondition,c=n.state.name,i=n.state.originName,s=n.state.img,o={regionName:c,originName:i};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(y,{}),Object(g.jsx)(ee,{img:s}),Object(g.jsx)(k.a,{display:"flex",justifyContent:"center",children:Object(g.jsx)(k.a,{width:"100%",maxWidth:500,children:Object(g.jsx)(ge,{onSubmit:function(e){r(Object(j.a)(Object(j.a)({},e),{},{status:"first"})),t.push("/plan")},condition:o})})})]})}Object(b.a)((function(e){return{root:{height:"30vh"}}}));function ye(e){var t=Object(a.useRef)(null);return function(e){var t=Object(a.useContext)(st),n=t.google,r=t.setMap;Object(a.useEffect)((function(){if(console.log("useMap"),null!=n&&null!=e){var t=new n.maps.Map(e.current,{zoom:12,center:{lat:35.6432027,lng:139.6729435}});r(t)}}),[n,e])}(t),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{ref:t,style:{height:"30vh"},children:"I can use the DOM with react ref"})})}var ke=n(88),we=n.n(ke),Ce=n(89),Se=n.n(Ce),Me=n(90),Ne=n.n(Me),Te=Object(b.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},imageList:{},icon:{color:"rgba(255, 255, 255, 0.54)"},addIcon:{width:50,height:50}}}));function Pe(e){var t=Te(),n=e.spots;return null==n?null:Object(g.jsx)("div",{className:t.root,children:Object(g.jsxs)(T.a,{rowHeight:180,className:t.imageList,children:[Object(g.jsx)(P.a,{cols:2,style:{height:"auto"},children:Object(g.jsx)(ie.a,{component:"div",children:"Spots"})},"Subheader"),n.map((function(n,a){return Object(g.jsxs)(P.a,{children:[Object(g.jsx)("img",{src:null==n.photos?null:n.photos[0].getUrl(),alt:n.name}),Object(g.jsx)(_.a,{title:n.name,subtitle:Object(g.jsxs)("span",{children:["by: ",n.name]}),actionIcon:Object(g.jsx)(O.a,{"aria-label":"info about ".concat(n.name),className:t.icon,children:Object(g.jsx)(we.a,{})})}),Object(g.jsx)(_.a,{position:"top",actionPosition:"right",actionIcon:Object(g.jsx)(O.a,{onClick:function(){return e.onClickCancel(a)},children:Object(g.jsx)(Se.a,{})}),style:{background:"rgba(0, 0, 0, 0)"}})]},null==n.photos?null:n.photos[0].getUrl())})),Object(g.jsx)(P.a,{children:Object(g.jsx)(k.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",children:Object(g.jsx)(O.a,{onClick:e.onClickAdd,children:Object(g.jsx)(Ne.a,{fontSize:"large",className:t.addIcon})})})})]})})}var _e=n(193);function Ie(e){var t=Object(l.f)(),n=(Object(l.g)(),Object(a.useContext)(st)),r=n.plan,c=n.setPlan,i=n.markers,s=n.setMarkers,o=n.condition,u=n.setCondition;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(k.a,{children:[Object(g.jsx)(k.a,{my:5,mx:1,children:Object(g.jsx)(Pe,{onClickAdd:function(){t.push("/plan/add",o)},onClickCancel:function(e){r.newSpots.splice(e,1),i.spotMarkers[e].setMap(null),i.spotMarkers.splice(e,1),s(Object(j.a)({},i)),c(Object(j.a)({},r))},spots:r.newSpots})}),Object(g.jsx)(_e.a,{variant:"middle"}),Object(g.jsx)(k.a,{my:5,mx:1,children:Object(g.jsx)(ge,{onSubmit:function(e){u(Object(j.a)(Object(j.a)({},e),{},{status:"new"})),t.push("/plan")},condition:o})}),Object(g.jsx)(_e.a,{variant:"middle"})]})})}var De=n(200),qe=n(194),Be=n(196),Fe=n(198),ze=n(199),We=n(195),Le=n(94),Ge=n(91),Re=n.n(Ge),Ae=n(211),Ve=n(197),Ee=n(210),He=Object(b.a)((function(e){return{paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main}}}));function Ue(e){var t=He(),n=e.plan;if(null==n)return null;for(var a=n.itinerary,r=n.legs,c=[],i=0;i<a.length;i++){var s=Object(g.jsxs)(qe.a,{children:[Object(g.jsx)(We.a,{style:{flex:.3},children:Object(g.jsx)(x.a,{variant:"body2",color:"textSecondary",children:a[i].arrivalTime.text})}),Object(g.jsxs)(Be.a,{style:{flexGrow:.5},children:[Object(g.jsx)(k.a,{display:"flex",justifyContent:"center",children:Object(g.jsx)(k.a,{mx:1,my:1,children:Object(g.jsx)(Ve.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:0==i||i==a.length-1?null:"abcdefghijklmnopqrstuvwxyz"[i-1],color:"secondary",children:Object(g.jsx)(Ee.a,{alt:"Remy Sharp",src:null==a[i].photos?null:a[i].photos[0].getUrl()})})})}),Object(g.jsx)(Fe.a,{})]}),Object(g.jsx)(ze.a,{children:Object(g.jsxs)(Le.a,{elevation:3,className:t.paper,children:[Object(g.jsx)(x.a,{variant:"h6",component:"h1",children:a[i].name}),0!=i&&i!=a.length-1?Object(g.jsxs)(k.a,{children:[a[i].rating,Object(g.jsx)(Ae.a,{name:"read-only",value:4.5,precision:.5,readOnly:!0}),"(",a[i].user_ratings_total,")"]}):null,Object(g.jsxs)(x.a,{children:["\u6ede\u5728\u6642\u9593: ",a[i].stayTime.text]})]})})]});if(c.push(s),i<r.length){var o=Object(g.jsxs)(qe.a,{children:[Object(g.jsx)(We.a,{style:{flexGrow:.3},children:Object(g.jsx)(x.a,{variant:"body2",color:"textSecondary",children:a[i].departureTime.text})}),Object(g.jsxs)(Be.a,{style:{flexGrow:.5},children:[Object(g.jsx)(Fe.a,{}),Object(g.jsx)(k.a,{display:"flex",justifyContent:"center",children:Object(g.jsx)(k.a,{mx:1,my:1,children:Object(g.jsx)(Re.a,{})})}),Object(g.jsx)(Fe.a,{})]}),Object(g.jsx)(ze.a,{children:Object(g.jsxs)(k.a,{display:"flex",alignItems:"center",height:"100%",children:[r[i].duration.newText," by transit"]})})]});c.push(o)}}return Object(g.jsx)(De.a,{children:c})}var Ke=n(201),Je=n(202),Qe=n(205),Ye=n(204),Ze=n(203),Xe=Object(b.a)({root:{},media:{height:140}});function $e(e){var t=Xe(),n=e.place;return null==n?null:(console.log(n),Object(g.jsxs)(Ke.a,{className:t.root,children:[Object(g.jsxs)(Je.a,{children:[Object(g.jsx)(Ze.a,{className:t.media,image:n[0].photos[0].getUrl(),title:"Contemplative Reptile"}),Object(g.jsxs)(Ye.a,{children:[Object(g.jsx)(x.a,{gutterBottom:!0,variant:"h5",component:"h2",children:n[0].name}),Object(g.jsx)(x.a,{variant:"body2",color:"textSecondary",component:"p",children:"Lizards are a widespread group of squamate reptiles, with over 6,000 species, ranging across all continents except Antarctica"})]})]}),Object(g.jsx)(Qe.a,{children:Object(g.jsx)(h.a,{size:"small",color:"primary",onClick:e.onClick,children:"ADD"})})]}))}function et(e){var t=Object(l.g)(),n=Object(a.useState)(""),r=Object(s.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(null),u=Object(s.a)(o,2),b=u[0],d=u[1],p=Object(a.useState)(null),x=Object(s.a)(p,2),O=x[0],m=x[1],f=Object(l.f)(),v=Object(a.useContext)(st),y=v.google,w=v.map,C=v.plan,S=v.setPlan,N=v.markers,T=v.setMarkers,P=function(){var e=Object(L.a)(z.a.mark((function e(t){var n,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,U(y,w,c);case 3:n=e.sent,(a=new y.maps.Marker({position:{lat:n[0].geometry.location.lat(),lng:n[0].geometry.location.lng()},label:"!",map:w})).setMap(w),m(a),d(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(k.a,{mx:5,my:5,children:[Object(g.jsx)("form",{onSubmit:P,children:Object(g.jsx)(M.a,{fullWidth:!0,variant:"filled",onChange:function(e){i(e.target.value)}})}),Object(g.jsx)(k.a,{my:5,children:Object(g.jsx)($e,{place:b,onClick:function(){console.log(b),C.newSpots.push(b[0]),S(Object(j.a)({},C)),N.spotMarkers.push(O),T(Object(j.a)({},N)),console.log(N),f.push("/plan/edit",t.state)}})}),Object(g.jsx)(k.a,{display:"flex",justifyContent:"center",my:5,children:Object(g.jsx)(h.a,{type:"submit",variant:"contained",onClick:function(){f.push("/plan/edit")},children:"\u623b\u308b"})})]})})}var tt=n(206),nt=n(92),at=n.n(nt),rt=Object(b.a)((function(e){return{root:{},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}));function ct(){var e=rt(),t=Object(l.f)(),n=(Object(l.g)(),Object(a.useState)(null)),r=Object(s.a)(n,2),c=r[0],i=function(e){var t=Object(a.useContext)(st),n=t.google,r=t.map,c=t.plan,i=t.setPlan,s=t.markers,o=t.setMarkers,l=t.condition;return Object(a.useEffect)(Object(L.a)(z.a.mark((function t(){var a,u,b,d,p,x,h,O,m,f,g,v;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=n&&null!=r){t.next=2;break}return t.abrupt("return");case 2:if(e(!0),a=l.regionName,u=l.originName,b=l.destinationName,d=l.meal,"cancel"!=(p=l.status)){t.next=11;break}for(c.newSpots=Object(W.a)(c.spots),i(Object(j.a)({},c)),x=c.spots.length,h=x;h<s.spotMarkers.length;h++)s.spotMarkers[h].setMap(null);return s.spotMarkers.splice(h),t.abrupt("return",c);case 11:return t.next=13,U(n,r,a);case 13:return O=t.sent,t.next=16,U(n,r,u);case 16:if(m=t.sent,"first"!=p){t.next=24;break}return t.next=20,K(n,r,a+"\u89b3\u5149",m[0].geometry.location);case 20:f=(f=t.sent).slice(0,5),t.next=25;break;case 24:"new"==p&&(s.originMarker.setMap(null),s.destinationMarker.setMap(null),s.spotMarkers.map((function(e){e.setMap(null)})),f=c.newSpots);case 25:return t.next=27,R(n,r,u,b,O,f);case 27:if(g=t.sent,!d){t.next=31;break}return t.next=31,H(n,r,g);case 31:g.newSpots=Object(W.a)(g.spots),i(Object(j.a)({},g)),v=G(n,r,g.itinerary),o(Object(j.a)({},v)),console.log(g),e(!1);case 37:case"end":return t.stop()}}),t)}))),[n,r]),c}(r[1]);return Object(g.jsxs)(k.a,{className:e.root,children:[c?Object(g.jsx)(tt.a,{}):Object(g.jsx)(Ue,{plan:i}),Object(g.jsx)(k.a,{display:"flex",justifyContent:"center",my:5,className:e.fab,children:Object(g.jsx)(he.a,{color:"secondary","aria-label":"edit",onClick:function(){t.push("/plan/edit")},children:Object(g.jsx)(at.a,{})})})]})}function it(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(y,{}),Object(g.jsx)(ye,{}),Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{path:"/plan/edit",children:Object(g.jsx)(Ie,{})}),Object(g.jsx)(l.a,{path:"/plan/add",children:Object(g.jsx)(et,{})}),Object(g.jsx)(l.a,{path:"/plan",children:Object(g.jsx)(ct,{})})]})]})}var st=Object(a.createContext)();function ot(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),i=Object(s.a)(c,2),u=i[0],j=i[1],b=Object(a.useState)(null),d=Object(s.a)(b,2),p=d[0],x=d[1],h=Object(a.useState)(null),O=Object(s.a)(h,2),m=O[0],f=O[1],v=Object(a.useState)(null),y=Object(s.a)(v,2),k={google:n,setGoogle:r,map:u,setMap:j,plan:p,setPlan:x,markers:m,setMarkers:f,condition:y[0],setCondition:y[1]};return Object(g.jsx)(st.Provider,{value:k,children:Object(g.jsx)(o.a,{children:Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{path:"/condition",children:Object(g.jsx)(ve,{})}),Object(g.jsx)(l.a,{path:"/plan",children:Object(g.jsx)(it,{})}),Object(g.jsx)(l.a,{path:"/",children:Object(g.jsx)(Z,{})})]})})})}var lt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,213)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};n(123);i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(ot,{})}),document.getElementById("root")),lt()}},[[124,1,2]]]);
//# sourceMappingURL=main.8b6885ca.chunk.js.map
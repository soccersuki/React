{"version":3,"sources":["MyContext.js","funcs/googleMapAPI.js","funcs/planFuncs.js","funcs/customHooks.js","Map.js","TextForm.js","Top.js","MediaCard.js","images/img_osaka.jpg","MyDrawer.js","PlaceDetail.js","Carousel.js","Bottom.js","CustomizedTimeline.js","MySpeedDial.js","MultipleSelect.js","MaterialUIPickers.js","SwitchListSecondary.js","ScrollDialog.js","Action.js","funcs/markerFuncs.js","Home.js","FirstPage.js","App.js","reportWebVitals.js","index.js"],"names":["AppContext","createContext","MyContext","props","useState","google","setGoogle","map","setMap","plan","setPlan","condition","setCondition","open","handleClose","setSnackbarState","snackbarState","handleOpen","text","setDialogState","dialogState","status","contextValue","Provider","value","children","findPlace","query","location","a","service","maps","places","PlacesService","request","fields","locationBias","north","east","south","west","lat","lng","Promise","resolve","findPlaceFromQuery","results","PlacesServiceStatus","OK","place","findPlaces","bounds","getBounds","radius","textSearch","getDetail","placeId","getDetails","drivingDirection","origin","destination","waypoints","directionsService","DirectionsService","travelMode","TravelMode","DRIVING","optimizeWaypoints","route","then","response","catch","e","console","log","direction","makePlan","regionName","originName","destinationName","lunch","dinner","departureTime","arrivalTime","getPlaces","waypts","formatted_address","stopover","routes","legs","leg","setDuration","duration","waypoint_order","i","itinerary","setTime","insertPlace","type","num","allPlaces","concat","slice","length","Math","floor","getDurationStr","time","getTimeStr","geometry","goDirection","goLeg","backDirection","backLeg","newText","splice","h","m","str","useStyles","makeStyles","theme","root","Map","classes","useContext","mapContainerRef","useRef","useEffect","current","zoom","center","disableDefaultUI","addListener","handleClick","event","ref","className","style","height","TextForm","initialValue","setText","onSubmit","preventDefault","document","activeElement","blur","Box","display","color","margin","InputBase","required","placeholder","size","fullWidth","label","onChange","target","InputProps","startAdornment","InputAdornment","position","fontSize","endAdornment","Top","id","onClick","chips","types","Chip","japanese","icon","backgroundColor","chipIndex","mx","Paper","mb","my","overflowX","whiteSpace","width","media","MediaCard","Card","CardActionArea","CardMedia","image","photos","getUrl","title","CardContent","Typography","variant","component","noWrap","name","CardActions","disableSpacing","Button","onClickAdd","onClickDelete","MyDrawer","toggleDrawer","anchor","React","SwipeableDrawer","state","onClose","onOpen","role","onKeyDown","drawer","img","objectFit","PlaceDetail","detail","setDetail","place_id","src","px","gutterBottom","alignItems","rating","Rating","precision","readOnly","user_ratings_total","List","ListItem","button","ListItemIcon","ListItemText","primary","formatted_phone_number","website","PlaceCard","top","left","bottom","right","openDrawer","setOpenDrawer","Carousel","markers","setMarkers","setPlaces","setValue","deletePlace","panTo","marker","enableMouseEvents","index","onChangeIndex","handleChangeIndex","padding","handleClickDelete","push","handleClickAdd","Bottom","Zoom","in","justifyContent","setChipIndex","paper","MyTimelineItem","TimelineItem","TimelineOppositeContent","flexGrow","oppositeContent","TimelineSeparator","TimelineConnector","separator","TimelineContent","content","DurationSelect","FormControl","Select","labelId","MenuItem","dense","CustomizedTimeline","Timeline","Skeleton","Avatar","handleChange","spot","overflow","p","Alert","severity","handleOpenD","Accordion","AccordionSummary","expandIcon","AccordionDetails","Badge","anchorOrigin","vertical","horizontal","badgeContent","alt","transform","exampleWrapper","speedDial","actions","MySpeedDial","setOpen","SpeedDial","ariaLabel","SpeedDialIcon","action","SpeedDialAction","tooltipTitle","formControl","minWidth","maxWidth","flexWrap","chip","noLabel","marginTop","spacing","MenuProps","PaperProps","maxHeight","ITEM_HEIGHT","names","getStyles","personName","fontWeight","indexOf","typography","fontWeightRegular","fontWeightMedium","MultipleSelect","useTheme","InputLabel","multiple","setState","input","Input","renderValue","selected","MaterialUIPickers","utils","DateFnsUtils","TimePicker","selectedDate","handleDateChange","KeyboardButtonProps","SwitchListSecondary","checked","setChecked","setRegionName","setOriginName","setDestinationName","departureDate","Date","arrivalDate","setHours","setMinutes","setDepartureTime","setArrivalTime","querys","setQuerys","handleToggle","currentIndex","newChecked","handleSubmit","getHours","getMinutes","newPlan","setCnt","cnt","disableGutters","TextField","Grid","container","item","xs","Collapse","date","ListItemSecondaryAction","Switch","edge","inputProps","startIcon","ScrollDialog","descriptionElementRef","descriptionElement","focus","Dialog","scroll","DialogTitle","indigo","marginLeft","DialogContent","dividers","Action","addMarkers","alphabet","infoWindow","InfoWindow","originMarker","addMarker","destinationMarker","labelText","iconCode","fontFamily","option","optimized","animation","Animation","DROP","Marker","close","setContent","getTitle","getMap","Home","setDisplay","Loader","apiKey","version","libraries","load","useGoogle","window","innerHeight","handleOpenS","MySnackbar","Snackbar","autoHideDuration","elevation","FirstPage","timeout","onEnter","setTimeout","onExited","setFirstPage","App","firstPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6e91dc2f.chunk.js","sourcesContent":["import { useState, createContext } from 'react'\n\nexport const AppContext = createContext();\n\nexport default function MyContext(props){\n  const [google, setGoogle] = useState(null);\n  const [map, setMap] = useState(null);\n  const [plan, setPlan] = useState(null);\n  const [condition, setCondition] = useState(null);\n  const [snackbarState, setSnackbarState] = useState({\n    open: false,\n    handleClose: () => setSnackbarState({...snackbarState, open: false}),\n    handleOpen: (text) => setSnackbarState({...snackbarState, open: true, text}),\n  });\n  const [dialogState, setDialogState] = useState({\n    open: false,\n    handleClose: () => setDialogState({...dialogState, open: false}),\n    handleOpen: (status) => setDialogState({...dialogState, open: true, status})\n  })\n  const contextValue = {\n    google, setGoogle,\n    map, setMap,\n    plan, setPlan,\n    condition, setCondition,\n    snackbarState,\n    dialogState,\n  }\n  return(\n    <AppContext.Provider value={contextValue}>\n      {props.children}\n    </AppContext.Provider>\n  )\n}\n","export const findPlace = async (google, map, query, location) => {\n  var service = new google.maps.places.PlacesService(map);\n  var request = {\n    query: query,\n    fields: ['name', 'geometry', 'formatted_address', 'photos'],\n  };\n  if(location == null){\n    request.locationBias = {north: 45.29328154474485, east: 153.2360484603554, south: 26.151593390188783, west: 126.5636657976794};\n  }\n  else{\n    request.locationBias = {lat: location.lat(), lng: location.lng()};\n  }\n  var place = await new Promise(resolve => {\n    service.findPlaceFromQuery(request, function(results, status) {\n      if (status === google.maps.places.PlacesServiceStatus.OK) {\n        resolve(results);\n      }\n    });\n  });\n  return place;\n}\n\nexport const findPlaces = async (google, map, query, location) => {\n  var service = new google.maps.places.PlacesService(map);\n  var request = {\n    query,\n  }\n  if(location == null){\n    // request.bounds = {north: 45.29328154474485, east: 153.2360484603554, south: 26.151593390188783, west: 126.5636657976794};\n    request.bounds = map.getBounds();\n  }\n  else{\n    request.location = {lat: location.lat(), lng: location.lng()};\n    request.radius = 50000;\n  }\n  var places = await new Promise(resolve => {\n    service.textSearch(request, (results, status) => {\n      if (status == google.maps.places.PlacesServiceStatus.OK) {\n        resolve(results);\n      }\n    })\n  })\n  return places;\n}\n\nexport const getDetail = async (google, map, placeId) => {\n  var request = {\n    placeId,\n  };\n\n  const service = new google.maps.places.PlacesService(map);\n  const place = await new Promise(resolve => {\n    service.getDetails(request, (results, status) => {\n      if (status == google.maps.places.PlacesServiceStatus.OK) {\n        resolve(results);\n      }\n    });\n  })\n  return place;\n}\n\nexport const drivingDirection = async (google, origin, destination, waypoints) => {\n  const directionsService = new google.maps.DirectionsService();\n  // const directionsRenderer = new google.maps.DirectionsRenderer({suppressPolylines: true});\n  // directionsRenderer.setMap(map);\n  var request = {\n    origin,\n    destination,\n    travelMode: google.maps.TravelMode.DRIVING,\n  };\n  if(waypoints != null){\n    request.waypoints = waypoints;\n    request.optimizeWaypoints = true;\n  }\n\n  var direction = await directionsService\n    .route(request)\n    .then((response) => {\n      // directionsRenderer.setDirections(response);\n      return response;\n    })\n    .catch((e) => console.log(\"Directions request failed due to \" + e));\n  return direction\n}\n","import { findPlace, findPlaces, drivingDirection, } from './googleMapAPI'\r\n\r\nexport async function makePlan(google, map, plan, condition){\r\n  var {regionName, originName, destinationName, lunch, dinner, departureTime, arrivalTime, status} = condition;\r\n  if(arrivalTime == null) arrivalTime = 21 * 3600\r\n  var [origin] = await findPlace(google, map, originName);\r\n  var [destination] = await findPlace(google, map, destinationName);\r\n  var places = await getPlaces(google, map, plan, departureTime, arrivalTime, lunch, dinner, status, regionName);\r\n  var waypts = places.map(place => {\r\n    return{\r\n      location: place.formatted_address,\r\n      stopover: true,\r\n    }\r\n  });\r\n  var direction = await drivingDirection(google, originName, destinationName, waypts);\r\n  direction.routes[0].legs.map(leg => { setDuration(leg, leg.duration.value * 2)});\r\n\r\n  places = direction.routes[0].waypoint_order.map(i => places[i]);\r\n\r\n  setDuration(origin, 0);\r\n  setDuration(destination, 0);\r\n  places.map(place => setDuration(place, 3600));\r\n\r\n  // places = updatePlaces(direction, places, origin, destination);\r\n  // console.log(places)\r\n\r\n  var itinerary = [origin, ...places, destination];\r\n  setTime(itinerary, direction.routes[0].legs, departureTime)\r\n\r\n  if(lunch) await insertPlace(google, map, itinerary, direction.routes[0].legs, places, 12 * 3600, '昼食', departureTime);\r\n  if(dinner) await insertPlace(google, map, itinerary, direction.routes[0].legs, places, 18 * 3600, '夕食', departureTime);\r\n\r\n  places.map(place => {place.type = 'plan'})\r\n  return {places, origin, destination, itinerary, legs: direction.routes[0].legs};\r\n}\r\n\r\nasync function getPlaces(google, map, plan, departureTime, arrivalTime, lunch, dinner, status, regionName){\r\n  var duration = (arrivalTime - departureTime);\r\n  if(lunch) duration -= 3600;\r\n  if(dinner) duration -= 3600;\r\n  var num = duration / (75 * 60)\r\n\r\n  var places = []\r\n  if(status != 'new') places = plan.places;\r\n  const allPlaces = await findPlaces(google, map, regionName + ' 観光');\r\n  places = places.concat(allPlaces.slice(0, num - places.length))\r\n  return places;\r\n}\r\n\r\nconst setDuration = (place, value) => {\r\n  place.duration = {\r\n    value: Math.floor(value),\r\n    text: getDurationStr(value),\r\n  }\r\n}\r\n\r\nconst getItinerary = (places, origin, destination, legs, departureTime) => {\r\n  var itinerary = places.slice();\r\n  itinerary.unshift(origin);\r\n  itinerary.push(destination);\r\n  return itinerary;\r\n}\r\n\r\nexport const setTime = (itinerary, legs, departureTime) => {\r\n  var time = departureTime;\r\n  for(var i = 0; i < itinerary.length; i++){\r\n    itinerary[i].arrivalTime = {\r\n      text: getTimeStr(time),\r\n      value: time,\r\n    };\r\n    time += itinerary[i].duration.value;\r\n    itinerary[i].departureTime = {\r\n      text: getTimeStr(time),\r\n      value: time,\r\n    }\r\n    if(i < legs.length){\r\n      time += legs[i].duration.value;\r\n    }\r\n  }\r\n}\r\n\r\nexport const insertPlace = async (google, map, itinerary, legs, places, time, query, departureTime) => {\r\n  for(var i = 0; i < itinerary.length - 1; i++){\r\n    if(itinerary[i].departureTime.value >= time){\r\n      var [lunch] = await findPlace(google, map, query, itinerary[i].geometry.location);\r\n      lunch.duration = {\r\n        value: 3600,\r\n        text: getDurationStr(3600),\r\n      }\r\n      var goDirection = await drivingDirection(google, itinerary[i].formatted_address, lunch.formatted_address);\r\n      var goLeg = goDirection.routes[0].legs[0];\r\n      var backDirection = await drivingDirection(google, lunch.formatted_address, itinerary[i+1].formatted_address);\r\n      var backLeg = backDirection.routes[0].legs[0];\r\n      goLeg.duration.value *= 2;\r\n      goLeg.duration.newText = getDurationStr(goLeg.duration.value);\r\n      backLeg.duration.value *= 2;\r\n      backLeg.duration.newText = getDurationStr(backLeg.duration.value);\r\n      // var time = itinerary[i].departureTime.value + goLeg.duration.value;\r\n      // var duration = goLeg.duration.value + lunch.duration.value + backLeg.duration.value;\r\n      // lunch.arrivalTime = {\r\n      //   value: time,\r\n      //   text: getTimeStr(time),\r\n      // }\r\n      // time += lunch.duration.value;\r\n      // lunch.departureTime = {\r\n      //   value: time,\r\n      //   text: getTimeStr(time),\r\n      // }\r\n      // time += backLeg.duration.value;\r\n      // for(var j = i + 1; j < itinerary.length; j++){\r\n      //   itinerary[j].arrivalTime.value += duration - legs[i].duration.value;\r\n      //   itinerary[j].arrivalTime.text = getTimeStr(itinerary[j].arrivalTime.value)\r\n      //   itinerary[j].departureTime.value += duration - legs[i].duration.value;\r\n      //   itinerary[j].departureTime.text = getTimeStr(itinerary[j].departureTime.value);\r\n      // }\r\n      itinerary.splice(i+1, 0, lunch);\r\n      legs.splice(i, 1, goLeg, backLeg);\r\n      places.splice(i+1, 0, lunch);\r\n      break;\r\n    }\r\n  }\r\n  setTime(itinerary, legs, departureTime);\r\n}\r\n\r\n\r\n\r\nfunction getTimeStr(time){\r\n  var h = Math.floor(time / 3600);\r\n  var m = Math.floor((time % 3600) / 60);\r\n  return `${('00' + h).slice(-2)}:${('00' + m).slice(-2)}`;\r\n}\r\nfunction getDurationStr(time){\r\n  var h = Math.floor(time / 3600);\r\n  var m = Math.floor((time % 3600) / 60);\r\n  var str = '';\r\n  if(h > 0) str += `${h}hour`;\r\n  if((m == 0 && h == 0) || m > 0){\r\n    str += `${m}min`;\r\n  }\r\n  return str;\r\n}\r\n","import { AppContext } from '../MyContext'\nimport { useEffect, useContext, } from 'react'\nimport { Loader } from \"@googlemaps/js-api-loader\"\nimport { findPlace, findPlaces, } from './googleMapAPI';\nimport { makePlan, insertLunch, } from './planFuncs';\n\nexport const useGoogle = () => {\n  const {google, setGoogle} = useContext(AppContext);\n  useEffect(() => {\n    const API_KEY = \"AIzaSyCkNip5D4glIDSddF__OlVzY1ovG5yVf7g\";\n    const loader = new Loader({\n      apiKey: API_KEY,\n      version: \"weekly\",\n      libraries: [\"places\"],\n    });\n    loader.load().then((google) => {\n      setGoogle(google);\n    })\n  }, [])\n}\n\nexport const usePlan = (cnt, setCnt, handleOpenS) => {\n  const {google, map, plan, setPlan, condition, } = useContext(AppContext);\n\n  useEffect(async () => {\n    if(google == null || map == null || condition == null) return;\n\n    const newPlan = await makePlan(google, map, plan, condition);\n    setPlan({...newPlan});\n    console.log(newPlan);\n    setCnt(cnt + 1)\n    handleOpenS('プランが完成しました')\n  }, [google, map, condition])\n}\n","import { useState, useRef, useEffect, useContext } from 'react'\r\n\r\nimport { AppContext } from './MyContext'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n  },\r\n}));\r\n\r\nexport default function Map(props){\r\n  const classes = useStyles();\r\n  const {google, setMap} = useContext(AppContext);\r\n  const mapContainerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if(google == null || mapContainerRef == null) return;\r\n    const initialConfig = {\r\n      zoom: 15,\r\n      center: { lat: 35.6432027, lng: 139.6729435 },\r\n      disableDefaultUI: true,\r\n    }\r\n    const map = new google.maps.Map(mapContainerRef.current, initialConfig);\r\n    map.addListener(\"click\", handleClick);\r\n    setMap(map);\r\n  }, [google, mapContainerRef]);\r\n\r\n  const handleClick = (event) => {\r\n    console.log(event)\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <div ref={mapContainerRef} className={classes.root} style={{height: '100%'}}>I can use the DOM with react ref</div>\r\n    </>\r\n  )\r\n}\r\n","import { useState, } from 'react'\r\nimport {\r\n  Box,\r\n  TextField,\r\n  InputAdornment,\r\n  InputBase,\r\n} from '@material-ui/core';\r\nimport LoyaltyIcon from '@material-ui/icons/Loyalty';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nexport default function TextForm(props){\r\n  const [text, setText] = useState(props.initialValue);\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // e.target.firstChild.firstChild.firstChild.blur()\r\n    const elem = document.activeElement;\r\n    elem.blur()\r\n    props.onSubmit(text);\r\n  }\r\n  const handleChange = (e) => {\r\n    setText(e.target.value);\r\n  }\r\n  return(\r\n    <form onSubmit={handleSubmit}>\r\n    <Box display='flex'>\r\n    <LoyaltyIcon color=\"action\" style={{margin: 10}}/>\r\n    <InputBase required placeholder=\"Search Google Maps\" size=\"small\" fullWidth label={'SEARCH'} onChange={handleChange} value={text}  InputProps={{\r\n      startAdornment: (\r\n        <InputAdornment position=\"start\">\r\n          <LoyaltyIcon color='secondary'fontSize=\"large\"/>\r\n        </InputAdornment>\r\n      ),\r\n      endAdornment: (\r\n        <InputAdornment position=\"end\">\r\n          <SearchIcon color='action'/>\r\n        </InputAdornment>\r\n      )\r\n    }}/>\r\n    <SearchIcon color='action' style={{margin: 10}}/>\r\n    </Box>\r\n    </form>\r\n  )\r\n}\r\n","import TextForm from './TextForm'\r\nimport LoyaltyIcon from '@material-ui/icons/Loyalty';\r\nimport { Box, Chip, InputAdornment, Paper} from '@material-ui/core'\r\n\r\nexport default function Top(props){\r\n  const handleClick = (id) => () => {\r\n    props.onClick(id);\r\n  }\r\n  const chips = props.types.map((type, id) => (\r\n    <Chip label={type.japanese} size=\"small\" icon={type.icon} onClick={handleClick(id)} style={{margin: 5, backgroundColor: props.chipIndex == id ? 'blue': 'white'}} color={props.chipIndex == id ? 'primary': 'default'}/>\r\n  ))\r\n  return(\r\n    <Box mx={2}>\r\n      <Paper mb={2}>\r\n        <TextForm onSubmit={props.onSubmit}/>\r\n      </Paper>\r\n      <Box my={2}style={{overflowX: 'auto', whiteSpace: 'nowrap'}}>\r\n        {chips}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Box, Chip, Collapse, } from '@material-ui/core'\r\nimport { Rating } from '@material-ui/lab'\r\nimport clsx from 'clsx';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { Skelton, } from '@material-ui/core'\r\n\r\nimport imgOsaka from './images/img_osaka.jpg';\r\n\r\nimport { useContext, } from 'react'\r\n\r\nimport {AppContext, } from './MyContext'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: '100%',\r\n    width: '100%',\r\n  },\r\n  media: {\r\n    height: 100,\r\n  },\r\n}));\r\n\r\nexport default function MediaCard(props) {\r\n  const classes = useStyles();\r\n  const {place} = props;\r\n  const { plan, } = useContext(AppContext)\r\n  if(place == null) return null;\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea onClick={props.onClick}>\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={place.photos == null ? null : place.photos[0].getUrl()}\r\n          title=\"Contemplative Reptile\"\r\n        />\r\n        <CardContent>\r\n          <Typography variant=\"h6\" component=\"h6\" noWrap>\r\n            {place.name}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions disableSpacing>\r\n        {plan != null && place.type == null ?\r\n          <Button size=\"small\" color=\"primary\" onClick={props.onClickAdd}>\r\n            ADD\r\n          </Button>\r\n          :\r\n          <Button size=\"small\" color=\"primary\" onClick={props.onClickDelete}>\r\n            DELETE\r\n          </Button>\r\n        }\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/img_osaka.c9ba6993.jpg\";","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%',\r\n    height: '80vh',\r\n  }\r\n});\r\n\r\nexport default function MyDrawer(props) {\r\n  const classes = useStyles();\r\n\r\n  const handleOpen = () => {\r\n    props.toggleDrawer(props.anchor, true)\r\n  }\r\n  const handleClose = () => {\r\n    props.toggleDrawer(props.anchor, false);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    console.log('drawer')\r\n  }, [])\r\n\r\n  const content = (anchor) => (\r\n    <div\r\n      className={classes.root}\r\n      role=\"presentation\"\r\n      onKeyDown={handleClose}\r\n    >\r\n      {props.drawer}\r\n    </div>\r\n  );\r\n  return (\r\n    <div>\r\n      <SwipeableDrawer\r\n        anchor={props.anchor}\r\n        open={props.state[props.anchor]}\r\n        onClose={handleClose}\r\n        onOpen={handleOpen}\r\n      >\r\n        {content(props.anchor)}\r\n      </SwipeableDrawer>\r\n    </div>\r\n  );\r\n}\r\n","import { Box, Typography, List, ListItem, ListItemIcon, ListItemText, Chip, Fab, } from '@material-ui/core'\nimport { Rating } from '@material-ui/lab'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport RoomIcon from '@material-ui/icons/Room';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport PublicIcon from '@material-ui/icons/Public';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { useContext, useEffect, useState, } from 'react';\nimport { AppContext } from './MyContext'\n\nimport { getDetail } from './funcs/googleMapAPI';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%'\n  },\n  img: {\n    width: '100%',\n    height: 200,\n    objectFit: 'cover',\n  }\n}));\n\nexport default function PlaceDetail(props){\n  const {place} = props;\n  const classes = useStyles();\n  const { google, map, plan, setPlan, } = useContext(AppContext);\n  const [detail, setDetail] = useState(null);\n\n  useEffect(() => {\n    console.log(place)\n    if(place == null) return;\n    (async() => {\n      const detail = await getDetail(google, map, place.place_id)\n      setDetail(detail)\n      console.log(detail)\n    })()\n  }, [])\n\n  if(place == null) return;\n\n  return(\n    <Box className={classes.root}>\n      <img src={place.photos == null ? null: place.photos[0].getUrl()} className={classes.img}/>\n      <Box px={2}>\n        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n          {place.name}\n        </Typography>\n        <Typography gutterBottom variant=\"body2\" color=\"textSecondary\" component=\"p\">\n          <Box display=\"flex\" alignItems=\"center\">\n            {place.rating}\n            <Rating name=\"read-only\" value={place.rating} precision={0.5} readOnly size='small' />\n            ({place.user_ratings_total})\n          </Box>\n        </Typography>\n        <Typography>\n          {place.types.map((type) => <Chip size='small' label={type} color=\"primary\" style={{margin: 1}}/>)}\n        </Typography>\n        <List>\n          <ListItem button>\n            <ListItemIcon>{<RoomIcon />}</ListItemIcon>\n            <ListItemText primary={place.formatted_address} />\n          </ListItem>\n          <ListItem button>\n            <ListItemIcon>{<AccessTimeIcon />}</ListItemIcon>\n            <ListItemText primary={'営業中'} />\n          </ListItem>\n          {detail != null && detail.formatted_phone_number != null && (\n            <ListItem button>\n              <ListItemIcon>{<PhoneIcon />}</ListItemIcon>\n              <ListItemText primary={detail.formatted_phone_number} />\n            </ListItem>\n          )}\n          {detail != null && detail.website != null && (\n            <ListItem>\n              <ListItemIcon>{<PublicIcon />}</ListItemIcon>\n              <ListItemText primary={detail.website} />\n            </ListItem>\n          )}\n          <ListItem button>\n            <ListItemIcon>{<SearchIcon />}</ListItemIcon>\n            <ListItemText primary={'googleで検索'} />\n          </ListItem>\n        </List>\n      </Box>\n\n    </Box>\n  )\n}\n","import React from 'react';\r\nimport SwipeableViews from 'react-swipeable-views';\r\n\r\nimport MediaCard from './MediaCard';\r\n\r\nimport { Box} from '@material-ui/core';\r\n\r\nimport { useState, useContext, useEffect} from 'react'\r\n\r\nimport MyDrawer from './MyDrawer'\r\nimport PlaceDetail from './PlaceDetail'\r\n\r\nimport { AppContext, } from './MyContext'\r\n\r\nconst styles = {\r\n};\r\n\r\nfunction PlaceCard(props){\r\n  const {place} = props;\r\n  const [openDrawer, setOpenDrawer] = useState({\r\n    top: false,\r\n    left: false,\r\n    bottom: false,\r\n    right: false,\r\n  });\r\n  const toggleDrawer = (anchor, open) => {\r\n    setOpenDrawer({ ...openDrawer, [anchor]: open });\r\n  };\r\n  const handleClick = () => {\r\n    toggleDrawer('bottom', true)\r\n  }\r\n  return(\r\n    <Box>\r\n      <Box><MediaCard place={place} onClick={handleClick} onClickAdd={props.onClickAdd} onClickDelete={props.onClickDelete}/></Box>\r\n      <MyDrawer drawer={<PlaceDetail place={place}/>} toggleDrawer={toggleDrawer} state={openDrawer} anchor={'bottom'}/>\r\n    </Box>\r\n  )\r\n}\r\n\r\nconst Carousel = (props) => {\r\n  const { chipIndex, markers, setMarkers} = props\r\n  // const [places, setPlaces] = useState(props.places);\r\n  const { places, setPlaces, } = props\r\n  const [value, setValue] = useState(0);\r\n  const { map, plan, setPlan, snackbarState, } = useContext(AppContext)\r\n\r\n  const handleChangeIndex = (index) => {\r\n    setValue(index);\r\n    map.panTo({lat: places[index].geometry.location.lat(), lng: places[index].geometry.location.lng()})\r\n  }\r\n  const deletePlace = (id) => {\r\n    markers.markers[id].setMap(null);\r\n    markers.markers.splice(id, 1);\r\n    setMarkers(markers)\r\n    places.splice(id, 1);\r\n    setPlaces(places);\r\n    if(id < places.length) map.panTo({lat: places[id].geometry.location.lat(), lng: places[id].geometry.location.lng()})\r\n  }\r\n  const handleClickDelete = (id) => {\r\n    deletePlace(id)\r\n    setPlan({...plan});\r\n    snackbarState.handleOpen('削除しました')\r\n  }\r\n  const handleClickAdd = (id) => {\r\n    places[id].type = 'plan'\r\n    plan.places.push(places[id]);\r\n    deletePlace(id);\r\n    setPlan({...plan});\r\n    snackbarState.handleOpen('追加しました')\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValue(0);\r\n\r\n  }, [chipIndex])\r\n\r\n  useEffect(() => {\r\n    if(markers == null) return;\r\n    markers.markers.map((marker, id) => {\r\n      marker.addListener('click', ()=>{\r\n        // setValue(id);\r\n        for(var i = 0; i < props.places.length; i++){\r\n          if(props.places[i].name == marker.title){\r\n            setValue(i)\r\n            break;\r\n          }\r\n        }\r\n      })\r\n    })\r\n    setMarkers(markers)\r\n    // setPlaces(props.places);\r\n  }, [markers])\r\n\r\n\r\n  if(places == null) return;\r\n  return(\r\n    <SwipeableViews enableMouseEvents index={value} onChangeIndex={(index) => handleChangeIndex(index)} style={{padding: '0 30px'}}>\r\n      {places.map((place, id) => (\r\n        <Box px={1}><PlaceCard place={place} onClickDelete={() => handleClickDelete(id)} onClickAdd={() => handleClickAdd(id)}/></Box>\r\n      ))}\r\n    </SwipeableViews>\r\n  )\r\n};\r\n\r\nexport default Carousel;\r\n","import { useContext, } from 'react';\r\n// import { AppContext, } from './App'\r\nimport { Box, Zoom, } from '@material-ui/core'\r\nimport Carousel from './Carousel'\r\n\r\nexport default function Bottom(props){\r\n  // const { google, map, plan, } = useContext(AppContext)\r\n  const { chipIndex, places, } = props;\r\n\r\n  if(places == null) return null;\r\n\r\n  return(\r\n    <Zoom in={props.display}>\r\n      <Box display='flex' justifyContent='center'>\r\n        <Box width='100%'>\r\n          <Carousel chipIndex={chipIndex} setChipIndex={props.setChipIndex} places={places} setPlaces={props.setPlaces}markers={props.markers} setMarkers={props.setMarkers}/>\r\n        </Box>\r\n      </Box>\r\n    </Zoom>\r\n  )\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport Timeline from '@material-ui/lab/Timeline';\r\nimport TimelineItem from '@material-ui/lab/TimelineItem';\r\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator';\r\nimport TimelineConnector from '@material-ui/lab/TimelineConnector';\r\nimport TimelineContent from '@material-ui/lab/TimelineContent';\r\nimport TimelineOppositeContent from '@material-ui/lab/TimelineOppositeContent';\r\nimport TimelineDot from '@material-ui/lab/TimelineDot';\r\nimport TrainIcon from '@material-ui/icons/Train';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport { Box, Avatar, Zoom, Badge, Typography, Paper, FormControl, MenuItem, InputLabel, Select, Button} from '@material-ui/core'\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport NavigationIcon from '@material-ui/icons/Navigation';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nimport imgOsaka from './images/img_osaka.jpg'\r\n\r\n\r\nimport { useContext } from 'react';\r\nimport { AppContext } from './MyContext'\r\n\r\nimport { setTime, } from './funcs/planFuncs'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    padding: '6px 16px',\r\n  },\r\n}));\r\nconst label = 'abcdefghijklmnopqrstuvwxyz';\r\n\r\nfunction MyTimelineItem(props){\r\n  return(\r\n    <TimelineItem>\r\n      <TimelineOppositeContent style={{ flexGrow: 0.1 }}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\">\r\n          {props.time}\r\n        </Typography>\r\n        {props.oppositeContent}\r\n      </TimelineOppositeContent>\r\n      <TimelineSeparator style={{ flexGrow: 0.3 }}>\r\n        <TimelineConnector />\r\n        <Box display='flex' justifyContent='center'>\r\n          <Box mx={1} my={1}>\r\n            {props.separator}\r\n          </Box>\r\n        </Box>\r\n        <TimelineConnector />\r\n      </TimelineSeparator>\r\n      <TimelineContent>\r\n        {props.content}\r\n      </TimelineContent>\r\n    </TimelineItem>\r\n  )\r\n}\r\n\r\nfunction DurationSelect(props){\r\n  return(\r\n    <FormControl>\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        value={props.initialValue}\r\n        onChange={(e) => props.onChange(e.target.value)}\r\n        label=\"Age\"\r\n      >\r\n        <MenuItem dense value={props.initialValue}>{props.initialValue}</MenuItem>\r\n        <MenuItem dense value={0}>0</MenuItem>\r\n        <MenuItem dense value={30}>30</MenuItem>\r\n        <MenuItem dense value={60}>60</MenuItem>\r\n        <MenuItem dense value={120}>120</MenuItem>\r\n        <MenuItem dense value={180}>180</MenuItem>\r\n      </Select>\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nexport default function CustomizedTimeline(props) {\r\n  const classes = useStyles();\r\n  const {plan, setPlan, condition} = useContext(AppContext);\r\n\r\n  if(plan == null){\r\n    return(\r\n      <Timeline>\r\n        {[0, 1, 2, 3, 4].map(() => {\r\n          return(\r\n            <MyTimelineItem\r\n              time={<Skeleton />}\r\n              content={<Typography variant=\"h1\"><Skeleton /></Typography>}\r\n              separator={<Skeleton variant=\"circle\"><Avatar /></Skeleton>}\r\n            />\r\n          )\r\n        })}\r\n      </Timeline>\r\n    )\r\n  }\r\n\r\n  const {itinerary, legs} = plan;\r\n\r\n  const handleChange = (spot, value) => {\r\n    spot.duration.value = value * 60;\r\n    setTime(itinerary, legs, condition.departureTime)\r\n    setPlan({...plan})\r\n  }\r\n\r\n  const handleClick = () => {\r\n    console.log('click')\r\n    props.toggleDrawer('bottom', false)\r\n    props.handleOpenD('update')\r\n  }\r\n\r\n  return(\r\n    <Box height='100%' style={{overflow: 'scroll'}}>\r\n      <Box width='100%'>\r\n        <Box style={{position: 'relative'}}>\r\n          <img src={plan.itinerary[1].photos[0].getUrl()} style={{height: 200, width: '100%'}}/>\r\n          <Box display=\"flex\"p={2} style={{position: 'absolute', bottom: 0}}>\r\n            <Avatar>\r\n              <NavigationIcon />\r\n            </Avatar>\r\n            <Typography variant='h5' style={{color: 'white'}}>{condition.regionName}一日旅行</Typography>\r\n          </Box>\r\n        </Box>\r\n\r\n        <Box p={1}>\r\n          <Alert severity=\"warning\">\r\n            <Box>時間は目安です</Box>\r\n            <Box>閉店しているかも</Box>\r\n            <Box>\r\n            スポットが変わりました\r\n            <Button color=\"primary\" onClick={handleClick}>更新</Button>\r\n            </Box>\r\n          </Alert>\r\n        </Box>\r\n      </Box>\r\n      <Timeline>\r\n        {itinerary.map((spot, i) => {\r\n          return(\r\n            <Box>\r\n              <MyTimelineItem spot={spot} i={i} onChange={handleChange} time={spot.arrivalTime.text}\r\n                content={\r\n                  <Accordion>\r\n                    <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                      <Box>\r\n                        <Typography variant=\"h6\" component=\"h1\">{spot.name}</Typography>\r\n                        <Typography variant='caption'>\r\n                          <Box display=\"flex\" alignItems=\"center\">\r\n                            {spot.rating}\r\n                            <Rating name=\"read-only\" value={spot.rating} precision={0.5} readOnly size='small' />\r\n                          </Box>\r\n                        </Typography>\r\n                      </Box>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n                      <Typography variant='body2'>\r\n                        <Box display=\"flex\" alignItems=\"center\">\r\n                          <Box>滞在時間:</Box>\r\n                          <DurationSelect initialValue={spot.duration.value / 60} onChange={(value) => handleChange(spot, value)}/>\r\n                          <Box>分</Box>\r\n                        </Box>\r\n                      </Typography>\r\n                    </AccordionDetails>\r\n                  </Accordion>\r\n                }\r\n                separator={\r\n                  <Badge anchorOrigin={{ vertical: 'bottom', horizontal: 'right',}} badgeContent={ label[i-1] } color=\"secondary\">\r\n                    <Avatar alt=\"Remy Sharp\" src={spot.photos == null ? null: spot.photos[0].getUrl()} />\r\n                  </Badge>\r\n                }\r\n              />\r\n              {i < legs.length ?\r\n                <MyTimelineItem spot={spot} leg={legs[i]} time={spot.departureTime.text}\r\n                  content={\r\n                    <Box display=\"flex\" alignItems='center' height='100%'>\r\n                      電車で\r\n                      <DurationSelect initialValue={Math.floor(legs[i].duration.value / 60)} onChange={(value) => handleChange(legs[i], value)}/>\r\n                      分\r\n                    </Box>}\r\n                  separator={<TrainIcon />}\r\n                />\r\n                :\r\n                null\r\n              }\r\n            </Box>\r\n          )\r\n        })\r\n      }\r\n      </Timeline>\r\n\r\n    </Box>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport SpeedDial from '@material-ui/lab/SpeedDial';\r\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\r\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\r\n\r\nimport ScheduleIcon from '@material-ui/icons/Schedule';\r\nimport UpdateIcon from '@material-ui/icons/Update';\r\nimport NewReleasesIcon from '@material-ui/icons/NewReleases';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    transform: 'translateZ(0px)',\r\n    flexGrow: 1,\r\n  },\r\n  exampleWrapper: {\r\n    position: 'relative',\r\n    height: 240,\r\n  },\r\n  speedDial: {\r\n    position: 'absolute',\r\n  },\r\n}));\r\n\r\nconst actions = [\r\n  { icon: <ScheduleIcon />, name: 'Timeline' },\r\n  { icon: <NewReleasesIcon />, name: 'New' },\r\n];\r\n\r\nexport default function MySpeedDial(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const handleClick = (id) => () => {\r\n    handleClose();\r\n    if(id == 0) props.toggleDrawer('bottom', true)\r\n    else if(id == 1) props.handleOpenD('new');\r\n  }\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.exampleWrapper}>\r\n        <SpeedDial\r\n          ariaLabel=\"SpeedDial example\"\r\n          className={classes.speedDial}\r\n          icon={<SpeedDialIcon />}\r\n          onClose={handleClose}\r\n          onOpen={handleOpen}\r\n          open={open}\r\n          direction={'up'}\r\n        >\r\n          {actions.map((action, id) => (\r\n            <SpeedDialAction\r\n              key={action.name}\r\n              icon={action.icon}\r\n              tooltipTitle={action.name}\r\n              onClick={handleClick(id)}\r\n            />\r\n          ))}\r\n        </SpeedDial>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Select from '@material-ui/core/Select';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Chip from '@material-ui/core/Chip';\nimport OutlinedInput from '@material-ui/core/OutlinedInput'\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    width: '100%',\n    minWidth: 120,\n    maxWidth: '100%',\n  },\n  chips: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  chip: {\n    margin: 2,\n  },\n  noLabel: {\n    marginTop: theme.spacing(3),\n  },\n}));\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n    },\n  },\n};\n\nconst names = [\n  '一人',\n  '友人',\n  'カップル',\n  '家族',\n  'せっかち',\n  'ゆっくり',\n  '男性におすすめ',\n  '女性におすすめ',\n  '定番',\n  '安さ重視',\n  '学生',\n];\n\nfunction getStyles(name, personName, theme) {\n  return {\n    fontWeight:\n      personName.indexOf(name) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\n\nexport default function MultipleSelect(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [personName, setPersonName] = React.useState([]);\n\n  const handleChange = (event) => {\n    props.setState(event.target.value);\n  };\n\n  const handleChangeMultiple = (event) => {\n    const { options } = event.target;\n    const value = [];\n    for (let i = 0, l = options.length; i < l; i += 1) {\n      if (options[i].selected) {\n        value.push(options[i].value);\n      }\n    }\n    props.setState(value);\n  };\n\n  return (\n    <>\n      <FormControl className={classes.formControl}>\n        <InputLabel id=\"demo-mutiple-chip-label\">{props.label}</InputLabel>\n        <Select\n          labelId=\"demo-mutiple-chip-label\"\n          id=\"demo-mutiple-chip\"\n          multiple\n          value={props.state}\n          onChange={handleChange}\n          input={<Input id=\"select-multiple-chip\" margin='dense'/>}\n          renderValue={(selected) => (\n            <div className={classes.chips}>\n              {selected.map((value) => (\n                <Chip size='small' key={value} label={value} className={classes.chip} />\n              ))}\n            </div>\n          )}\n          MenuProps={MenuProps}\n        >\n          {names.map((name) => (\n            <MenuItem dense key={name} value={name} style={getStyles(name, personName, theme)}>\n              {name}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    </>\n  );\n}\n","import 'date-fns'\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardTimePicker,\r\n  KeyboardDatePicker,\r\n  TimePicker,\r\n} from '@material-ui/pickers';\r\n\r\nexport default function MaterialUIPickers(props) {\r\n  return (\r\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n      <TimePicker\r\n        margin=\"dense\"\r\n        id=\"time-picker\"\r\n        label={props.label}\r\n        value={props.selectedDate}\r\n        onChange={props.handleDateChange}\r\n        KeyboardButtonProps={{\r\n          'aria-label': 'change time',\r\n        }}\r\n        style={{width: '100%',}}\r\n        size='small'\r\n      />\r\n    </MuiPickersUtilsProvider>\r\n  );\r\n}\r\n","import { useState, useContext, useEffect } from 'react'\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FastfoodIcon from '@material-ui/icons/Fastfood';\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\r\nimport HouseIcon from '@material-ui/icons/House';\r\nimport { TextField, Button, Box, Checkbox, Collapse, Fab, FormControlLabel, Typography, Avatar, Grid, } from '@material-ui/core';\r\nimport NavigationIcon from '@material-ui/icons/Navigation';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\nimport MultipleSelect from './MultipleSelect'\r\nimport MaterialUIPickers from './MaterialUIPickers'\r\n\r\nimport {AppContext} from './MyContext'\r\n\r\nimport {makePlan} from './funcs/planFuncs'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n  },\r\n}));\r\n\r\nexport default function SwitchListSecondary(props) {\r\n  const classes = useStyles();\r\n  const [checked, setChecked] = useState(['checkBox', 'new']);\r\n  const [regionName, setRegionName] = useState('大阪');\r\n  const [originName, setOriginName] = useState('大阪駅');\r\n  const [destinationName, setDestinationName] = useState('大阪駅');\r\n  const departureDate = new Date();\r\n  const arrivalDate = new Date();\r\n  departureDate.setHours(9)\r\n  departureDate.setMinutes(0)\r\n  arrivalDate.setHours(21)\r\n  arrivalDate.setMinutes(0)\r\n  const [departureTime, setDepartureTime] = useState(departureDate);\r\n  const [arrivalTime, setArrivalTime] = useState(arrivalDate);\r\n  const [querys, setQuerys] = useState([])\r\n\r\n  const { google, map, plan, setPlan, condition, setCondition, snackbarState, dialogState} = useContext(AppContext);\r\n\r\n\r\n\r\n  const handleToggle = (value) => () => {\r\n    const currentIndex = checked.indexOf(value);\r\n    const newChecked = [...checked];\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n    setChecked(newChecked);\r\n  };\r\n  useEffect(() => {\r\n    if(dialogState.status == 'update'){\r\n      handleToggle('new')()\r\n    }\r\n  }, [])\r\n  const handleChangeRegionName = (e) => {\r\n    setRegionName(e.target.value);\r\n  }\r\n  const handleChangeOriginName = (e) => {\r\n    setOriginName(e.target.value);\r\n  }\r\n  const handleChangeDestinationName = (e) => {\r\n    setDestinationName(e.target.value);\r\n  }\r\n  const handleDepartureDateChange = (date) => {\r\n    setDepartureTime(date);\r\n  };\r\n  const handleArrivalDateChange = (date) => {\r\n    setArrivalTime(date);\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const condition = {\r\n      regionName,\r\n      originName,\r\n      destinationName,\r\n      place: checked.indexOf('place') != -1,\r\n      lunch: checked.indexOf('lunch') != -1,\r\n      dinner: checked.indexOf('dinner') != -1,\r\n      departureTime: departureTime.getHours() * 3600 + departureTime.getMinutes() * 60,\r\n      arrivalTime: arrivalTime.getHours() * 3600 + arrivalTime.getMinutes() * 60,\r\n      querys,\r\n      status: checked.indexOf('new') != -1 ? 'new' : 'update',\r\n    };\r\n    if(checked.indexOf('checkBox') != -1) condition.destinationName = originName;\r\n    console.log(condition)\r\n    setCondition({...condition})\r\n    dialogState.handleClose()\r\n    const newPlan = await makePlan(google, map, plan, condition);\r\n    setPlan({...newPlan});\r\n    console.log(newPlan);\r\n    props.setCnt(props.cnt + 1)\r\n    snackbarState.handleOpen('プランが完成しました')\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <Box width='100%'>\r\n      <Box display=\"flex\" justifyContent=\"center\">\r\n        <Typography variant='h5'></Typography>\r\n      </Box>\r\n    </Box>\r\n    <Box color='text.secondary'>\r\n    <form onSubmit={handleSubmit}>\r\n      <List dense={false}>\r\n        <ListItem disableGutters>\r\n          <TextField label=\"エリア\" fullWidth margin='dense' required  onChange={handleChangeRegionName} value={regionName}/>\r\n        </ListItem>\r\n        <ListItem disableGutters>\r\n          <Grid container spacing={2}>\r\n          <Grid item xs={6}>\r\n          <TextField label='出発' fullWidth margin='dense' required onChange={handleChangeOriginName} value={originName} />\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n          <TextField label='到着' fullWidth margin='dense'onChange={handleChangeDestinationName} value={destinationName} />\r\n          </Grid>\r\n          </Grid>\r\n        </ListItem>\r\n        <Collapse in={checked.indexOf('checkBox') == -1}>\r\n          <ListItem disableGutters>\r\n          </ListItem>\r\n        </Collapse>\r\n        <ListItem disableGutters>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={6}>\r\n              <MaterialUIPickers label='出発時間' selectedDate={departureTime} handleDateChange={handleDepartureDateChange}/>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              <MaterialUIPickers label='到着時間' selectedDate={arrivalTime} handleDateChange={handleArrivalDateChange}/>\r\n            </Grid>\r\n          </Grid>\r\n        </ListItem>\r\n        <ListItem disableGutters>\r\n          <ListItemText id=\"switch-list-label-bluetooth\" primary={<Typography variant='body2'>新規作成</Typography>} />\r\n          <ListItemSecondaryAction>\r\n            <Switch\r\n              edge=\"end\"\r\n              onChange={handleToggle('new')}\r\n              checked={checked.indexOf('new') !== -1}\r\n              inputProps={{ 'aria-labelledby': 'switch-list-label-bluetooth' }}\r\n              color=\"primary\"\r\n            />\r\n          </ListItemSecondaryAction>\r\n        </ListItem>\r\n        <Collapse in={checked.indexOf('new') == -1}>\r\n          <ListItem disableGutters>\r\n            <ListItemText id=\"switch-list-label-bluetooth\" primary={<Typography variant='body2'>スポットを自動で追加</Typography>} />\r\n            <ListItemSecondaryAction>\r\n              <Switch\r\n                edge=\"end\"\r\n                onChange={handleToggle('place')}\r\n                checked={checked.indexOf('place') !== -1}\r\n                inputProps={{ 'aria-labelledby': 'switch-list-label-bluetooth' }}\r\n              />\r\n            </ListItemSecondaryAction>\r\n          </ListItem>\r\n        </Collapse>\r\n\r\n\r\n        <ListItem disableGutters>\r\n          <ListItemText id=\"switch-list-label-bluetooth\" primary={<Typography variant='body2'>昼食を自動で追加</Typography>} />\r\n          <ListItemSecondaryAction>\r\n            <Switch\r\n              edge=\"end\"\r\n              onChange={handleToggle('lunch')}\r\n              checked={checked.indexOf('lunch') !== -1}\r\n              inputProps={{ 'aria-labelledby': 'switch-list-label-bluetooth' }}\r\n            />\r\n          </ListItemSecondaryAction>\r\n        </ListItem>\r\n        <ListItem disableGutters>\r\n          <ListItemText id=\"switch-list-label-bluetooth\" primary={<Typography variant='body2'>夕食を自動で追加</Typography>} />\r\n          <ListItemSecondaryAction>\r\n            <Switch\r\n              edge=\"end\"\r\n              onChange={handleToggle('dinner')}\r\n              checked={checked.indexOf('dinner') !== -1}\r\n              inputProps={{ 'aria-labelledby': 'switch-list-label-bluetooth' }}\r\n            />\r\n          </ListItemSecondaryAction>\r\n        </ListItem>\r\n        <ListItem disableGutters>\r\n          <MultipleSelect label='その他' state={querys} setState={setQuerys}/>\r\n        </ListItem>\r\n      </List>\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        fullWidth\r\n        className={classes.button}\r\n        startIcon={<NavigationIcon />}\r\n        type='submit'\r\n        style={{marginTop: 20}}\r\n      >\r\n        Plan\r\n      </Button>\r\n    </form>\r\n    </Box>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport SwitchListSecondary from './SwitchListSecondary'\n\nimport { Box, Avatar, Typography, } from '@material-ui/core'\nimport NavigationIcon from '@material-ui/icons/Navigation';\n\nimport pink from '@material-ui/core/colors/pink';\nimport indigo from '@material-ui/core/colors/indigo';\n\nexport default function ScrollDialog(props) {\n  const handleClose = () => {\n    props.handleClose();\n  };\n\n  const descriptionElementRef = React.useRef(null);\n  React.useEffect(() => {\n    if (props.open) {\n      const { current: descriptionElement } = descriptionElementRef;\n      if (descriptionElement !== null) {\n        descriptionElement.focus();\n      }\n    }\n  }, [props.open]);\n\n  return (\n    <div>\n      <Dialog\n        open={props.open}\n        onClose={handleClose}\n        scroll={'paper'}\n        aria-labelledby=\"scroll-dialog-title\"\n        aria-describedby=\"scroll-dialog-description\"\n\n      >\n        <DialogTitle style={{backgroundColor: indigo[500]}}>\n        <Box display=\"flex\">\n          <Avatar>\n            <NavigationIcon />\n          </Avatar>\n          <Typography variant='h4' style={{color: 'white', marginLeft: 10}}>Plan</Typography>\n        </Box>\n        </DialogTitle>\n        <DialogContent dividers={'paper' === 'paper'} >\n          {props.content}\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","import { useState, } from 'react'\r\nimport CustomizedTimeline from './CustomizedTimeline';\r\nimport MySpeedDial from './MySpeedDial'\r\nimport MyDrawer from './MyDrawer'\r\nimport ScrollDialog from './ScrollDialog'\r\nimport SwitchListSecondary from './SwitchListSecondary'\r\n\r\nexport default function Action(props){\r\n  const [openDrawer, setOpenDrawer] = useState({\r\n    top: false,\r\n    left: false,\r\n    bottom: false,\r\n    right: false,\r\n  });\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [condition, setCondition] = useState({regionName: '大阪', originName: '大阪駅'});\r\n  const [title, setTitle] = useState(null);\r\n  const toggleDrawer = (anchor, open) => {\r\n    setOpenDrawer({ ...openDrawer, [anchor]: open });\r\n  };\r\n  const handleOpen = (status) => {\r\n    condition.status = status;\r\n    setCondition({...condition});\r\n    setOpenDialog(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpenDialog(false);\r\n  };\r\n\r\n  return(\r\n    <>\r\n      <MyDrawer drawer={<CustomizedTimeline handleOpenD={props.handleOpenD} toggleDrawer={toggleDrawer}/>} toggleDrawer={toggleDrawer} state={openDrawer} anchor={'bottom'}/>\r\n      <MySpeedDial toggleDrawer={toggleDrawer} handleOpenD={props.handleOpenD}/>\r\n    </>\r\n  )\r\n}\r\n","export function addMarkers(google, map, places, type, origin, destination){\r\n  const alphabet = 'abcdefghijklmnopqrstuvwxyz';\r\n  const infoWindow = new google.maps.InfoWindow();\r\n  const originMarker = origin == null ? null : addMarker(google, map, infoWindow, origin, alphabet[25])\r\n  const destinationMarker = destination == null ? null : addMarker(google, map, infoWindow, destination, alphabet[25])\r\n  const markers = places.map((place, id) => {\r\n    const labelText = type.name == 'plan' ? alphabet[id] : type.iconCode;\r\n    return addMarker(google, map, infoWindow, place, labelText, type.name == 'plan' ? null : 'Material Icons')\r\n  })\r\n  return {markers, originMarker, destinationMarker}\r\n}\r\n\r\nexport function addMarker(google, map, infoWindow, place, labelText, fontFamily){\r\n  const label = {\r\n    text: labelText, // codepoint from https://fonts.google.com/icons\r\n    color: \"#ffffff\",\r\n    fontSize: \"18px\"\r\n  }\r\n  if(fontFamily != null) label.fontFamily = fontFamily\r\n  const option = {\r\n    position: {\r\n      lat: place.geometry.location.lat(),\r\n      lng: place.geometry.location.lng(),\r\n    },\r\n    map: map,\r\n    label: label,\r\n    title: place.name,\r\n    optimized: false,\r\n    animation: google.maps.Animation.DROP,\r\n  }\r\n  const marker = new google.maps.Marker(option);\r\n  marker.addListener(\"click\", () => {\r\n    infoWindow.close();\r\n    infoWindow.setContent(marker.getTitle());\r\n    infoWindow.open(marker.getMap(), marker);\r\n  });\r\n  marker.setMap(map)\r\n  return marker;\r\n}\r\n\r\nexport function showMarker(google, map, itinerary){\r\n  const label = 'abcdefghijklmnopqrstuvwxyz';\r\n  const originOption = {\r\n    position: {\r\n      lat: itinerary[0].geometry.location.lat(),\r\n      lng: itinerary[0].geometry.location.lng(),\r\n    },\r\n    map: map,\r\n    icon: {\r\n      url: \"http://maps.google.com/mapfiles/ms/icons/flag.png\",\r\n    },\r\n  }\r\n  const originMarker = new google.maps.Marker(originOption);\r\n  originMarker.setMap(map)\r\n  const destinationOption = {\r\n    position: {\r\n      lat: itinerary.slice(-1)[0].geometry.location.lat(),\r\n      lng: itinerary.slice(-1)[0].geometry.location.lng(),\r\n    },\r\n    map: map,\r\n    icon: {\r\n      url: \"http://maps.google.com/mapfiles/ms/icons/flag.png\",\r\n    },\r\n  }\r\n  const destinationMarker = new google.maps.Marker(destinationOption);\r\n  destinationMarker.setMap(map);\r\n  const spotMarkers = [];\r\n  const infoWindow = new google.maps.InfoWindow();\r\n  for(var i = 1; i < itinerary.length-1; i++){\r\n    const marker = addMarker(google, map, itinerary[i], label[(i-1) % label.length]);\r\n    spotMarkers.push(marker);\r\n  }\r\n  map.setCenter({lat: itinerary[0].geometry.location.lat(), lng: itinerary[0].geometry.location.lng()});\r\n  return {originMarker, destinationMarker, spotMarkers};\r\n}\r\n","import { useState, useContext, useEffect ,} from 'react'\r\nimport Map from './Map';\r\nimport {AppContext} from './MyContext'\r\nimport Top from './Top';\r\nimport Bottom from './Bottom';\r\nimport Action from './Action'\r\n\r\nimport { useGoogle } from './funcs/customHooks';\r\nimport { usePlan, } from './funcs/customHooks'\r\nimport { addMarkers, } from './funcs/markerFuncs';\r\nimport { findPlaces } from './funcs/googleMapAPI';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Box, } from '@material-ui/core'\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport LocalCafeIcon from '@material-ui/icons/LocalCafe';\r\nimport NatureIcon from '@material-ui/icons/Nature';\r\nimport PetsIcon from '@material-ui/icons/Pets';\r\nimport EmojiPeopleIcon from '@material-ui/icons/EmojiPeople';\r\nimport RestaurantIcon from '@material-ui/icons/Restaurant';\r\n\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport ScrollDialog from './ScrollDialog'\r\nimport SwitchListSecondary from './SwitchListSecondary'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    position: 'relative',\r\n  },\r\n}));\r\n\r\nconst types = [\r\n  {name: 'plan', japanese: 'プラン', query: '', icon: <FaceIcon />, iconCode: '\\ue87c'},\r\n  {name: 'touristAttractions', japanese: '観光スポット', query: '観光スポット', icon: <EmojiPeopleIcon />, iconCode: '\\uea1d'},\r\n  {name: 'restrant', japanese: 'レストラン', query: 'レストラン', icon: <RestaurantIcon />, iconCode: '\\ue56c'},\r\n  {name: 'park', japanese: '公園', query: '公園', icon: <NatureIcon />,iconCode: '\\ue406'},\r\n  {name: 'cafe', japanese: 'カフェ', query: 'カフェ', icon: <LocalCafeIcon />,iconCode: '\\ue541'},\r\n  {name: 'amusementPark', japanese: '遊園地', query: '遊園地', icon: <PetsIcon />,iconCode: '\\ue91d'},\r\n]\r\n\r\nexport default function Home(){\r\n  const classes = useStyles();\r\n\r\n  const [chipIndex, setChipIndex] = useState(0);\r\n  const { google, map, plan, snackbarState, dialogState, } = useContext(AppContext)\r\n  const [places, setPlaces] = useState(null);\r\n  const [text, setText] = useState(null);\r\n  const [markers, setMarkers] = useState(null);\r\n  const [display, setDisplay] = useState(false);\r\n  const [cnt, setCnt] = useState(0);\r\n\r\n  // const handleOpenS = (text) => {\r\n  //   setSnackbarState({...snackbarState, open: true, text})\r\n  // }\r\n  // const handleCloseS = () => {\r\n  //   setSnackbarState({...snackbarState, open: false})\r\n  // }\r\n  // const [snackbarState, setSnackbarState] = useState({open: false, handleClose: handleCloseS});\r\n  // const handleOpenD = (status) => {\r\n  //   setDialogState({...dialogState, open: true, status});\r\n  // }\r\n  // const handleCloseD = () => {\r\n  //   setDialogState({...dialogState, open: false})\r\n  // }\r\n  // const [dialogState, setDialogState] = useState({open: false, handleClose: handleCloseD})\r\n\r\n  useGoogle();\r\n  // usePlan(cnt, setCnt, handleOpenS);\r\n\r\n  const handleClick = async (id) => {\r\n    setChipIndex(id);\r\n    setCnt(cnt + 1)\r\n  }\r\n  const handleSubmit = async (text) => {\r\n    setText(text)\r\n    setChipIndex(-1);\r\n    setCnt(cnt + 1)\r\n  }\r\n\r\n  useEffect(() => {\r\n    snackbarState.handleOpen('プランを新規作成しましょう')\r\n    dialogState.handleOpen('new')\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    (async() => {\r\n      var places;\r\n      if(chipIndex == 0){\r\n        places = plan == null ? null : plan.places;\r\n      }\r\n      else if(chipIndex == -1){\r\n        places = await findPlaces(google, map, text);\r\n      }\r\n      else{\r\n        places = await findPlaces(google, map, types[chipIndex].query);\r\n      }\r\n      setPlaces(places);\r\n      if(places == null) return;\r\n\r\n      setDisplay(true);\r\n    })()\r\n\r\n    return () => {\r\n      setDisplay(false);\r\n    }\r\n  }, [cnt])\r\n\r\n  useEffect(() => {\r\n    if(places == null) return;\r\n    var markers;\r\n    if(chipIndex == 0) markers = addMarkers(google, map, places, types[chipIndex], plan.origin, plan.destination)\r\n    else markers = addMarkers(google, map, places, chipIndex == -1 ? types[1] : types[chipIndex])\r\n    setMarkers({...markers});\r\n    map.panTo({lat: places[0].geometry.location.lat(), lng: places[0].geometry.location.lng()})\r\n\r\n    return () => {\r\n      if(markers != null){\r\n        markers.markers.map((marker) => marker.setMap(null));\r\n        if(markers.originMarker != null) markers.originMarker.setMap(null);\r\n        if(markers.destinationMarker != null) markers.destinationMarker.setMap(null);\r\n      }\r\n    }\r\n  }, [places])\r\n\r\n  return(\r\n    <Box className={classes.root}>\r\n      <div style={{height: window.innerHeight}}>\r\n        <Map />\r\n      </div>\r\n      <Box style={{position: 'absolute', width: '100%', top: 20}}>\r\n        <Top onClick={handleClick} chipIndex={chipIndex} types={types} onSubmit={handleSubmit}/>\r\n      </Box>\r\n      <Box style={{position: 'absolute', width: '100%', bottom: 20}}>\r\n        <Bottom chipIndex={chipIndex} setChipIndex={setChipIndex} types={types} places={places} setPlaces={setPlaces} markers={markers} setMarkers={setMarkers} display={display} handleOpenS={snackbarState.handleOpen}/>\r\n      </Box>\r\n      <Box style={{position: 'absolute', bottom: 20, right: 70}}>\r\n        <Action handleOpenD={dialogState.handleOpen}/>\r\n      </Box>\r\n      <MySnackbar {...snackbarState}/>\r\n      <ScrollDialog {...dialogState} content={<SwitchListSecondary cnt={cnt} setCnt={setCnt}/>}/>\r\n    </Box>\r\n  );\r\n}\r\n\r\nfunction MySnackbar(props){\r\n  return(\r\n    <Snackbar open={props.open} autoHideDuration={3000} onClose={props.handleClose}>\r\n      <Alert elevation={6} variant=\"filled\" onClose={props.handleClose} severity=\"success\">\r\n        {props.text}\r\n      </Alert>\r\n    </Snackbar>\r\n  )\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { Box, Typography, Zoom, } from '@material-ui/core';\r\nimport LoyaltyIcon from '@material-ui/icons/Loyalty';\r\nimport { useState, } from 'react';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    height: window.innerHeight,\r\n    backgroundColor: 'pink',\r\n  },\r\n}));\r\nexport default function FirstPage(props){\r\n  const classes = useStyles();\r\n  const [display, setDisplay] = useState(true);\r\n  const handleEnter = () => {\r\n    setTimeout(() => {\r\n      setDisplay(false)\r\n    }, 1000)\r\n  }\r\n  return(\r\n    <Box className={classes.root} justifyContent=\"center\" alignItems=\"center\" display=\"flex\">\r\n      <Zoom in={display} timeout={300} onEnter={handleEnter} onExited={() => props.setFirstPage(false)}>\r\n        <Box mx='auto'>\r\n          <Box display=\"flex\" justifyContent=\"center\">\r\n            <LoyaltyIcon style={{ color: 'white', fontSize: 200 }}/>\r\n          </Box>\r\n        </Box>\r\n      </Zoom>\r\n    </Box>\r\n  )\r\n}\r\n","import { useState, createContext } from 'react'\nimport { makeStyles, } from '@material-ui/core/styles';\nimport { useGoogle } from './funcs/customHooks';\n\nimport Home from './Home';\nimport FirstPage from './FirstPage'\nimport MyContext from './MyContext'\n\n// export const AppContext = createContext();\n\nexport default function App() {\n  const [firstPage, setFirstPage] = useState(true);\n  \n  if(firstPage) return(\n    <FirstPage setFirstPage={setFirstPage}/>\n  )\n  return(\n    <MyContext>\n      <Home />\n    </MyContext>\n  )\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
{"version":3,"sources":["Hero.js","TextForm.js","SingleLineImageList.js","images/img_osaka.jpg","prefectures.js","images/img_tokyo.jpg","images/img_hokkaido.jpg","PopularRegions.js","funcs.js","HomePage.js","images/img_travel.jpg","HeroImg.js","SwitchListSecondary.js","ConditionPage.js","Map.js","TitlebarImageList.js","EditPage.js","MediaCard.js","AddPage.js","CustomizedTimeline.js","ItineraryPage.js","SimpleTabs.js","PlanPage.js","ButtonAppBar.js","BottomNavigation.js","App.js","reportWebVitals.js","index.js"],"names":["Hero","Box","height","justifyContent","alignItems","display","bgcolor","mx","style","color","fontSize","Typography","variant","TextForm","props","useState","initialValue","text","setText","onSubmit","e","preventDefault","TextField","required","fullWidth","id","label","onChange","target","value","useStyles","makeStyles","theme","root","flexWrap","overflow","backgroundColor","palette","background","paper","imageList","transform","title","titleBar","SingleLineImageList","classes","itemData","className","ImageList","cols","rowHeight","map","item","ImageListItem","onClick","src","img","alt","name","ImageListItemBar","prefectures","Osaka","originName","Tokyo","Hokkaido","PopularRegions","popularRegions","findSpots","google","regionName","a","findPlace","origin","findPlaces","geometry","location","spots","slice","showMarker","itinerary","originOption","position","lat","lng","icon","url","originMarker","maps","Marker","setMap","destinationOption","destinationMarker","spotMarkers","infoWindow","InfoWindow","option","i","length","optimized","animation","Animation","DROP","marker","addListener","close","setContent","getTitle","open","getMap","push","setCenter","makePlan","destinationName","waypts","spot","formatted_address","stopover","drivingDirection","direction","legs","routes","leg","duration","newText","getDurationStr","newSpots","updateSpots","getItinerary","waypoint_order","stayTime","request","query","start_location","destination","end_location","unshift","time","arrivalTime","getTimeStr","departureTime","insertLunch","plan","lunch","goDirection","goLeg","backDirection","backLeg","j","splice","service","places","PlacesService","fields","locationBias","north","east","south","west","Promise","resolve","findPlaceFromQuery","results","status","PlacesServiceStatus","OK","place","bounds","radius","textSearch","waypoints","directionsService","DirectionsService","travelMode","TravelMode","DRIVING","optimizeWaypoints","route","then","response","catch","console","log","h","Math","floor","m","str","HomePage","history","useHistory","useContext","AppContext","setGoogle","useEffect","Loader","apiKey","version","libraries","load","useGoogle","handleClick","region","width","maxWidth","my","Divider","HeroImg","imgTravel","fab","bottom","spacing","SwitchListSecondary","checked","setChecked","condition","setRegionName","setOriginName","setDestinationName","handleToggle","currentIndex","indexOf","newChecked","meal","List","subheader","ListSubheader","ListItem","ListItemIcon","ListItemText","primary","Checkbox","inputProps","Collapse","in","ListItemSecondaryAction","Switch","edge","Fab","type","ConditionPage","useLocation","setCondition","state","Zoom","mountOnEnter","Map","mapContainerRef","useRef","current","zoom","center","useMap","ref","addIcon","TitlebarImageList","component","photos","getUrl","subtitle","actionIcon","IconButton","actionPosition","onClickCancel","onClickAdd","EditPage","setValue","setPlan","markers","setMarkers","media","MediaCard","Card","CardActionArea","CardMedia","image","CardContent","gutterBottom","CardActions","Button","size","AddPage","setPlace","setMarker","handleSubmit","transitionDelay","padding","SpotTimelineItem","TimelineItem","TimelineOppositeContent","flex","TimelineSeparator","flexGrow","Badge","anchorOrigin","vertical","horizontal","badgeContent","Avatar","TimelineConnector","TimelineContent","Paper","elevation","rating","Rating","precision","readOnly","user_ratings_total","PointTimelineItem","LegTimelineItem","CustomizedTimeline","Timeline","Skeleton","ItineraryPage","TabPanel","children","index","other","role","hidden","a11yProps","SimpleTabs","React","AppBar","Tabs","event","newValue","Tab","PlanPage","newPlan","newMarkers","usePlan","menuButton","marginRight","ButtonAppBar","Toolbar","pathname","LabelBottomNavigation","BottomNavigation","BottomNavigationAction","createContext","bottomNavigation","App","Provider","mb","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.08d58957.chunk.js","sourcesContent":["import {\r\n  Box,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport LoyaltyIcon from '@material-ui/icons/Loyalty';\r\n\r\nexport default function Hero() {\r\n  return(\r\n    <Box height=\"70vh\" justifyContent=\"center\" alignItems=\"center\" display=\"flex\" bgcolor='#3f51b5'>\r\n      <Box mx='auto'>\r\n        <Box display=\"flex\" justifyContent=\"center\">\r\n          <LoyaltyIcon style={{ color: 'white', fontSize: 200 }}/>\r\n        </Box>\r\n\r\n        <Typography variant=\"h2\"><Box color=\"white\">Let's plan!</Box></Typography>\r\n        <Typography variant=\"subtitle1\"><Box color=\"white\">旅行の予定を自動で作成</Box></Typography>\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport {\r\n  Box,\r\n  TextField,\r\n} from '@material-ui/core';\r\n\r\nexport default function TextForm(props){\r\n  const [text, setText] = useState(props.initialValue);\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onSubmit(text);\r\n  }\r\n  const handleChange = (e) => {\r\n    setText(e.target.value);\r\n  }\r\n  return(\r\n    <form onSubmit={handleSubmit}>\r\n      <TextField required fullWidth={props.fullWidth} id=\"standard-basic\" label={props.label} variant=\"filled\" onChange={handleChange} value={text}/>\r\n    </form>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ImageList from '@material-ui/core/ImageList';\r\nimport ImageListItem from '@material-ui/core/ImageListItem';\r\nimport ImageListItemBar from '@material-ui/core/ImageListItemBar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\r\n// import itemData from './itemData';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-around',\r\n    overflow: 'hidden',\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  imageList: {\r\n    flexWrap: 'nowrap',\r\n    // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\r\n    transform: 'translateZ(0)',\r\n  },\r\n  title: {\r\n    color: 'white',\r\n  },\r\n  titleBar: {\r\n    background:\r\n      'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\r\n  },\r\n}));\r\n\r\n/**\r\n * The example data is structured as follows:\r\n *\r\n * import image from 'path/to/image.jpg';\r\n * [etc...]\r\n *\r\n * const itemData = [\r\n *   {\r\n *     img: image,\r\n *     title: 'Image',\r\n *     author: 'author',\r\n *   },\r\n *   {\r\n *     [etc...]\r\n *   },\r\n * ];\r\n */\r\n\r\n\r\nexport default function SingleLineImageList(props) {\r\n  const classes = useStyles();\r\n  const itemData = props.itemData;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ImageList className={classes.imageList} cols={2.5} rowHeight={120}>\r\n        {itemData.map((item, id) => (\r\n          <ImageListItem key={item.img} onClick={(e) => props.onClick(e, id)}>\r\n            <img src={item.img} alt={item.name} />\r\n            <ImageListItemBar\r\n              title={item.name}\r\n              classes={{\r\n                root: classes.titleBar,\r\n                title: classes.title,\r\n              }}\r\n            />\r\n          </ImageListItem>\r\n        ))}\r\n      </ImageList>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/img_osaka.c9ba6993.jpg\";","import imgOsaka from './images/img_osaka.jpg';\nimport imgTokyo from './images/img_tokyo.jpg';\nimport imgHokkaido from './images/img_hokkaido.jpg';\nexport const prefectures = {\n  Osaka: {\n    name: '大阪',\n    originName: '大阪駅',\n    img: imgOsaka,\n  },\n  Tokyo: {\n    name: '東京',\n    originName: '東京駅',\n    img: imgTokyo,\n  },\n  Hokkaido: {\n    name: '北海道',\n    originName: '札幌駅',\n    img: imgHokkaido,\n  }\n}\n","export default __webpack_public_path__ + \"static/media/img_tokyo.ebbf7b3f.jpg\";","export default __webpack_public_path__ + \"static/media/img_hokkaido.bd87e191.jpg\";","import {\r\n  Box,\r\n  Typography,\r\n} from '@material-ui/core';\r\n\r\nimport SingleLineImageList from './SingleLineImageList';\r\n\r\nimport { prefectures } from './prefectures';\r\n\r\nexport default function PopularRegions(props){\r\n  var popularRegions = [\r\n    prefectures.Osaka,\r\n    prefectures.Tokyo,\r\n    prefectures.Hokkaido,\r\n  ]\r\n\r\n  const handleClick = (e, id) => {\r\n    props.onClick(popularRegions[id]);\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <Typography variant='subtitle1'><Box color=\"gray\">人気のエリア</Box></Typography>\r\n      <SingleLineImageList itemData={popularRegions} onClick={handleClick}/>\r\n    </>\r\n  )\r\n}\r\n","import {\r\n  useState,\r\n  useEffect,\r\n  useContext\r\n} from 'react';\r\nimport { Loader } from \"@googlemaps/js-api-loader\"\r\nimport { AppContext } from './App';\r\n\r\nexport const usePlan = () => {\r\n  const {google, map, plan, setPlan, markers, setMarkers, condition} = useContext(AppContext);\r\n\r\n  useEffect(async () => {\r\n    if(google == null || map == null) return;\r\n\r\n    if(markers != null){\r\n      markers.originMarker.setMap(null);\r\n      markers.destinationMarker.setMap(null);\r\n      markers.spotMarkers.map(marker => {marker.setMap(null)});\r\n    }\r\n\r\n    // var regionName = '大阪', originName = '大阪駅', destinationName = '萱嶋駅';\r\n    const {regionName, originName, destinationName, meal, status} = condition;\r\n    var spots;\r\n    if(plan == null){\r\n      spots = await findSpots(google, map, regionName, originName)\r\n    }\r\n    else{\r\n      spots = plan.newSpots;\r\n      setPlan(null);\r\n    }\r\n\r\n    const newPlan = await makePlan(google, map, originName, destinationName, spots);\r\n    if(meal) await insertLunch(google, map, newPlan);\r\n    newPlan.newSpots = [...newPlan.spots];\r\n    setPlan({...newPlan});\r\n\r\n    var newMarkers = showMarker(google, map, newPlan.itinerary)\r\n    setMarkers({...newMarkers});\r\n\r\n    console.log(newPlan);\r\n  }, [google, map, condition])\r\n  return plan;\r\n}\r\n\r\nconst findSpots = async (google, map, regionName, originName) => {\r\n  var region = await findPlace(google, map, regionName);\r\n  var origin = await findPlace(google, map, originName);\r\n  var spots = await findPlaces(google, map, regionName + '観光', origin[0].geometry.location);\r\n  spots = spots.slice(0, 5);\r\n  return spots;\r\n}\r\n\r\n\r\nexport const usePlace = (query, location) => {\r\n  const [place, setPlace] = useState(null);\r\n  const {google, map} = useContext(AppContext);\r\n  useEffect(() => {\r\n    if(google == null || map == null) return;\r\n    var service = new google.maps.places.PlacesService(map);\r\n    var request = {\r\n      query: query,\r\n      fields: ['name', 'geometry', 'formatted_address', 'photos'],\r\n    };\r\n    if(location == null){\r\n      request.locationBias = {north: 45.29328154474485, east: 153.2360484603554, south: 26.151593390188783, west: 126.5636657976794};\r\n    }\r\n    else{\r\n      request.locationBias = {lat: location.lat(), lng: location.lng()};\r\n    }\r\n    console.log(request)\r\n    service.findPlaceFromQuery(request, function(results, status) {\r\n      if (status === google.maps.places.PlacesServiceStatus.OK) {\r\n        setPlace(results);\r\n        console.log(results);\r\n      }\r\n    });\r\n  }, [google, map])\r\n  return place;\r\n}\r\n\r\nexport const useGoogle = () => {\r\n  // const [google, setGoogle] = useState(null);\r\n  const {google, setGoogle} = useContext(AppContext);\r\n  console.log(google);\r\n  useEffect(() => {\r\n    // if(google != null) return;\r\n    const API_KEY = \"AIzaSyCkNip5D4glIDSddF__OlVzY1ovG5yVf7g\";\r\n    const loader = new Loader({\r\n      apiKey: API_KEY,\r\n      version: \"weekly\",\r\n      libraries: [\"places\"],\r\n    });\r\n    loader.load().then((google) => {\r\n      setGoogle(google);\r\n    })\r\n  }, [])\r\n  // return google;\r\n}\r\nexport const useMap = (mapContainerRef) => {\r\n  // const [map, setMap] = useState(null);\r\n  const {google, setMap} = useContext(AppContext);\r\n  useEffect(() => {\r\n    console.log('useMap')\r\n    if(google == null || mapContainerRef == null) return;\r\n    const initialConfig = {\r\n      zoom: 15,\r\n      center: { lat: 35.6432027, lng: 139.6729435 }\r\n    }\r\n    const map = new google.maps.Map(mapContainerRef.current, initialConfig);\r\n    setMap(map);\r\n  }, [google, mapContainerRef]);\r\n  // return map;\r\n}\r\n\r\nexport function showMarker(google, map, itinerary){\r\n  const label = 'abcdefghijklmnopqrstuvwxyz';\r\n  const originOption = {\r\n    position: {\r\n      lat: itinerary[0].geometry.location.lat(),\r\n      lng: itinerary[0].geometry.location.lng(),\r\n    },\r\n    map: map,\r\n    icon: {\r\n      url: \"http://maps.google.com/mapfiles/ms/icons/flag.png\",\r\n    },\r\n  }\r\n  const originMarker = new google.maps.Marker(originOption);\r\n  originMarker.setMap(map)\r\n  const destinationOption = {\r\n    position: {\r\n      lat: itinerary.slice(-1)[0].geometry.location.lat(),\r\n      lng: itinerary.slice(-1)[0].geometry.location.lng(),\r\n    },\r\n    map: map,\r\n    icon: {\r\n      url: \"http://maps.google.com/mapfiles/ms/icons/flag.png\",\r\n    },\r\n  }\r\n  const destinationMarker = new google.maps.Marker(destinationOption);\r\n  destinationMarker.setMap(map);\r\n  const spotMarkers = [];\r\n  const infoWindow = new google.maps.InfoWindow();\r\n  for(var i = 1; i < itinerary.length-1; i++){\r\n    const option = {\r\n      position: {\r\n        lat: itinerary[i].geometry.location.lat(),\r\n        lng: itinerary[i].geometry.location.lng(),\r\n      },\r\n      map: map,\r\n      label: {\r\n        text: label[(i-1) % label.length],\r\n        color: 'white',\r\n      },\r\n      title: itinerary[i].name,\r\n      optimized: false,\r\n      animation: google.maps.Animation.DROP,\r\n    }\r\n    const marker = new google.maps.Marker(option);\r\n    marker.addListener(\"click\", () => {\r\n      infoWindow.close();\r\n      infoWindow.setContent(marker.getTitle());\r\n      infoWindow.open(marker.getMap(), marker);\r\n    });\r\n    marker.setMap(map)\r\n    spotMarkers.push(marker);\r\n  }\r\n  map.setCenter({lat: itinerary[0].geometry.location.lat(), lng: itinerary[0].geometry.location.lng()});\r\n  return {originMarker, destinationMarker, spotMarkers};\r\n}\r\n\r\nexport async function makePlan(google, map, originName, destinationName, spots){\r\n  var waypts = spots.map(spot => {\r\n    return {\r\n      location: spot.formatted_address,\r\n      stopover: true,\r\n    }\r\n  });\r\n  var direction = await drivingDirection(google, originName, destinationName, waypts);\r\n  var legs = direction.routes[0].legs;\r\n  legs.map(leg => {\r\n    leg.duration.value *= 2;\r\n    leg.duration.newText = getDurationStr(leg.duration.value);\r\n  })\r\n  var newSpots = updateSpots(direction, spots);\r\n  var itinerary = getItinerary(newSpots, legs, direction);\r\n  return {spots: newSpots, itinerary, legs};\r\n}\r\n\r\nconst updateSpots = (direction, spots) => {\r\n  var newSpots = direction.routes[0].waypoint_order.map(i => {\r\n    var spot = spots[i];\r\n    spot.stayTime = {\r\n      value: 1 * 3600,\r\n      text: getDurationStr(1 * 3600),\r\n    };\r\n    return spot;\r\n  });\r\n  return newSpots;\r\n}\r\n\r\nconst getItinerary = (spots, legs, direction) => {\r\n  var itinerary = spots.slice();\r\n  var origin = {\r\n    name: direction.request.origin.query,\r\n    geometry: {\r\n      location: direction.routes[0].legs[0].start_location,\r\n    },\r\n    stayTime: {\r\n      value: 0,\r\n      text: getDurationStr(0),\r\n    }\r\n  };\r\n  var destination = {\r\n    name: direction.request.destination.query,\r\n    geometry: {\r\n      location: direction.routes[0].legs.slice(-1)[0].end_location,\r\n    },\r\n    stayTime: {\r\n      value: 0,\r\n      text: getDurationStr(0),\r\n    }\r\n  };\r\n  itinerary.unshift(origin);\r\n  itinerary.push(destination);\r\n\r\n  var time = 9 * 3600;\r\n  for(var i = 0; i < itinerary.length; i++){\r\n    itinerary[i].arrivalTime = {\r\n      text: getTimeStr(time),\r\n      value: time,\r\n    };\r\n    time += itinerary[i].stayTime.value;\r\n    itinerary[i].departureTime = {\r\n      text: getTimeStr(time),\r\n      value: time,\r\n    }\r\n    if(i < legs.length){\r\n      time += legs[i].duration.value;\r\n    }\r\n  }\r\n  return itinerary;\r\n}\r\n\r\nconst insertLunch = async (google, map, plan) => {\r\n  const {itinerary, legs, spots} = plan;\r\n  for(var i = 0; i < itinerary.length - 1; i++){\r\n    if(itinerary[i].departureTime.value >= 12 * 3600){\r\n      var [lunch] = await findPlace(google, map, '昼食', itinerary[i].geometry.location);\r\n      lunch.stayTime = {\r\n        value: 3600,\r\n        text: getDurationStr(3600),\r\n      }\r\n      var goDirection = await drivingDirection(google, itinerary[i].formatted_address, lunch.formatted_address);\r\n      var goLeg = goDirection.routes[0].legs[0];\r\n      var backDirection = await drivingDirection(google, lunch.formatted_address, itinerary[i+1].formatted_address);\r\n      var backLeg = backDirection.routes[0].legs[0];\r\n      goLeg.duration.value *= 2;\r\n      goLeg.duration.newText = getDurationStr(goLeg.duration.value);\r\n      backLeg.duration.value *= 2;\r\n      backLeg.duration.newText = getDurationStr(backLeg.duration.value);\r\n      var time = itinerary[i].departureTime.value + goLeg.duration.value;\r\n      var duration = goLeg.duration.value + lunch.stayTime.value + backLeg.duration.value;\r\n      lunch.arrivalTime = {\r\n        value: time,\r\n        text: getTimeStr(time),\r\n      }\r\n      time += lunch.stayTime.value;\r\n      lunch.departureTime = {\r\n        value: time,\r\n        text: getTimeStr(time),\r\n      }\r\n      time += backLeg.duration.value;\r\n      for(var j = i + 1; j < itinerary.length; j++){\r\n        itinerary[j].arrivalTime.value += duration - legs[i].duration.value;\r\n        itinerary[j].arrivalTime.text = getTimeStr(itinerary[j].arrivalTime.value)\r\n        itinerary[j].departureTime.value += duration - legs[i].duration.value;\r\n        itinerary[j].departureTime.text = getTimeStr(itinerary[j].departureTime.value);\r\n      }\r\n      itinerary.splice(i+1, 0, lunch);\r\n      legs.splice(i, 1, goLeg, backLeg);\r\n      spots.splice(i+1, 0, lunch);\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nexport const findPlace = async (google, map, query, location) => {\r\n  var service = new google.maps.places.PlacesService(map);\r\n  var request = {\r\n    query: query,\r\n    fields: ['name', 'geometry', 'formatted_address', 'photos'],\r\n  };\r\n  if(location == null){\r\n    request.locationBias = {north: 45.29328154474485, east: 153.2360484603554, south: 26.151593390188783, west: 126.5636657976794};\r\n  }\r\n  else{\r\n    request.locationBias = {lat: location.lat(), lng: location.lng()};\r\n  }\r\n  var place = await new Promise(resolve => {\r\n    service.findPlaceFromQuery(request, function(results, status) {\r\n      if (status === google.maps.places.PlacesServiceStatus.OK) {\r\n        resolve(results);\r\n      }\r\n    });\r\n  });\r\n  return place;\r\n}\r\n\r\nexport const findPlaces = async (google, map, query, location) => {\r\n  var service = new google.maps.places.PlacesService(map);\r\n  var request = {\r\n    query,\r\n  }\r\n  if(location == null){\r\n    request.bounds = {north: 45.29328154474485, east: 153.2360484603554, south: 26.151593390188783, west: 126.5636657976794};\r\n  }\r\n  else{\r\n    request.location = {lat: location.lat(), lng: location.lng()};\r\n    request.radius = 50000;\r\n  }\r\n  var places = await new Promise(resolve => {\r\n    service.textSearch(request, (results, status) => {\r\n      if (status == google.maps.places.PlacesServiceStatus.OK) {\r\n        resolve(results);\r\n      }\r\n    })\r\n  })\r\n  return places;\r\n}\r\n\r\nconst drivingDirection = async (google, origin, destination, waypoints) => {\r\n  const directionsService = new google.maps.DirectionsService();\r\n  // const directionsRenderer = new google.maps.DirectionsRenderer({suppressPolylines: true});\r\n  // directionsRenderer.setMap(map);\r\n  var request = {\r\n    origin,\r\n    destination,\r\n    travelMode: google.maps.TravelMode.DRIVING,\r\n  };\r\n  if(waypoints != null){\r\n    request.waypoints = waypoints;\r\n    request.optimizeWaypoints = true;\r\n  }\r\n\r\n  var direction = await directionsService\r\n    .route(request)\r\n    .then((response) => {\r\n      // directionsRenderer.setDirections(response);\r\n      return response;\r\n    })\r\n    .catch((e) => console.log(\"Directions request failed due to \" + e));\r\n  return direction\r\n}\r\n\r\nfunction getTimeStr(time){\r\n  var h = Math.floor(time / 3600);\r\n  var m = Math.floor((time % 3600) / 60);\r\n  return `${('00' + h).slice(-2)}:${('00' + m).slice(-2)}`;\r\n}\r\nfunction getDurationStr(time){\r\n  var h = Math.floor(time / 3600);\r\n  var m = Math.floor((time % 3600) / 60);\r\n  var str = '';\r\n  if(h > 0) str += `${h}hour`;\r\n  if((m == 0 && h == 0) || m > 0){\r\n    str += `${m}min`;\r\n  }\r\n  return str;\r\n}\r\n","import { useHistory, } from \"react-router-dom\";\r\nimport Hero from './Hero';\r\nimport TextForm from './TextForm';\r\nimport PopularRegions from './PopularRegions';\r\nimport { Box, Divider, } from '@material-ui/core';\r\nimport { useGoogle } from './funcs';\r\n\r\nexport default function HomePage(){\r\n  const history = useHistory();\r\n  useGoogle();\r\n  const handleSubmit = (regionName) => {\r\n    const region = {\r\n      name: regionName,\r\n    }\r\n    history.push('/condition', region);\r\n  }\r\n  const handleClick = (region) => {\r\n    history.push('/condition', region);\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <Hero />\r\n      <Box mx={5} display='flex' justifyContent='center'>\r\n        <Box width={'100%'}maxWidth={500}>\r\n          <Box my={5}>\r\n            <TextForm onSubmit={handleSubmit} initialValue={'大阪'} label={'Region'} fullWidth={true}/>\r\n          </Box>\r\n          <Divider />\r\n          <Box my={5}>\r\n            <PopularRegions onClick={handleClick}/>\r\n          </Box>\r\n          <Box my={5}>\r\n            <PopularRegions onClick={handleClick}/>\r\n          </Box>\r\n          <Box my={5}>\r\n            <PopularRegions onClick={handleClick}/>\r\n          </Box>\r\n          <Box my={5}>\r\n            <PopularRegions onClick={handleClick}/>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n\r\n    </>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/img_travel.b5321376.jpg\";","import { makeStyles } from '@material-ui/core/styles';\r\nimport imgTravel from './images/img_travel.jpg'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    height: '30vh',\r\n  },\r\n}));\r\n\r\nexport default function HeroImg(props){\r\n  const classes = useStyles();\r\n\r\n  return(\r\n    <img className={classes.root} src={props.img == null ? imgTravel: props.img} />\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FastfoodIcon from '@material-ui/icons/Fastfood';\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\r\nimport HouseIcon from '@material-ui/icons/House';\r\nimport { TextField, Button, Box, Checkbox, Collapse, Fab } from '@material-ui/core';\r\nimport NavigationIcon from '@material-ui/icons/Navigation';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n  },\r\n  fab: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing(10),\r\n  },\r\n}));\r\n\r\n\r\nexport default function SwitchListSecondary(props) {\r\n  const classes = useStyles();\r\n  const [checked, setChecked] = useState(['checkBox']);\r\n  const [regionName, setRegionName] = useState(props.condition.regionName);\r\n  const [originName, setOriginName] = useState(props.condition.originName);\r\n  const [destinationName, setDestinationName] = useState('');\r\n\r\n  const handleToggle = (value) => () => {\r\n    const currentIndex = checked.indexOf(value);\r\n    const newChecked = [...checked];\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n    setChecked(newChecked);\r\n  };\r\n  const handleChangeRegionName = (e) => {\r\n    setRegionName(e.target.value);\r\n  }\r\n  const handleChangeOriginName = (e) => {\r\n    setOriginName(e.target.value);\r\n  }\r\n  const handleChangeDestinationName = (e) => {\r\n    setDestinationName(e.target.value);\r\n  }\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    var meal = checked.indexOf('meal') != -1;\r\n    const condition = {\r\n      regionName,\r\n      originName,\r\n      destinationName,\r\n      meal,\r\n    };\r\n    if(checked.indexOf('checkBox') != -1) condition.destinationName = originName;\r\n    props.onSubmit(condition);\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <List subheader={<ListSubheader>Settings</ListSubheader>}>\r\n        <ListItem>\r\n          <ListItemIcon>\r\n            <LocationOnIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"エリア\"/>\r\n          <TextField required variant=\"filled\" onChange={handleChangeRegionName} value={regionName}/>\r\n        </ListItem>\r\n        <ListItem>\r\n          <ListItemIcon>\r\n            <HouseIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"出発\"/>\r\n          <TextField required variant=\"filled\" onChange={handleChangeOriginName} value={originName}/>\r\n        </ListItem>\r\n        <ListItem>\r\n          <Checkbox\r\n            checked={checked.indexOf('checkBox') !== -1}\r\n            onChange={handleToggle('checkBox')}\r\n            inputProps={{ 'aria-label': 'primary checkbox' }}\r\n          />\r\n          <ListItemText primary={'出発地点と到着地点が同じ'} />\r\n        </ListItem>\r\n        <Collapse in={checked.indexOf('checkBox') == -1}>\r\n          <ListItem>\r\n            <ListItemIcon>\r\n              <HouseIcon />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"到着\"/>\r\n            <TextField variant=\"filled\" onChange={handleChangeDestinationName} value={destinationName}/>\r\n          </ListItem>\r\n        </Collapse>\r\n        <ListItem>\r\n          <ListItemIcon>\r\n            <FastfoodIcon />\r\n          </ListItemIcon>\r\n          <ListItemText id=\"switch-list-label-bluetooth\" primary=\"昼食を自動で追加\" />\r\n          <ListItemSecondaryAction>\r\n            <Switch\r\n              edge=\"end\"\r\n              onChange={handleToggle('meal')}\r\n              checked={checked.indexOf('meal') !== -1}\r\n              inputProps={{ 'aria-labelledby': 'switch-list-label-bluetooth' }}\r\n            />\r\n          </ListItemSecondaryAction>\r\n        </ListItem>\r\n      </List>\r\n      <Box  width='100%'>\r\n      <Box display='flex' justifyContent='center'>\r\n      <Fab color='primary'variant=\"extended\" type='submit'>\r\n      <NavigationIcon />\r\n        Navigate\r\n      </Fab>\r\n      </Box>\r\n\r\n      </Box>\r\n\r\n    </form>\r\n  );\r\n}\r\n","import {useContext} from 'react';\r\nimport { useHistory, useLocation, } from \"react-router-dom\";\r\nimport HeroImg from './HeroImg';\r\nimport SwitchListSecondary from './SwitchListSecondary';\r\nimport { Box, Zoom, } from '@material-ui/core';\r\nimport { AppContext } from './App';\r\n\r\nexport default function ConditionPage(props) {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const {setCondition} = useContext(AppContext);\r\n  const regionName = location.state.name;\r\n  const originName = location.state.originName;\r\n  const img = location.state.img\r\n  const condition = {regionName, originName};\r\n\r\n  const handleSubmit = (condition) => {\r\n    setCondition({...condition, status: 'first'});\r\n    history.push('/plan');\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <Zoom in={true} mountOnEnter>\r\n        <Box>\r\n          <HeroImg img={img}/>\r\n        </Box>\r\n      </Zoom>\r\n      <Box display='flex' justifyContent=\"center\">\r\n        <Box width={'100%'} maxWidth={500}>\r\n          <SwitchListSecondary onSubmit={handleSubmit} condition={condition}/>\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  )\r\n}\r\n","import { useState, useRef, useEffect, useContext } from 'react'\r\n\r\nimport {useMap} from './funcs';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: '70vh',\r\n  },\r\n}));\r\n\r\nexport default function Map(props){\r\n  const mapContainerRef = useRef(null);\r\n  useMap(mapContainerRef)\r\n  return(\r\n    <>\r\n      <div ref={mapContainerRef} style={{height: \"70vh\"}}>I can use the DOM with react ref</div>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ImageList from '@material-ui/core/ImageList';\r\nimport ImageListItem from '@material-ui/core/ImageListItem';\r\nimport ImageListItemBar from '@material-ui/core/ImageListItemBar';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n// import itemData from './itemData';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport {\r\n  Box,\r\n} from '@material-ui/core';\r\nimport {\r\n  useContext,\r\n} from 'react';\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-around',\r\n    overflow: 'hidden',\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  imageList: {\r\n  },\r\n  icon: {\r\n    color: 'rgba(255, 255, 255, 0.54)',\r\n  },\r\n  addIcon: {\r\n    width: 50,\r\n    height: 50,\r\n  }\r\n}));\r\n\r\n/**\r\n * The example data is structured as follows:\r\n *\r\n * import image from 'path/to/image.jpg';\r\n * [etc...]\r\n *\r\n * const itemData = [\r\n *   {\r\n *     img: image,\r\n *     title: 'Image',\r\n *     author: 'author',\r\n *   },\r\n *   {\r\n *     [etc...]\r\n *   },\r\n * ];\r\n */\r\nexport default function TitlebarImageList(props) {\r\n  const classes = useStyles();\r\n  const newSpots = props.spots;\r\n  if(newSpots == null) return(null);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ImageList rowHeight={180} className={classes.imageList}>\r\n        <ImageListItem key=\"Subheader\" cols={2} style={{ height: 'auto' }}>\r\n          <ListSubheader component=\"div\">Spots</ListSubheader>\r\n        </ImageListItem>\r\n        {newSpots.map((item, i) => (\r\n          <ImageListItem key={item.photos == null ? null: item.photos[0].getUrl()}>\r\n            <img src={item.photos == null ? null: item.photos[0].getUrl()} alt={item.name}/>\r\n            <ImageListItemBar\r\n              title={item.name}\r\n              subtitle={<span>by: {item.name}</span>}\r\n              actionIcon={\r\n                <IconButton aria-label={`info about ${item.name}`} className={classes.icon}>\r\n                  <InfoIcon />\r\n                </IconButton>\r\n              }\r\n            />\r\n            <ImageListItemBar\r\n              position='top'\r\n              actionPosition='right'\r\n              actionIcon={\r\n                <IconButton onClick={() => props.onClickCancel(i)}><CancelIcon /></IconButton>\r\n              }\r\n              style={{background: 'rgba(0, 0, 0, 0)'}}>\r\n            </ImageListItemBar>\r\n          </ImageListItem>\r\n        ))}\r\n        <ImageListItem>\r\n          <Box display='flex' justifyContent='center' alignItems=\"center\" height='100%'>\r\n          <IconButton onClick={props.onClickAdd}>\r\n            <AddIcon fontSize='large' className={classes.addIcon}/>\r\n          </IconButton>\r\n          </Box>\r\n        </ImageListItem>\r\n      </ImageList>\r\n    </div>\r\n  );\r\n}\r\n","import { useContext, useState, } from 'react';\r\nimport { useHistory, } from 'react-router-dom';\r\n\r\nimport SwitchListSecondary from './SwitchListSecondary';\r\nimport TitlebarImageList from './TitlebarImageList';\r\nimport{ AppContext, } from './App';\r\nimport { Button, Box, Divider, Fab, } from '@material-ui/core'\r\nimport NavigationIcon from '@material-ui/icons/Navigation';\r\n\r\nexport default function EditPage(props){\r\n  const {setValue} = props;\r\n  const history = useHistory();\r\n  const {plan, setPlan, markers, setMarkers, condition, setCondition} = useContext(AppContext);\r\n  const handleClickAdd = () => {\r\n    setValue(2);\r\n  }\r\n  const handleClickCancel = (i) => {\r\n    plan.newSpots.splice(i, 1);\r\n    setPlan({...plan});\r\n    markers.spotMarkers[i].setMap(null);\r\n    markers.spotMarkers.splice(i, 1);\r\n    setMarkers({...markers});    \r\n  }\r\n  const handleSubmit = (condition) => {\r\n    setCondition({...condition, status: 'new'});\r\n    setValue(0);\r\n  }\r\n  return(\r\n    <>\r\n      <Box>\r\n        <Box my={5} mx={1}>\r\n          <TitlebarImageList onClickAdd={handleClickAdd} onClickCancel={handleClickCancel} spots={plan.newSpots}/>\r\n        </Box>\r\n        <Divider variant='middle'/>\r\n        <Box my={5} mx={1}>\r\n          <SwitchListSecondary onSubmit={handleSubmit} condition={condition}/>\r\n        </Box>\r\n        <Divider variant='middle'/>\r\n      </Box>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n});\r\n\r\nexport default function MediaCard(props) {\r\n  const classes = useStyles();\r\n  const {place} = props;\r\n  if(place == null) return(null);\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea>\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={place[0].photos[0].getUrl()}\r\n          title=\"Contemplative Reptile\"\r\n        />\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {place[0].name}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            Lizards are a widespread group of squamate reptiles, with over 6,000 species, ranging\r\n            across all continents except Antarctica\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions>\r\n        <Button size=\"small\" color=\"primary\" onClick={props.onClick}>\r\n          ADD\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}\r\n","import MediaCard from './MediaCard';\r\nimport{ useHistory, } from 'react-router-dom';\r\nimport{ useState, useContext, } from 'react';\r\nimport { TextField, Box, Button, Divider, ListSubheader, Zoom, } from '@material-ui/core';\r\nimport{ AppContext, } from './App';\r\nimport { findPlace, } from './funcs';\r\nimport TextForm from './TextForm'\r\n\r\nexport default function AddPage(props){\r\n  const [checked, setChecked] = useState(false);\r\n  const [place, setPlace] = useState(null);\r\n  const [marker, setMarker] = useState(null);\r\n  const history = useHistory();\r\n  const {google, map, plan, setPlan, markers, setMarkers} = useContext(AppContext);\r\n  const handleClick = () => {\r\n    plan.newSpots.push(place[0]);\r\n    setPlan({...plan});\r\n    markers.spotMarkers.push(marker);\r\n    setMarkers({...markers});\r\n  }\r\n  const handleSubmit = async (text) => {\r\n    setChecked(false);\r\n    var place = await findPlace(google, map, text);\r\n    const marker = new google.maps.Marker({\r\n      position: {\r\n        lat: place[0].geometry.location.lat(),\r\n        lng: place[0].geometry.location.lng(),\r\n      },\r\n      label: '!',\r\n      map: map,\r\n    });\r\n    marker.setMap(map);\r\n    setMarker(marker);\r\n    setPlace(place);\r\n    setChecked(true);\r\n  }\r\n  return(\r\n    <>\r\n      <Box mx={5} my={5}>\r\n        <TextForm fullWidth={true} onSubmit={handleSubmit}/>\r\n        <Box my={5}>\r\n          <Zoom in={checked}>\r\n            <Box>\r\n              <MediaCard place={place} onClick={handleClick}/>\r\n            </Box>\r\n          </Zoom>\r\n        </Box>\r\n        <Divider variant='middle'/>\r\n        <ListSubheader>人気のスポット</ListSubheader>\r\n        {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9].map((i) => {\r\n          return(\r\n            <Zoom in={checked} style={{ transitionDelay: checked ? `${500 * i}ms` : '0ms' }}>\r\n              <Box my={5}>\r\n                <MediaCard place={place} />\r\n              </Box>\r\n            </Zoom>\r\n          )\r\n        })}\r\n      </Box>\r\n    </>\r\n  )\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport Timeline from '@material-ui/lab/Timeline';\r\nimport TimelineItem from '@material-ui/lab/TimelineItem';\r\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator';\r\nimport TimelineConnector from '@material-ui/lab/TimelineConnector';\r\nimport TimelineContent from '@material-ui/lab/TimelineContent';\r\nimport TimelineOppositeContent from '@material-ui/lab/TimelineOppositeContent';\r\nimport TimelineDot from '@material-ui/lab/TimelineDot';\r\nimport TrainIcon from '@material-ui/icons/Train';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport { Box, Avatar, Zoom, Badge, Typography, Paper } from '@material-ui/core'\r\n\r\nimport { useContext } from 'react';\r\nimport { AppContext } from './App'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    padding: '6px 16px',\r\n  },\r\n}));\r\nconst label = 'abcdefghijklmnopqrstuvwxyz';\r\n\r\nfunction SpotTimelineItem(props){\r\n  const classes = useStyles();\r\n  const {spot, i} = props\r\n  return(\r\n    <TimelineItem onClick={props.onClick}>\r\n      <TimelineOppositeContent style={{ flex: 0.1 }}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\">\r\n          {spot.arrivalTime.text}\r\n        </Typography>\r\n      </TimelineOppositeContent>\r\n      <TimelineSeparator style={{ flexGrow: 0.3 }}>\r\n        <Box display='flex' justifyContent='center'>\r\n          <Box mx={1} my={1}>\r\n            <Badge anchorOrigin={{ vertical: 'bottom', horizontal: 'right',}} badgeContent={ label[i-1] } color=\"secondary\">\r\n              <Avatar alt=\"Remy Sharp\" src={spot.photos == null ? null: spot.photos[0].getUrl()} />\r\n            </Badge>\r\n          </Box>\r\n        </Box>\r\n        <TimelineConnector />\r\n      </TimelineSeparator>\r\n      <TimelineContent>\r\n        <Paper elevation={3} className={classes.paper}>\r\n          <Typography variant=\"h6\" component=\"h1\">{spot.name}</Typography>\r\n          <Typography variant='caption'>\r\n          <>\r\n            <Box display=\"flex\" alignItems=\"center\">\r\n              {spot.rating}\r\n              <Rating name=\"read-only\" value={spot.rating} precision={0.5} readOnly size='small' />\r\n              ({spot.user_ratings_total})\r\n            </Box>\r\n            滞在時間: {spot.stayTime.text}\r\n          </>\r\n          </Typography>\r\n        </Paper>\r\n      </TimelineContent>\r\n    </TimelineItem>\r\n  )\r\n}\r\n\r\nfunction PointTimelineItem(props){\r\n  const classes = useStyles();\r\n  const {spot} = props\r\n  return(\r\n    <TimelineItem onClick={props.onClick}>\r\n      <TimelineOppositeContent style={{ flex: 0.1 }}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\">\r\n          {spot.arrivalTime.text}\r\n        </Typography>\r\n      </TimelineOppositeContent>\r\n      <TimelineSeparator style={{ flexGrow: 0.3 }}>\r\n        <Box display='flex' justifyContent='center'>\r\n          <Box mx={1} my={1}>\r\n            <Badge anchorOrigin={{ vertical: 'bottom', horizontal: 'right',}} badgeContent={ null } color=\"secondary\">\r\n              <Avatar alt=\"Remy Sharp\" src={spot.photos == null ? null: spot.photos[0].getUrl()} />\r\n            </Badge>\r\n          </Box>\r\n        </Box>\r\n      </TimelineSeparator>\r\n      <TimelineContent>\r\n        <Paper elevation={3} className={classes.paper}>\r\n          <Typography variant=\"h6\" component=\"h1\">{spot.name}</Typography>\r\n          <Typography variant='caption'></Typography>\r\n        </Paper>\r\n      </TimelineContent>\r\n    </TimelineItem>\r\n  )\r\n}\r\n\r\nfunction LegTimelineItem(props){\r\n  const {spot, leg} = props;\r\n  return(\r\n    <TimelineItem>\r\n      <TimelineOppositeContent style={{ flexGrow: 0.1 }}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\">\r\n          {spot.departureTime.text}\r\n        </Typography>\r\n      </TimelineOppositeContent>\r\n      <TimelineSeparator style={{ flexGrow: 0.3 }}>\r\n        <TimelineConnector />\r\n          <Box display='flex' justifyContent='center'>\r\n            <Box mx={1} my={1}>\r\n              <TrainIcon />\r\n            </Box>\r\n          </Box>\r\n        <TimelineConnector />\r\n      </TimelineSeparator>\r\n      <TimelineContent>\r\n        <Box display=\"flex\" alignItems='center' height='100%'>\r\n          {leg.duration.newText} by transit\r\n        </Box>\r\n      </TimelineContent>\r\n    </TimelineItem>\r\n  )\r\n}\r\n\r\nexport default function CustomizedTimeline(props) {\r\n  const classes = useStyles();\r\n  const {plan} = useContext(AppContext);\r\n  if(plan == null){\r\n    return(\r\n      <Timeline>\r\n        {[0, 1, 2, 3, 4].map(() => {\r\n          return(\r\n            <TimelineItem>\r\n              <TimelineOppositeContent style={{ flex: 0.1 }}>\r\n                <Typography variant=\"body2\" color=\"textSecondary\">\r\n                  <Skeleton />\r\n                </Typography>\r\n              </TimelineOppositeContent>\r\n              <TimelineSeparator style={{ flexGrow: 0.3 }}>\r\n                <Box mx={1} my={1}>\r\n                  <Skeleton variant=\"circle\">\r\n                    <Avatar />\r\n                  </Skeleton>\r\n                </Box>\r\n                <TimelineConnector />\r\n              </TimelineSeparator>\r\n              <TimelineContent>\r\n                <Typography variant=\"h1\"><Skeleton /></Typography>\r\n              </TimelineContent>\r\n            </TimelineItem>\r\n          )\r\n        })}\r\n      </Timeline>\r\n    )\r\n  }\r\n  const {itinerary, legs} = plan;\r\n  return(\r\n    <Timeline>\r\n      {itinerary.map((spot, i) => {\r\n        return(\r\n          <Box>\r\n            {i != 0 && i != itinerary.length-1 ?\r\n              <SpotTimelineItem spot={spot} i={i} onClick={() => props.onClick(spot)}/>\r\n            :\r\n              <PointTimelineItem spot={spot} onClick={() => props.onClick(spot)}/>\r\n            }\r\n            {i < legs.length ?\r\n              <LegTimelineItem spot={spot} leg={legs[i]}/>\r\n              :\r\n              null\r\n            }\r\n          </Box>\r\n        )\r\n      })\r\n    }\r\n    </Timeline>\r\n  );\r\n}\r\n","import { useContext, useState, useEffect } from 'react'\r\nimport { useHistory, } from \"react-router-dom\";\r\nimport { Box, Button, CircularProgress, Fab } from '@material-ui/core';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CustomizedTimeline from './CustomizedTimeline';\r\nimport { usePlan, showMarker, } from './funcs';\r\nimport { AppContext } from './App';\r\n\r\nexport default function ItineraryPage(){\r\n  // const classes = useStyles();\r\n  const history = useHistory();\r\n  const {plan, map} = useContext(AppContext);\r\n  const handleClick = (spot) => {\r\n    map.setCenter({lat: spot.geometry.location.lat(), lng: spot.geometry.location.lng()})\r\n  }\r\n  return(\r\n    <Box>\r\n      <CustomizedTimeline onClick={handleClick}/>\r\n    </Box>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport { Zoom, } from '@material-ui/core'\r\n\r\nimport ItineraryPage from './ItineraryPage';\r\nimport EditPage from './EditPage';\r\nimport AddPage from './AddPage';\r\n\r\nimport {useHistory, } from 'react-router-dom';\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Zoom in={true}>\r\n        <Box>\r\n          <Typography>{children}</Typography>\r\n        </Box>\r\n        </Zoom>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nexport default function SimpleTabs() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    console.log(newValue)\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\" variant=\"fullWidth\">\r\n          <Tab label=\"PLAN\" {...a11yProps(0)} />\r\n          <Tab label=\"EDIT\" {...a11yProps(1)} />\r\n          <Tab label=\"ADD\" {...a11yProps(2)} />\r\n        </Tabs>\r\n      </AppBar>\r\n      <TabPanel value={value} index={0}>\r\n        <ItineraryPage />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        <EditPage setValue={setValue}/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={2}>\r\n        <AddPage />\r\n      </TabPanel>\r\n    </div>\r\n  );\r\n}\r\n","import { Switch, Route, } from \"react-router-dom\";\r\nimport Map from './Map';\r\nimport EditPage from './EditPage';\r\nimport AddPage from './AddPage';\r\nimport ItineraryPage from './ItineraryPage';\r\nimport { Box, Zoom, } from '@material-ui/core'\r\nimport SimpleTabs from './SimpleTabs'\r\n\r\nimport { usePlan } from './funcs';\r\n\r\nexport default function PlanPage(props){\r\n  usePlan();\r\n  return(\r\n    <>\r\n      <Map/>\r\n      <SimpleTabs />\r\n    </>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { useContext, } from 'react';\r\nimport { useLocation, useHistory, } from 'react-router-dom';\r\nimport { AppContext, } from './App';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nexport default function ButtonAppBar() {\r\n  const classes = useStyles();\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const {condition, setCondition} = useContext(AppContext)\r\n\r\n  const handleClick = () => {\r\n    if(location.pathname == '/plan/edit'){\r\n      setCondition({...condition, status: 'cancel'});\r\n      history.push('/plan');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\" onClick={handleClick}>\r\n            <ArrowBackIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            News\r\n          </Typography>\r\n          <Button color=\"inherit\">Login</Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport FolderIcon from '@material-ui/icons/Folder';\r\nimport RestoreIcon from '@material-ui/icons/Restore';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\r\n\r\nimport { useHistory, useLocation, } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    position: 'fixed',\r\n    bottom: 0,\r\n    width: '100%',\r\n  },\r\n});\r\n\r\nexport default function LabelBottomNavigation() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const [value, setValue] = React.useState('recents');\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n    if(newValue == 'recents'){\r\n      history.push('/');\r\n    }\r\n    else{\r\n      history.push('/condition', {name: 'osaka'});\r\n    }\r\n  };\r\n\r\n  return (\r\n    <BottomNavigation value={value} onChange={handleChange} className={classes.root}>\r\n      <BottomNavigationAction label=\"Recents\" value=\"recents\" icon={<RestoreIcon />} />\r\n      <BottomNavigationAction label=\"Favorites\" value=\"favorites\" icon={<FavoriteIcon />} />\r\n      <BottomNavigationAction label=\"Nearby\" value=\"nearby\" icon={<LocationOnIcon />} />\r\n      <BottomNavigationAction label=\"Folder\" value=\"folder\" icon={<FolderIcon />} />\r\n    </BottomNavigation>\r\n  );\r\n}\r\n","import { useState, createContext } from 'react'\nimport { BrowserRouter as Router, Switch, Route, } from \"react-router-dom\";\nimport HomePage from './HomePage';\nimport ConditionPage from './ConditionPage';\nimport PlanPage from './PlanPage';\nimport ButtonAppBar from './ButtonAppBar';\nimport BottomNavigation from './BottomNavigation';\nimport { makeStyles, } from '@material-ui/core/styles';\n\nimport { Box, } from '@material-ui/core'\n\nexport const AppContext = createContext();\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n  },\n  bottomNavigation: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n  },\n}));\n\nexport default function App() {\n  const classes = useStyles();\n  const [google, setGoogle] = useState(null);\n  const [map, setMap] = useState(null);\n  const [plan, setPlan] = useState(null);\n  const [markers, setMarkers] = useState(null);\n  const [condition, setCondition] = useState(null);\n  const value = {\n    google, setGoogle,\n    map, setMap,\n    plan, setPlan,\n    markers, setMarkers,\n    condition, setCondition,\n  }\n  return(\n    <AppContext.Provider value={value}>\n      <Router>\n        <ButtonAppBar />\n        <Box mb={10}>\n          <Switch>\n            <Route path=\"/condition\">\n              <ConditionPage />\n            </Route>\n            <Route path=\"/plan\">\n              <PlanPage />\n            </Route>\n            <Route path=\"/\">\n              <HomePage />\n            </Route>\n          </Switch>\n        </Box>\n        <BottomNavigation/>\n      </Router>\n\n    </AppContext.Provider>\n  )\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
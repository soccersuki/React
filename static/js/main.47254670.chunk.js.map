{"version":3,"sources":["MyContext.js","funcs/googleMapAPI.js","funcs/planFuncs.js","funcs/customHooks.js","Map.js","TextForm.js","Top.js","MediaCard.js","images/img_osaka.jpg","MyDrawer.js","PlaceDetail.js","Carousel.js","Bottom.js","MySpeedDial.js","Action.js","funcs/markerFuncs.js","MySnackbar.js","MyDialog.js","MultipleSelect.js","MaterialUIPickers.js","ConditionPage.js","Home.js","FirstPage.js","App.js","reportWebVitals.js","index.js"],"names":["AppContext","createContext","MyContext","props","useState","google","setGoogle","map","setMap","plan","setPlan","condition","setCondition","open","handleClose","setSnackbarState","snackbarState","handleOpen","text","setDialogState","dialogState","status","top","left","bottom","right","toggle","anchor","content","setDrawerState","drawerState","contextValue","Provider","value","children","findPlace","query","location","a","service","maps","places","PlacesService","request","fields","locationBias","north","east","south","west","lat","lng","Promise","resolve","findPlaceFromQuery","results","PlacesServiceStatus","OK","place","findPlaces","bounds","getBounds","radius","textSearch","getDetail","placeId","getDetails","drivingDirection","origin","destination","waypoints","directionsService","DirectionsService","travelMode","TravelMode","DRIVING","optimizeWaypoints","route","then","response","catch","e","console","log","direction","makePlan","regionName","originName","destinationName","lunch","dinner","departureTime","arrivalTime","getPlaces","waypts","formatted_address","stopover","routes","legs","leg","setDuration","duration","waypoint_order","i","itinerary","setTime","insertPlace","type","label","num","allPlaces","concat","slice","length","Math","floor","getDurationStr","time","getTimeStr","geometry","goDirection","goLeg","backDirection","backLeg","newText","splice","h","m","str","useStyles","makeStyles","theme","root","Map","classes","useContext","mapContainerRef","useRef","useEffect","current","zoom","center","disableDefaultUI","addListener","handleClickPOI","ref","className","style","height","TextForm","initialValue","setText","onSubmit","preventDefault","document","activeElement","blur","Box","display","color","margin","InputBase","required","placeholder","size","fullWidth","onChange","target","Top","handleClick","id","onClick","chips","types","Chip","japanese","icon","backgroundColor","chipIndex","mx","Paper","mt","overflowX","whiteSpace","width","media","MediaCard","Card","CardActionArea","CardMedia","image","photos","getUrl","title","CardContent","Typography","variant","component","noWrap","name","gutterBottom","alignItems","rating","Rating","precision","readOnly","user_ratings_total","CardActions","disableSpacing","Button","onClickAdd","onClickDelete","MyDrawer","SwipeableDrawer","onClose","onOpen","role","onKeyDown","img","objectFit","PlaceDetail","detail","setDetail","place_id","src","startIcon","marginTop","List","ListItem","button","divider","ListItemIcon","ListItemText","primary","padding","formatted_phone_number","website","my","subheader","ListSubheader","disableSticky","reviews","review","MyCard","Avatar","profile_photo_url","marginLeft","author_name","PlaceCard","Carousel","markers","setMarkers","setPlaces","enableMouseEvents","index","carouselIndex","onChangeIndex","setCarouselIndex","panTo","handleChangeIndex","px","handleClickDelete","handleClickAdd","Bottom","Zoom","in","justifyContent","transform","flexGrow","exampleWrapper","position","speedDial","Action","addMarkers","infoWindow","InfoWindow","originMarker","addMarker","destinationMarker","labelText","iconCode","fontFamily","fontSize","option","optimized","animation","Animation","DROP","marker","Marker","close","setContent","getTitle","getMap","MySnackbar","Snackbar","autoHideDuration","Alert","elevation","severity","ScrollDialog","descriptionElementRef","React","descriptionElement","focus","Dialog","scroll","DialogTitle","indigo","DialogContent","dividers","formControl","minWidth","maxWidth","flexWrap","chip","noLabel","spacing","MenuProps","PaperProps","maxHeight","ITEM_HEIGHT","names","getStyles","personName","fontWeight","indexOf","typography","fontWeightRegular","fontWeightMedium","MultipleSelect","useTheme","FormControl","InputLabel","Select","labelId","multiple","state","event","setState","input","Input","renderValue","selected","MenuItem","dense","MaterialUIPickers","utils","DateFnsUtils","TimePicker","selectedDate","handleDateChange","KeyboardButtonProps","SwitchListSecondary","checked","setChecked","setRegionName","setOriginName","setDestinationName","departureDate","Date","arrivalDate","setHours","setMinutes","setDepartureTime","setArrivalTime","querys","setQuerys","handleToggle","currentIndex","newChecked","push","handleSubmit","getHours","getMinutes","newPlan","disableGutters","TextField","Grid","container","item","xs","Collapse","date","ListItemSecondaryAction","Switch","edge","Home","setChipIndex","setDisplay","Loader","apiKey","version","libraries","load","useGoogle","deletePlace","window","innerHeight","changed","handleOpenD","FirstPage","timeout","onEnter","setTimeout","onExited","setFirstPage","App","firstPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"gOAEaA,EAAaC,0BAEX,SAASC,EAAUC,GAChC,MAA4BC,mBAAS,MAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAsBF,mBAAS,MAA/B,mBAAOG,EAAP,KAAYC,EAAZ,KACA,EAAwBJ,mBAAS,MAAjC,mBAAOK,EAAP,KAAaC,EAAb,KACA,EAAkCN,mBAAS,MAA3C,mBAAOO,EAAP,KAAkBC,EAAlB,KACA,EAA0CR,mBAAS,CACjDS,MAAM,EACNC,YAAa,kBAAMC,EAAiB,2BAAIC,GAAL,IAAoBH,MAAM,MAC7DI,WAAY,SAACC,GAAD,OAAUH,EAAiB,2BAAIC,GAAL,IAAoBH,MAAM,EAAMK,aAHxE,mBAAOF,EAAP,KAAsBD,EAAtB,KAKA,EAAsCX,mBAAS,CAC7CS,MAAM,EACNC,YAAa,kBAAMK,EAAe,2BAAIC,GAAL,IAAkBP,MAAM,MACzDI,WAAY,SAACI,GAAD,OAAYF,EAAe,2BAAIC,GAAL,IAAkBP,MAAM,EAAMQ,eAHtE,mBAAOD,EAAP,KAAoBD,EAApB,KAKA,EAAsCf,mBAAS,CAC7CS,KAAM,CACJS,KAAK,EACLC,MAAM,EACNC,QAAQ,EACRC,OAAO,GAETC,OAAQ,SAACC,EAAQd,EAAMe,GAAf,OAA2BC,EAAe,2BAAKC,GAAN,IAAmBF,UAASf,KAAK,2BAAMiB,EAAYjB,MAAnB,kBAA0Bc,EAASd,QACpHc,OAAQ,WARV,mBAAOG,EAAP,KAAoBD,EAApB,KAUME,EAAe,CACnB1B,SAAQC,YACRC,MAAKC,SACLC,OAAMC,UACNC,YAAWC,eACXI,gBACAI,cACAU,eAEF,OACE,cAAC9B,EAAWgC,SAAZ,CAAqBC,MAAOF,EAA5B,SACG5B,EAAM+B,W,YCxCAC,EAAS,uCAAG,WAAO9B,EAAQE,EAAK6B,EAAOC,GAA3B,mBAAAC,EAAA,6DACnBC,EAAU,IAAIlC,EAAOmC,KAAKC,OAAOC,cAAcnC,IAC/CoC,EAAU,CACZP,MAAOA,EACPQ,OAAQ,CAAC,OAAQ,WAAY,oBAAqB,YAG1CC,aADK,MAAZR,EACsB,CAACS,MAAO,kBAAmBC,KAAM,kBAAmBC,MAAO,mBAAoBC,KAAM,mBAGrF,CAACC,IAAKb,EAASa,MAAOC,IAAKd,EAASc,OAVtC,SAYL,IAAIC,SAAQ,SAAAC,GAC5Bd,EAAQe,mBAAmBX,GAAS,SAASY,EAASlC,GAChDA,IAAWhB,EAAOmC,KAAKC,OAAOe,oBAAoBC,IACpDJ,EAAQE,SAfS,cAYnBG,EAZmB,yBAmBhBA,GAnBgB,2CAAH,4DAsBTC,EAAU,uCAAG,WAAOtD,EAAQE,EAAK6B,EAAOC,GAA3B,mBAAAC,EAAA,6DACpBC,EAAU,IAAIlC,EAAOmC,KAAKC,OAAOC,cAAcnC,GAC/CoC,EAAU,CACZP,SAEa,MAAZC,EAEDM,EAAQiB,OAASrD,EAAIsD,aAGrBlB,EAAQN,SAAW,CAACa,IAAKb,EAASa,MAAOC,IAAKd,EAASc,OACvDR,EAAQmB,OAAS,KAXK,SAaL,IAAIV,SAAQ,SAAAC,GAC7Bd,EAAQwB,WAAWpB,GAAS,SAACY,EAASlC,GAChCA,GAAUhB,EAAOmC,KAAKC,OAAOe,oBAAoBC,IACnDJ,EAAQE,SAhBU,cAapBd,EAboB,yBAoBjBA,GApBiB,2CAAH,4DAuBVuB,EAAS,uCAAG,WAAO3D,EAAQE,EAAK0D,EAASrB,GAA7B,mBAAAN,EAAA,6DACnBK,EAAU,CACZsB,UACArB,UAGIL,EAAU,IAAIlC,EAAOmC,KAAKC,OAAOC,cAAcnC,GAN9B,SAOH,IAAI6C,SAAQ,SAAAC,GAC9Bd,EAAQ2B,WAAWvB,GAAS,SAACY,EAASlC,GAChCA,GAAUhB,EAAOmC,KAAKC,OAAOe,oBAAoBC,IACnDJ,EAAQE,SAVS,cAOjBG,EAPiB,yBAchBA,GAdgB,2CAAH,4DAiBTS,EAAgB,uCAAG,WAAO9D,EAAQ+D,EAAQC,EAAaC,GAApC,mBAAAhC,EAAA,6DACxBiC,EAAoB,IAAIlE,EAAOmC,KAAKgC,kBAGtC7B,EAAU,CACZyB,SACAC,cACAI,WAAYpE,EAAOmC,KAAKkC,WAAWC,SAErB,MAAbL,IACD3B,EAAQ2B,UAAYA,EACpB3B,EAAQiC,mBAAoB,GAXA,SAcRL,EACnBM,MAAMlC,GACNmC,MAAK,SAACC,GAEL,OAAOA,KAERC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAI,oCAAsCF,MApBpC,cAc1BG,EAd0B,yBAqBvBA,GArBuB,2CAAH,4D,QC5DtB,SAAeC,EAAtB,wC,4CAAO,WAAwBhF,EAAQE,EAAKE,EAAME,GAA3C,iDAAA2B,EAAA,6DACAgD,EAA8F3E,EAA9F2E,WAAYC,EAAkF5E,EAAlF4E,WAAYC,EAAsE7E,EAAtE6E,gBAAiBC,EAAqD9E,EAArD8E,MAAOC,EAA8C/E,EAA9C+E,OAAQC,EAAsChF,EAAtCgF,cAAeC,EAAuBjF,EAAvBiF,YAAavE,EAAUV,EAAVU,OACvE,MAAfuE,IAAqBA,EAAc,OAFjC,SAGgBzD,EAAU9B,EAAQE,EAAKgF,GAHvC,0CAGAnB,EAHA,cAIqBjC,EAAU9B,EAAQE,EAAKiF,GAJ5C,0CAIAnB,EAJA,eAKcwB,EAAUxF,EAAQE,EAAKE,EAAMkF,EAAeC,EAAaH,EAAOC,EAAQrE,EAAQiE,GAL9F,eAKD7C,EALC,OAMDqD,EAASrD,EAAOlC,KAAI,SAAAmD,GACtB,MAAM,CACJrB,SAAUqB,EAAMqC,kBAChBC,UAAU,MATT,UAYiB7B,EAAiB9D,EAAQkF,EAAYC,EAAiBM,GAZvE,YAYDV,EAZC,QAaKa,OAAO,GAAGC,KAAK3F,KAAI,SAAA4F,GAASC,EAAYD,EAA0B,EAArBA,EAAIE,SAASpE,UAEpEQ,EAAS2C,EAAUa,OAAO,GAAGK,eAAe/F,KAAI,SAAAgG,GAAC,OAAI9D,EAAO8D,MAE5DH,EAAYhC,EAAQ,GACpBgC,EAAY/B,EAAa,GACzB5B,EAAOlC,KAAI,SAAAmD,GAAK,OAAI0C,EAAY1C,EAAO,SAEnC8C,EArBC,CAqBYpC,GArBZ,mBAqBuB3B,GArBvB,CAqB+B4B,IACpCoC,EAAQD,EAAWpB,EAAUa,OAAO,GAAGC,KAAMP,IAE1CF,EAxBE,kCAwBWiB,EAAYrG,EAAQE,EAAKiG,EAAWpB,EAAUa,OAAO,GAAGC,KAAMzD,EAAQ,MAAW,eAAMkD,GAxBlG,YAyBFD,EAzBE,kCAyBYgB,EAAYrG,EAAQE,EAAKiG,EAAWpB,EAAUa,OAAO,GAAGC,KAAMzD,EAAQ,MAAW,eAAMkD,GAzBnG,cA2BY,6BACjBlD,EAAOlC,KAAI,SAACmD,EAAO6C,GACjB7C,EAAMiD,KAAO,OACbjD,EAAMkD,MAHS,6BAGQL,MA9BpB,kBAgCE,CAAC9D,SAAQ2B,SAAQC,cAAamC,YAAWN,KAAMd,EAAUa,OAAO,GAAGC,OAhCrE,6C,+BAmCQL,E,8FAAf,WAAyBxF,EAAQE,EAAKE,EAAMkF,EAAeC,EAAaH,EAAOC,EAAQrE,EAAQiE,GAA/F,qBAAAhD,EAAA,6DACM+D,EAAYT,EAAcD,EAC3BF,IAAOY,GAAY,MACnBX,IAAQW,GAAY,MACnBQ,EAAMR,EAAQ,KAEd5D,EAAS,GACA,OAAVpB,IAAiBoB,EAAShC,EAAKgC,QAPpC,SAQ0BkB,EAAWtD,EAAQE,EAAK+E,EAAa,iBAR/D,cAQQwB,EARR,OASErE,EAASA,EAAOsE,OAAOD,EAAUE,MAAM,EAAGH,EAAMpE,EAAOwE,SATzD,kBAUSxE,GAVT,6C,sBAaA,IAAM2D,EAAc,SAAC1C,EAAOzB,GAC1ByB,EAAM2C,SAAW,CACfpE,MAAOiF,KAAKC,MAAMlF,GAClBf,KAAMkG,EAAenF,KAWZwE,EAAU,SAACD,EAAWN,EAAMP,GAEvC,IADA,IAAI0B,EAAO1B,EACHY,EAAI,EAAGA,EAAIC,EAAUS,OAAQV,IACnCC,EAAUD,GAAGX,YAAc,CACzB1E,KAAMoG,EAAWD,GACjBpF,MAAOoF,GAETA,GAAQb,EAAUD,GAAGF,SAASpE,MAC9BuE,EAAUD,GAAGZ,cAAgB,CAC3BzE,KAAMoG,EAAWD,GACjBpF,MAAOoF,GAENd,EAAIL,EAAKe,SACVI,GAAQnB,EAAKK,GAAGF,SAASpE,QAKlByE,EAAW,uCAAG,WAAOrG,EAAQE,EAAKiG,EAAWN,EAAMzD,EAAQ4E,EAAMjF,EAAOuD,GAA1D,6BAAArD,EAAA,sDACjBiE,EAAI,EADa,YACVA,EAAIC,EAAUS,OAAS,GADb,sBAEpBT,EAAUD,GAAGZ,cAAc1D,OAASoF,GAFhB,iCAGDlF,EAAU9B,EAAQE,EAAK6B,EAAOoE,EAAUD,GAAGgB,SAASlF,UAHnD,2CAGhBoD,EAHgB,MAIfY,SAAW,CACfpE,MAAO,KACPf,KAAMkG,EAAe,OANF,UAQGjD,EAAiB9D,EAAQmG,EAAUD,GAAGR,kBAAmBN,EAAMM,mBARlE,eAQjByB,EARiB,OASjBC,EAAQD,EAAYvB,OAAO,GAAGC,KAAK,GATlB,UAUK/B,EAAiB9D,EAAQoF,EAAMM,kBAAmBS,EAAUD,EAAE,GAAGR,mBAVtE,eAUjB2B,EAViB,OAWjBC,EAAUD,EAAczB,OAAO,GAAGC,KAAK,GAC3CuB,EAAMpB,SAASpE,OAAS,EACxBwF,EAAMpB,SAASuB,QAAUR,EAAeK,EAAMpB,SAASpE,OACvD0F,EAAQtB,SAASpE,OAAS,EAC1B0F,EAAQtB,SAASuB,QAAUR,EAAeO,EAAQtB,SAASpE,OAC3DuE,EAAUqB,OAAOtB,EAAE,EAAG,EAAGd,GACzBS,EAAK2B,OAAOtB,EAAG,EAAGkB,EAAOE,GACzBlF,EAAOoF,OAAOtB,EAAE,EAAG,EAAGd,GAlBD,6BACgBc,IADhB,uBAsBzBE,EAAQD,EAAWN,EAAMP,GAtBA,4CAAH,oEA2BxB,SAAS2B,EAAWD,GAClB,IAAIS,EAAIZ,KAAKC,MAAME,EAAO,MACtBU,EAAIb,KAAKC,MAAOE,EAAO,KAAQ,IACnC,MAAM,GAAN,QAAW,KAAOS,GAAGd,OAAO,GAA5B,aAAmC,KAAOe,GAAGf,OAAO,IAEtD,SAASI,EAAeC,GACtB,IAAIS,EAAIZ,KAAKC,MAAME,EAAO,MACtBU,EAAIb,KAAKC,MAAOE,EAAO,KAAQ,IAC/BW,EAAM,GAKV,OAJGF,EAAI,IAAGE,GAAG,UAAOF,EAAP,UACJ,GAALC,GAAe,GAALD,GAAWC,EAAI,KAC3BC,GAAG,UAAOD,EAAP,QAEEC,ECpHF,I,SCDDC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,OAIO,SAASC,EAAIlI,GAC1B,IAAMmI,EAAUL,IAChB,EAA8BM,qBAAWvI,GAAlCK,EAAP,EAAOA,OAAaG,GAApB,EAAeD,IAAf,EAAoBC,QACdgI,EAAkBC,iBAAO,MAgB/B,OAdAC,qBAAU,WACR,GAAa,MAAVrI,GAAqC,MAAnBmI,EAArB,CACA,IAKMjI,EAAM,IAAIF,EAAOmC,KAAK6F,IAAIG,EAAgBG,QAL1B,CACpBC,KAAM,GACNC,OAAQ,CAAE3F,IAAK,WAAYC,IAAK,aAChC2F,kBAAkB,IAGpBvI,EAAIwI,YAAY,QAAS5I,EAAM6I,gBAC/BxI,EAAOD,MACN,CAACF,EAAQmI,IAKV,mCACE,qBAAKS,IAAKT,EAAiBU,UAAWZ,EAAQF,KAAMe,MAAO,CAACC,OAAQ,QAApE,gD,wDCrBS,SAASC,EAASlJ,GAC/B,MAAwBC,mBAASD,EAAMmJ,cAAvC,mBAAOpI,EAAP,KAAaqI,EAAb,KAWA,OACE,sBAAMC,SAXa,SAACvE,GACpBA,EAAEwE,iBAEWC,SAASC,cACjBC,OACLzJ,EAAMqJ,SAAStI,IAMf,SACE,eAAC2I,EAAA,EAAD,CAAKC,QAAQ,OAAb,UACE,cAAC,IAAD,CAAaC,MAAM,SAASZ,MAAO,CAACa,OAAQ,MAC5C,cAACC,EAAA,EAAD,CAAWC,UAAQ,EAACC,YAAY,qBAAqBC,KAAK,QAAQC,WAAS,EAACzD,MAAO,SAAU0D,SAP9E,SAACrF,GACpBsE,EAAQtE,EAAEsF,OAAOtI,QAMwGA,MAAOf,IAC5H,cAAC,IAAD,CAAY6I,MAAM,SAASZ,MAAO,CAACa,OAAQ,W,qBCvBpC,SAASQ,EAAIrK,GAC1B,IAAMsK,EAAc,SAACC,GAAD,OAAQ,WAC1BvK,EAAMwK,QAAQD,KAEVE,EAAQzK,EAAM0K,MAAMtK,KAAI,SAACoG,EAAM+D,GAAP,OAC5B,cAACI,EAAA,EAAD,CAAMlE,MAAOD,EAAKoE,SAAUX,KAAK,QAAQY,KAAMrE,EAAKqE,KAAML,QAASF,EAAYC,GAAKvB,MAAO,CAACa,OAAQ,EAAGiB,gBAAiB9K,EAAM+K,WAAaR,EAAK,OAAQ,SAAUX,MAAO5J,EAAM+K,WAAaR,EAAK,UAAW,eAE9M,OACE,eAACb,EAAA,EAAD,CAAKsB,GAAI,EAAT,UACE,cAACC,EAAA,EAAD,UACE,cAAC/B,EAAD,CAAUG,SAAUrJ,EAAMqJ,aAE5B,cAACK,EAAA,EAAD,CAAKwB,GAAI,EAAElC,MAAO,CAACmC,UAAW,OAAQC,WAAY,UAAlD,SACGX,O,uGCKH3C,I,KCtBS,IDsBGC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJgB,OAAQ,OACRoC,MAAO,QAETC,MAAO,CACLrC,OAAQ,UAIG,SAASsC,GAAUvL,GAChC,IAAMmI,EAAUL,KACTvE,EAASvD,EAATuD,MACCjD,EAAU8H,qBAAWvI,GAArBS,KACR,OAAY,MAATiD,EAAsB,KAGvB,eAACiI,EAAA,EAAD,CAAMzC,UAAWZ,EAAQF,KAAzB,UACE,eAACwD,EAAA,EAAD,CAAgBjB,QAASxK,EAAMwK,QAA/B,UACE,cAACkB,EAAA,EAAD,CACE3C,UAAWZ,EAAQmD,MACnBK,MAAuB,MAAhBpI,EAAMqI,OAAiB,KAAOrI,EAAMqI,OAAO,GAAGC,SACrDC,MAAM,0BAER,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKC,UAAU,KAAKC,QAAM,EAA9C,SACG5I,EAAM6I,OAET,cAACJ,EAAA,EAAD,CAAYK,cAAY,EAACJ,QAAQ,QAAQrC,MAAM,gBAAgBsC,UAAU,IAAzE,SACE,eAACxC,EAAA,EAAD,CAAKC,QAAQ,OAAO2C,WAAW,SAA/B,UACG/I,EAAMgJ,OACP,cAACC,GAAA,EAAD,CAAQJ,KAAK,YAAYtK,MAAOyB,EAAMgJ,OAAQE,UAAW,GAAKC,UAAQ,EAACzC,KAAK,UAF9E,IAGI1G,EAAMoJ,mBAHV,eAQG,MAARrM,GACC,cAACsM,EAAA,EAAD,CAAaC,gBAAc,EAA3B,SACiB,MAAdtJ,EAAMiD,KACL,cAACsG,EAAA,EAAD,CAAQ7C,KAAK,QAAQL,MAAM,UAAUY,QAASxK,EAAM+M,WAApD,iBAIA,cAACD,EAAA,EAAD,CAAQ7C,KAAK,QAAQL,MAAM,UAAUY,QAASxK,EAAMgN,cAApD,yB,cE7DNlF,GAAYC,YAAW,CAC3BE,KAAM,CACJoD,MAAO,OACPpC,OAAQ,UAIG,SAASgE,GAASjN,GAC/B,IAAMmI,EAAUL,KAKVnH,EAAc,WAClBX,EAAMuB,OAAOvB,EAAMwB,QAAQ,IAY7B,OACE,8BACE,cAAC0L,GAAA,EAAD,CACE1L,OAAQxB,EAAMwB,OACdd,KAAMV,EAAMU,KAAKV,EAAMwB,QACvB2L,QAASxM,EACTyM,OAtBa,WACjBpN,EAAMuB,OAAOvB,EAAMwB,QAAQ,IAiBzB,UAMWxB,EAAMwB,OAjBnB,qBACEuH,UAAWZ,EAAQF,KACnBoF,KAAK,eACLC,UAAW3M,EAHb,SAKGX,EAAMyB,e,wKCNPqG,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJoD,MAAO,QAETkC,IAAK,CACHlC,MAAO,OACPpC,OAAQ,IACRuE,UAAW,aAIA,SAASC,GAAYzN,GAAO,IAAD,kBACjCuD,EAASvD,EAATuD,MACD4E,EAAUL,KAChB,EAAwCM,qBAAWvI,GAA3CK,EAAR,EAAQA,OAAQE,EAAhB,EAAgBA,IAChB,GADA,EAAqBE,KAArB,EAA2BC,QACCN,mBAAS,OAArC,mBAAOyN,EAAP,KAAeC,EAAf,KAaA,GAXApF,qBAAU,WACRxD,QAAQC,IAAIzB,GACA,MAATA,GACH,sBAAC,8BAAApB,EAAA,6DACOM,EAAS,CAAC,OAAQ,oBAAqB,SAAU,gBAAiB,yBAA0B,UAAW,MAAO,UAAW,SAAU,sBAD1I,SAEsBoB,EAAU3D,EAAQE,EAAKmD,EAAMqK,SAAUnL,GAF7D,OAEOiL,EAFP,OAGCC,EAAUD,GACV3I,QAAQC,IAAI0I,GAJb,0CAAD,KAMC,IAES,MAATnK,EAEH,OACE,eAACmG,EAAA,EAAD,CAAKX,UAAWZ,EAAQF,KAAxB,UACE,qBAAK4F,IAAG,oBAAEtK,EAAMqI,cAAR,aAAE,EAAe,GAAGC,gBAApB,eAAgC6B,QAAhC,IAAgCA,OAAhC,EAAgCA,EAAQ9B,OAAO,GAAGC,SAAU9C,UAAWZ,EAAQoF,MACvF,eAAC7D,EAAA,EAAD,WACE,eAACA,EAAA,EAAD,CAAKsB,GAAI,EAAT,UACA,cAACgB,EAAA,EAAD,CAAYK,cAAY,EAACJ,QAAQ,KAAKC,UAAU,KAAhD,mBACG3I,EAAM6I,YADT,eACiBsB,QADjB,IACiBA,OADjB,EACiBA,EAAQtB,OAEzB,cAACJ,EAAA,EAAD,CAAYK,cAAY,EAACJ,QAAQ,QAAQrC,MAAM,gBAAgBsC,UAAU,IAAzE,SACE,eAACxC,EAAA,EAAD,CAAKC,QAAQ,OAAO2C,WAAW,SAA/B,oBACG/I,EAAMgJ,cADT,eACmBmB,QADnB,IACmBA,OADnB,EACmBA,EAAQnB,OACzB,cAACC,GAAA,EAAD,CAAQJ,KAAK,YAAYtK,MAAK,UAAEyB,EAAMgJ,cAAR,eAAkBmB,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAQnB,OAAQE,UAAW,GAAKC,UAAQ,EAACzC,KAAK,UAFhG,cAGI1G,EAAMoJ,0BAHV,eAGgCe,QAHhC,IAGgCA,OAHhC,EAGgCA,EAAQnB,OAHxC,SAMF,cAACO,EAAA,EAAD,CACEb,QAAQ,YACRrC,MAAM,UACNM,WAAS,EACT4D,UAAW,cAAC,KAAD,IACXtH,KAAK,SACLwC,MAAO,CAAC+E,UAAW,IANrB,oBAWA,eAACC,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAUC,QAAM,EAACC,SAAO,EAAxB,UACE,cAACC,GAAA,EAAD,UAAe,cAAC,KAAD,MACf,cAACC,GAAA,EAAD,CAAcC,QAAS,cAACtC,EAAA,EAAD,CAAYC,QAAQ,QAAQjD,MAAO,CAACuF,QAAS,SAA7C,mBAAwDhL,EAAMqC,yBAA9D,eAAmF8H,QAAnF,IAAmFA,OAAnF,EAAmFA,EAAQ9H,yBAEpH,eAACqI,GAAA,EAAD,CAAUC,QAAM,EAACC,SAAO,EAAxB,UACE,cAACC,GAAA,EAAD,UAAe,cAAC,KAAD,MACf,cAACC,GAAA,EAAD,CAAcC,QAAS,cAACtC,EAAA,EAAD,CAAYC,QAAQ,QAAQjD,MAAO,CAACuF,QAAS,SAA7C,SAAwD,4BAEtE,MAAVb,GAAmD,MAAjCA,EAAOc,wBACxB,eAACP,GAAA,EAAD,CAAUC,QAAM,EAACC,SAAO,EAAxB,UACE,cAACC,GAAA,EAAD,UAAe,cAAC,KAAD,MACf,cAACC,GAAA,EAAD,CAAcC,QAAS,cAACtC,EAAA,EAAD,CAAYC,QAAQ,QAAQjD,MAAO,CAACuF,QAAS,SAA7C,SAAwDb,EAAOc,8BAG/E,MAAVd,GAAoC,MAAlBA,EAAOe,SACxB,eAACR,GAAA,EAAD,CAAUE,SAAO,EAAjB,UACE,cAACC,GAAA,EAAD,UAAe,cAAC,KAAD,MACf,cAACC,GAAA,EAAD,CAAcC,QAAS,cAACtC,EAAA,EAAD,CAAYC,QAAQ,QAAQE,QAAM,EAACnD,MAAO,CAACuF,QAAS,SAApD,SAA+Db,EAAOe,eAGjG,eAACR,GAAA,EAAD,CAAUC,QAAM,EAACC,SAAO,EAAxB,UACE,cAACC,GAAA,EAAD,UAAe,cAAC,IAAD,MACf,cAACC,GAAA,EAAD,CAAcC,QAAS,cAACtC,EAAA,EAAD,CAAYC,QAAQ,QAAQjD,MAAO,CAACuF,QAAS,SAA7C,SAAwD,qCAGnF,cAAC7E,EAAA,EAAD,CAAKgF,GAAI,EAAT,SACA,cAACV,GAAA,EAAD,CAAMW,UAAW,cAACC,GAAA,EAAD,CAAeC,eAAa,EAA5B,SAA6B,cAAC7C,EAAA,EAAD,CAAYC,QAAQ,KAApB,wCAA9C,gBACGyB,QADH,IACGA,GADH,UACGA,EAAQoB,eADX,iBACG,EAAiB1O,WADpB,aACG,UAAuB,SAAA2O,GAAM,OAC5B,cAACd,GAAA,EAAD,CAAUE,SAAO,EAAjB,SAAmB,cAACa,GAAD,CAAQD,OAAQA,mBAU/C,SAASC,GAAOhP,GACd,IAAO+O,EAAU/O,EAAV+O,OACP,OACE,eAACrF,EAAA,EAAD,WACA,eAACA,EAAA,EAAD,CAAKC,QAAQ,OAAM2C,WAAW,SAA9B,UACE,cAAC2C,GAAA,EAAD,CAAQ,aAAW,SAASpB,IAAKkB,EAAOG,oBACxC,cAAClD,EAAA,EAAD,CAAYhD,MAAO,CAACmG,WAAY,IAAhC,SAAsCJ,EAAOK,iBAE9C,cAAC5C,GAAA,EAAD,CAAQJ,KAAK,YAAYtK,MAAOiN,EAAOxC,OAAQE,UAAW,GAAKC,UAAQ,EAACzC,KAAK,UAC9E,cAAC+B,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6B8C,EAAOhO,UC/GxC,SAASsO,GAAUrP,GACjB,IAAOuD,EAASvD,EAATuD,MACC5B,EAAiByG,qBAAWvI,GAA5B8B,YACR,EAAoC1B,mBAAS,CAC3CkB,KAAK,EACLC,MAAM,EACNC,QAAQ,EACRC,OAAO,IAJT,mBASMgJ,GATN,UASoB,WAElB3I,EAAYJ,OAAO,UAAU,EAAM,cAACkM,GAAD,CAAalK,MAAOA,OAEzD,OACE,cAACmG,EAAA,EAAD,UACE,cAACA,EAAA,EAAD,UAAK,cAAC6B,GAAD,CAAWhI,MAAOA,EAAOiH,QAASF,EAAayC,WAAY/M,EAAM+M,WAAYC,cAAehN,EAAMgN,oBAW7G,IAsBesC,GAtBE,SAACtP,GAC0BA,EAAlC+K,UAAkC/K,EAAvBuP,QAAuBvP,EAAdwP,WAA5B,IAEQlN,EAAuBtC,EAAvBsC,OAER,GAF+BtC,EAAfyP,UAE+BrH,qBAAWvI,IAAlDO,EAAR,EAAQA,IAAR,EAAaE,KAAb,EAAmBC,QAAnB,EAA4BM,cAO5B,GAAa,MAAVyB,EACH,OACE,cAAC,IAAD,CAAgBoN,mBAAiB,EAACC,MAAO3P,EAAM4P,cAAeC,cAAe,SAACF,GAAD,OAPrD,SAACA,GACzB3P,EAAM8P,iBAAiBH,GACvBvP,EAAI2P,MAAM,CAAChN,IAAKT,EAAOqN,GAAOvI,SAASlF,SAASa,MAAOC,IAAKV,EAAOqN,GAAOvI,SAASlF,SAASc,QAKJgN,CAAkBL,IAAQ3G,MAAO,CAACuF,QAAS,UAAnI,SACGjM,EAAOlC,KAAI,SAACmD,EAAOgH,GAAR,OACV,cAACb,EAAA,EAAD,CAAKuG,GAAI,EAAT,SAAY,cAACZ,GAAD,CAAW9L,MAAOA,EAAOyJ,cAAe,kBAAMhN,EAAMkQ,kBAAkB3F,IAAKwC,WAAY,kBAAM/M,EAAMmQ,eAAe5F,cCtDvH,SAAS6F,GAAOpQ,GAC7B,OAAmB,MAAhBA,EAAMsC,OAAuB,KAG9B,cAAC+N,EAAA,EAAD,CAAMC,GAAItQ,EAAM2J,QAAhB,SACE,cAACD,EAAA,EAAD,CAAKC,QAAQ,OAAO4G,eAAe,SAAnC,SACE,cAAC7G,EAAA,EAAD,CAAK2B,MAAM,OAAX,SACE,cAAC,GAAD,eAAcrL,U,2MCCN+H,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJuI,UAAW,kBACXC,SAAU,GAEZC,eAAgB,CACdC,SAAU,WACV1H,OAAQ,KAEV2H,UAAW,CACTD,SAAU,gBAKH,KACA,KCxBI,SAASE,GAAO7Q,GAC7B,MAAoCC,mBAAS,CAC3CkB,KAAK,EACLC,MAAM,EACNC,QAAQ,EACRC,OAAO,IAJT,6BAUA,OAAO,KChBF,SAASwP,GAAW5Q,EAAQE,EAAKkC,EAAQkE,EAAMvC,EAAQC,GAC5D,IAAM6M,EAAa,IAAI7Q,EAAOmC,KAAK2O,WAC7BC,EAAyB,MAAVhN,EAAiB,KAAOiN,GAAUhR,EAAQE,EAAK2Q,EAAY9M,EAAQ,MAClFkN,EAAmC,MAAfjN,EAAsB,KAAOgN,GAAUhR,EAAQE,EAAK2Q,EAAY7M,EAAa,MAKvG,MAAO,CAACqL,QAJQjN,EAAOlC,KAAI,SAACmD,EAAOgH,GACjC,IAAM6G,EAAyB,QAAb5K,EAAK4F,KAAiB7I,EAAMkD,MAAQD,EAAK6K,SAC3D,OAAOH,GAAUhR,EAAQE,EAAK2Q,EAAYxN,EAAO6N,EAAwB,QAAb5K,EAAK4F,KAAiB,KAAO,qBAE1E6E,eAAcE,qBAG1B,SAASD,GAAUhR,EAAQE,EAAK2Q,EAAYxN,EAAO6N,EAAWE,GACnE,IAAM7K,EAAQ,CACZ1F,KAAMqQ,EACNxH,MAAO,UACP2H,SAAU,QAEK,MAAdD,IAAoB7K,EAAM6K,WAAaA,GAC1C,IAAME,EAAS,CACbb,SAAU,CACR5N,IAAKQ,EAAM6D,SAASlF,SAASa,MAC7BC,IAAKO,EAAM6D,SAASlF,SAASc,OAE/B5C,IAAKA,EACLqG,MAAOA,EACPqF,MAAOvI,EAAM6I,KACbqF,WAAW,EACXC,UAAWxR,EAAOmC,KAAKsP,UAAUC,MAE7BC,EAAS,IAAI3R,EAAOmC,KAAKyP,OAAON,GAOtC,OANAK,EAAOjJ,YAAY,SAAS,WAC1BmI,EAAWgB,QACXhB,EAAWiB,WAAWH,EAAOI,YAC7BlB,EAAWrQ,KAAKmR,EAAOK,SAAUL,MAEnCA,EAAOxR,OAAOD,GACPyR,E,4ICjCM,SAASM,GAAWnS,GACjC,OACE,cAACoS,GAAA,EAAD,CAAU1R,KAAMV,EAAMU,KAAM2R,iBAAkB,IAAMlF,QAASnN,EAAMW,YAAnE,SACE,cAAC2R,GAAA,EAAD,CAAOC,UAAW,EAAGtG,QAAQ,SAASkB,QAASnN,EAAMW,YAAa6R,SAAS,UAA3E,SACGxS,EAAMe,S,uDCMA,SAAS0R,GAAazS,GACnC,IAIM0S,EAAwBC,IAAMrK,OAAO,MAU3C,OATAqK,IAAMpK,WAAU,WACd,GAAIvI,EAAMU,KAAM,CACd,IAAiBkS,EAAuBF,EAAhClK,QACmB,OAAvBoK,GACFA,EAAmBC,WAGtB,CAAC7S,EAAMU,OAGR,8BACE,eAACoS,GAAA,EAAD,CACEpS,KAAMV,EAAMU,KACZyM,QAlBc,WAClBnN,EAAMW,eAkBFoS,OAAQ,QACR,kBAAgB,sBAChB,mBAAiB,4BALnB,UAOE,cAACC,GAAA,EAAD,CAAahK,MAAO,CAAC8B,gBAAiBmI,KAAO,MAA7C,SACE,eAACvJ,EAAA,EAAD,CAAKC,QAAQ,OAAb,UACE,cAACsF,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACjD,EAAA,EAAD,CAAYC,QAAQ,KAAKjD,MAAO,CAACY,MAAO,QAASuF,WAAY,IAA7D,uBAGJ,cAAC+D,GAAA,EAAD,CAAeC,UAAU,EAAzB,SACGnT,EAAMyB,e,mFCjCXqG,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoL,YAAa,CACX/H,MAAO,OACPgI,SAAU,IACVC,SAAU,QAEZ7I,MAAO,CACLd,QAAS,OACT4J,SAAU,QAEZC,KAAM,CACJ3J,OAAQ,GAEV4J,QAAS,CACP1F,UAAW/F,EAAM0L,QAAQ,QAMvBC,GAAY,CAChBC,WAAY,CACV5K,MAAO,CACL6K,UAAWC,IACXzI,MAAO,OAKP0I,GAAQ,CACZ,eACA,eACA,2BACA,eACA,2BACA,2BACA,6CACA,6CACA,eACA,2BACA,gBAGF,SAASC,GAAU5H,EAAM6H,EAAYjM,GACnC,MAAO,CACLkM,YACgC,IAA9BD,EAAWE,QAAQ/H,GACfpE,EAAMoM,WAAWC,kBACjBrM,EAAMoM,WAAWE,kBAIZ,SAASC,GAAevU,GACrC,IAAMmI,EAAUL,KACVE,EAAQwM,eACd,EAAoC7B,IAAM1S,SAAS,IAAnD,mBAAOgU,EAAP,UAiBA,OACE,mCACE,eAACQ,GAAA,EAAD,CAAa1L,UAAWZ,EAAQiL,YAAhC,UACE,cAACsB,GAAA,EAAD,CAAYnK,GAAG,0BAAf,SAA0CvK,EAAMyG,QAChD,cAACkO,GAAA,EAAD,CACEC,QAAQ,0BACRrK,GAAG,oBACHsK,UAAQ,EACR/S,MAAO9B,EAAM8U,MACb3K,SAxBa,SAAC4K,GACpB/U,EAAMgV,SAASD,EAAM3K,OAAOtI,QAwBtBmT,MAAO,cAACC,GAAA,EAAD,CAAO3K,GAAG,uBAAuBV,OAAO,UAC/CsL,YAAa,SAACC,GAAD,OACX,qBAAKrM,UAAWZ,EAAQsC,MAAxB,SACG2K,EAAShV,KAAI,SAAC0B,GAAD,OACZ,cAAC6I,EAAA,EAAD,CAAMV,KAAK,QAAoBxD,MAAO3E,EAAOiH,UAAWZ,EAAQqL,MAAxC1R,SAI9B6R,UAAWA,GAdb,SAgBGI,GAAM3T,KAAI,SAACgM,GAAD,OACT,cAACiJ,GAAA,EAAD,CAAUC,OAAK,EAAYxT,MAAOsK,EAAMpD,MAAOgL,GAAU5H,EAAM6H,EAAYjM,GAA3E,SACGoE,GADkBA,a,iCCjGlB,SAASmJ,GAAkBvV,GACxC,OACE,cAAC,KAAD,CAAyBwV,MAAOC,KAAhC,SACE,cAACC,GAAA,EAAD,CACE7L,OAAO,QACPU,GAAG,cACH9D,MAAOzG,EAAMyG,MACb3E,MAAO9B,EAAM2V,aACbxL,SAAUnK,EAAM4V,iBAChBC,oBAAqB,CACnB,aAAc,eAEhB7M,MAAO,CAACqC,MAAO,QACfpB,KAAK,YCNE,SAAS6L,GAAoB9V,GAC1C,MAA8BC,mBAAS,CAAC,QAAxC,mBAAO8V,EAAP,KAAgBC,EAAhB,KACA,EAAoC/V,mBAAS,gBAA7C,mBAAOkF,EAAP,KAAmB8Q,EAAnB,KACA,EAAoChW,mBAAS,sBAA7C,mBAAOmF,EAAP,KAAmB8Q,EAAnB,KACA,EAA8CjW,mBAAS,sBAAvD,mBAAOoF,EAAP,KAAwB8Q,EAAxB,KACMC,EAAgB,IAAIC,KACpBC,EAAc,IAAID,KACxBD,EAAcG,SAAS,GACvBH,EAAcI,WAAW,GACzBF,EAAYC,SAAS,IACrBD,EAAYE,WAAW,GACvB,MAA0CvW,mBAASmW,GAAnD,mBAAO5Q,EAAP,KAAsBiR,EAAtB,KACA,EAAsCxW,mBAASqW,GAA/C,mBAAO7Q,EAAP,KAAoBiR,EAApB,KACA,EAA4BzW,mBAAS,IAArC,mBAAO0W,EAAP,KAAeC,EAAf,KACA,EAA2FxO,qBAAWvI,GAA9FK,EAAR,EAAQA,OAAQE,EAAhB,EAAgBA,IAAKE,EAArB,EAAqBA,KAAMC,EAA3B,EAA2BA,QAAoBE,GAA/C,EAAoCD,UAApC,EAA+CC,cAA6BQ,GAA5E,EAA6DJ,cAA7D,EAA4EI,aAE5EsH,qBAAU,WACiB,UAAtBtH,EAAYC,QACb2V,EAAa,MAAbA,KAED,IAEH,IAAMA,EAAe,SAAC/U,GAAD,OAAW,WAC9B,IAAMgV,EAAef,EAAQ5B,QAAQrS,GAC/BiV,EAAU,YAAOhB,IACD,IAAlBe,EACFC,EAAWC,KAAKlV,GAEhBiV,EAAWrP,OAAOoP,EAAc,GAElCd,EAAWe,KAiBPE,EAAY,uCAAG,WAAOnS,GAAP,iBAAA3C,EAAA,6DACnB2C,EAAEwE,iBACI9I,EAAY,CAChB2E,aACAC,aACAC,kBACA9B,OAAoC,GAA7BwS,EAAQ5B,QAAQ,SACvB7O,OAAoC,GAA7ByQ,EAAQ5B,QAAQ,SACvB5O,QAAsC,GAA9BwQ,EAAQ5B,QAAQ,UACxB3O,cAA0C,KAA3BA,EAAc0R,WAAiD,GAA7B1R,EAAc2R,aAC/D1R,YAAsC,KAAzBA,EAAYyR,WAA+C,GAA3BzR,EAAY0R,aACzDR,SACAzV,QAAmC,GAA3B6U,EAAQ5B,QAAQ,OAAe,MAAQ,UAEjD1T,EAAa,eAAID,IAdE,SAeG0E,EAAShF,EAAQE,EAAKE,EAAME,GAf/B,OAeb4W,EAfa,OAgBnB7W,EAAQ,eAAI6W,IAhBO,2CAAH,sDAmBlB,OACE,qCACE,cAAC1N,EAAA,EAAD,CAAK2B,MAAM,OAAX,SACE,cAAC3B,EAAA,EAAD,CAAKC,QAAQ,OAAO4G,eAAe,SAAnC,SACE,cAACvE,EAAA,EAAD,CAAYC,QAAQ,WAGxB,cAACvC,EAAA,EAAD,CAAKE,MAAM,iBAAX,SACE,uBAAMP,SAAU4N,EAAhB,UACE,eAACjJ,GAAA,EAAD,CAAMsH,OAAO,EAAb,UACE,cAACrH,GAAA,EAAD,CAAUoJ,gBAAc,EAAxB,SACE,cAACC,GAAA,EAAD,CAAW7Q,MAAO,cAACuF,EAAA,EAAD,CAAYE,UAAU,QAAOD,QAAQ,QAArC,gCAA+D/B,WAAS,EAACL,OAAO,QAAQE,UAAQ,EAAEI,SA7CjG,SAACrF,GAC9BmR,EAAcnR,EAAEsF,OAAOtI,QA4CyIA,MAAOqD,MAE/J,cAAC8I,GAAA,EAAD,CAAUoJ,gBAAc,EAAxB,SACE,eAACE,GAAA,EAAD,CAAMC,WAAS,EAAC9D,QAAS,EAAzB,UACA,cAAC6D,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACA,cAACJ,GAAA,EAAD,CAAW7Q,MAAO,cAACuF,EAAA,EAAD,CAAYE,UAAU,QAAOD,QAAQ,QAArC,0BAA8D/B,WAAS,EAACL,OAAO,QAAQE,UAAQ,EAACI,SA/C/F,SAACrF,GAC9BoR,EAAcpR,EAAEsF,OAAOtI,QA8CuIA,MAAOsD,MAE3J,cAACmS,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACA,cAACJ,GAAA,EAAD,CAAW7Q,MAAO,cAACuF,EAAA,EAAD,CAAYE,UAAU,QAAOD,QAAQ,QAArC,0BAA8D/B,WAAS,EAACL,OAAO,QAAOM,SA/ChF,SAACrF,GACnCqR,EAAmBrR,EAAEsF,OAAOtI,QA8C6HA,MAAOuD,WAIxJ,cAACsS,GAAA,EAAD,CAAUrH,IAAoC,GAAhCyF,EAAQ5B,QAAQ,YAA9B,SACE,cAAClG,GAAA,EAAD,CAAUoJ,gBAAc,MAG1B,cAACpJ,GAAA,EAAD,CAAUoJ,gBAAc,EAAxB,SACE,eAACE,GAAA,EAAD,CAAMC,WAAS,EAAC9D,QAAS,EAAzB,UACE,cAAC6D,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACE,cAACnC,GAAD,CAAmB9O,MAAO,cAACuF,EAAA,EAAD,CAAYE,UAAU,QAAOD,QAAQ,QAArC,sCAAgE0J,aAAcnQ,EAAeoQ,iBAvDrG,SAACgC,GACjCnB,EAAiBmB,QAwDL,cAACL,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACE,cAACnC,GAAD,CAAmB9O,MAAO,cAACuF,EAAA,EAAD,CAAYE,UAAU,QAAOD,QAAQ,QAArC,sCAAgE0J,aAAclQ,EAAamQ,iBAvDrG,SAACgC,GAC/BlB,EAAekB,aA0DP,eAAC3J,GAAA,EAAD,CAAUoJ,gBAAc,EAAxB,UACE,cAAChJ,GAAA,EAAD,CAAcC,QAAS,cAACtC,EAAA,EAAD,CAAYC,QAAQ,QAApB,wCACvB,cAAC4L,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CACEC,KAAK,MACL5N,SAAU0M,EAAa,OACvBd,SAAqC,IAA5BA,EAAQ5B,QAAQ,OACzBvK,MAAM,iBAIZ,cAAC+N,GAAA,EAAD,CAAUrH,IAA+B,GAA3ByF,EAAQ5B,QAAQ,OAA9B,SACE,eAAClG,GAAA,EAAD,CAAUoJ,gBAAc,EAAxB,UACE,cAAChJ,GAAA,EAAD,CAAcC,QAAS,cAACtC,EAAA,EAAD,CAAYC,QAAQ,QAApB,4EACvB,cAAC4L,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CACEC,KAAK,MACL5N,SAAU0M,EAAa,SACvBd,SAAuC,IAA9BA,EAAQ5B,QAAQ,SACzBvK,MAAM,mBAKd,eAACqE,GAAA,EAAD,CAAUoJ,gBAAc,EAAxB,UACE,cAAChJ,GAAA,EAAD,CAAcC,QAAS,cAACtC,EAAA,EAAD,CAAYC,QAAQ,QAApB,gEACvB,cAAC4L,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CACEC,KAAK,MACL5N,SAAU0M,EAAa,SACvBd,SAAuC,IAA9BA,EAAQ5B,QAAQ,SACzBvK,MAAM,iBAIZ,eAACqE,GAAA,EAAD,CAAUoJ,gBAAc,EAAxB,UACE,cAAChJ,GAAA,EAAD,CAAcC,QAAS,cAACtC,EAAA,EAAD,CAAYC,QAAQ,QAApB,gEACvB,cAAC4L,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CACEC,KAAK,MACL5N,SAAU0M,EAAa,UACvBd,SAAwC,IAA/BA,EAAQ5B,QAAQ,UACzBvK,MAAM,iBAIZ,cAACqE,GAAA,EAAD,CAAUoJ,gBAAc,EAAxB,SACE,cAAC9C,GAAD,CAAgB9N,MAAO,cAACuF,EAAA,EAAD,CAAYE,UAAU,QAAOD,QAAQ,QAArC,gCAA+D6I,MAAO6B,EAAQ3B,SAAU4B,SAGnH,cAAC9J,EAAA,EAAD,CACEb,QAAQ,YACRrC,MAAM,UACNM,WAAS,EACT4D,UAAW,cAAC,KAAD,IACXtH,KAAK,SACLwC,MAAO,CAAC+E,UAAW,IANrB,0BC9IV,IAAMjG,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJoD,MAAO,OACPsF,SAAU,gBAIRjG,GAAQ,CACZ,CAAC0B,KAAM,OAAQxB,SAAU,qBAAO3I,MAAO,GAAI4I,KAAM,cAAC,KAAD,IAAcwG,SAAU,UACzE,CAACjF,KAAM,qBAAsBxB,SAAU,uCAAU3I,MAAO,uCAAU4I,KAAM,cAAC,KAAD,IAAqBwG,SAAU,UACvG,CAACjF,KAAM,WAAYxB,SAAU,iCAAS3I,MAAO,iCAAS4I,KAAM,cAAC,KAAD,IAAoBwG,SAAU,UAC1F,CAACjF,KAAM,OAAQxB,SAAU,eAAM3I,MAAO,eAAM4I,KAAM,cAAC,KAAD,IAAewG,SAAU,UAC3E,CAACjF,KAAM,OAAQxB,SAAU,qBAAO3I,MAAO,qBAAO4I,KAAM,cAAC,KAAD,IAAkBwG,SAAU,UAChF,CAACjF,KAAM,gBAAiBxB,SAAU,qBAAO3I,MAAO,qBAAO4I,KAAM,cAAC,KAAD,IAAawG,SAAU,WAGvE,SAAS2G,KACtB,IAAM7P,EAAUL,KAEhB,EAAkC7H,mBAAS,GAA3C,mBAAO8K,EAAP,KAAkBkN,EAAlB,KACA,EAA+E7P,qBAAWvI,GAAlFK,EAAR,EAAQA,OAAQE,EAAhB,EAAgBA,IAAKE,EAArB,EAAqBA,KAAMC,EAA3B,EAA2BA,QAASM,EAApC,EAAoCA,cAAeI,EAAnD,EAAmDA,YAAaU,EAAhE,EAAgEA,YAChE,EAA4B1B,mBAAS,MAArC,mBAAOqC,EAAP,KAAemN,EAAf,KACA,EAA8BxP,mBAAS,MAAvC,mBAAOsP,EAAP,KAAgBC,EAAhB,KACA,EAA8BvP,oBAAS,GAAvC,mBAAO0J,EAAP,KAAgBuO,EAAhB,KACA,EAA0CjY,mBAAS,GAAnD,mBAAO2P,EAAP,KAAsBE,EAAtB,MlB7CuB,WACvB,MAA4B1H,qBAAWvI,GAAxBM,GAAf,EAAOD,OAAP,EAAeC,WACfoI,qBAAU,WAEO,IAAI4P,IAAO,CACxBC,OAFc,0CAGdC,QAAS,SACTC,UAAW,CAAC,YAEPC,OAAO5T,MAAK,SAACzE,GAClBC,EAAUD,QAEX,IkBmCHsY,GAEA,IAAMlO,EAAW,uCAAG,WAAOC,GAAP,eAAApI,EAAA,yDAClB8V,EAAa1N,GAEJ,GAANA,EAHe,gBAGNjI,EAAM,OAAGhC,QAAH,IAAGA,OAAH,EAAGA,EAAMgC,OAHT,sCAIEkB,EAAWtD,EAAQE,EAAKsK,GAAMH,GAAItI,OAJpC,OAIbK,EAJa,cAKlBmN,EAAUnN,GALQ,2CAAH,sDAOX2U,EAAY,uCAAG,WAAOlW,GAAP,eAAAoB,EAAA,6DACnB8V,GAAc,GADK,SAEAzU,EAAWtD,EAAQE,EAAKW,GAFxB,OAEfuB,EAFe,OAGnBmN,EAAUnN,GAHS,2CAAH,sDAMlBiG,qBAAU,WACR1H,EAAcC,WAAW,kFACzBG,EAAYH,WAAW,SACtB,IAEHyH,qBAAU,WAER,IAAIjG,EADO,MAARhC,IAEa,GAAbyK,IAAgBzI,EAAM,OAAGhC,QAAH,IAAGA,OAAH,EAAGA,EAAMgC,QAClCmN,EAAUnN,GACVrB,EAAYN,cACZE,EAAcC,WAAW,mEACxB,CAACR,IAEJiI,qBAAU,WAKR,IAAIgH,EAJJ,GAAa,MAAVjN,EAoBH,OAnBAwN,EAAiB,GACjBoI,GAAW,IAGQ3I,EAAH,GAAbxE,EAA0B+F,GAAW5Q,EAAQE,EAAKkC,EAAQoI,GAAMK,GAAYzK,EAAK2D,OAAQ3D,EAAK4D,aAClF4M,GAAW5Q,EAAQE,EAAKkC,GAAsB,GAAdyI,EAAkBL,GAAM,GAAKA,GAAMK,KAC1EwE,QAAQnP,KAAI,SAACyR,EAAQtH,GAC3BsH,EAAOjJ,YAAY,SAAS,WAC1B,IAAI,IAAIxC,EAAI,EAAGA,EAAI9D,EAAOwE,OAAQV,IAChC,GAAG9D,EAAO8D,GAAGgG,MAAQyF,EAAO/F,MAAM,CAChCgE,EAAiB1J,GACjB,aAKRoJ,EAAWD,GACXnP,EAAI2P,MAAM,CAAChN,IAAKT,EAAO,GAAG8E,SAASlF,SAASa,MAAOC,IAAKV,EAAO,GAAG8E,SAASlF,SAASc,QAE7E,WACLkV,GAAW,GACG,MAAX3I,IACDA,EAAQA,QAAQnP,KAAI,SAACyR,GAAD,OAAYA,EAAOxR,OAAO,SACnB,MAAxBkP,EAAQ0B,cAAsB1B,EAAQ0B,aAAa5Q,OAAO,MAC7B,MAA7BkP,EAAQ4B,mBAA2B5B,EAAQ4B,kBAAkB9Q,OAAO,UAG1E,CAACiC,IAEJ,IAAMmW,EAAc,SAAClO,GACnBgF,EAAQA,QAAQhF,GAAIlK,OAAO,MAC3BkP,EAAQA,QAAQ7H,OAAO6C,EAAI,GAC3BiF,EAAWD,GACXjN,EAAOoF,OAAO6C,EAAI,GAClBkF,EAAUnN,GACPiI,EAAKjI,EAAOwE,QAAQ1G,EAAI2P,MAAM,CAAChN,IAAKT,EAAOiI,GAAInD,SAASlF,SAASa,MAAOC,IAAKV,EAAOiI,GAAInD,SAASlF,SAASc,SAuB/G,OACE,eAAC0G,EAAA,EAAD,CAAKX,UAAWZ,EAAQF,KAAxB,UACE,qBAAKe,MAAO,CAACC,OAAQyP,OAAOC,aAA5B,SACE,cAACzQ,EAAD,CAAKW,eATY,SAACkM,GACnBA,EAAMjR,SACPnC,EAAYJ,OAAO,UAAU,EAAM,cAACkM,GAAD,CAAalK,MAAO,CAACqK,SAAUmH,EAAMjR,iBASxE,cAAC4F,EAAA,EAAD,CAAKV,MAAO,CAAC2H,SAAU,WAAYtF,MAAO,OAAQlK,IAAK,IAAvD,SACE,cAACkJ,EAAD,CAAKG,QAASF,EAAaS,UAAWA,EAAWL,MAAOA,GAAOrB,SAAU4N,MAE3E,cAACvN,EAAA,EAAD,CAAKV,MAAO,CAAC2H,SAAU,WAAYtF,MAAO,OAAQhK,OAAQ,IAA1D,SACE,cAAC+O,GAAD,CAAQR,cAAeA,EAAeE,iBAAkBA,EAAkBxN,OAAQA,EAAQqH,QAASA,EAASwG,eAxB3F,SAAC5F,GACtBjI,EAAOiI,GAAI/D,KAAO,OAClBlE,EAAOiI,GAAI9D,MAAQ,MACnBnG,EAAKgC,OAAO0U,KAAK1U,EAAOiI,IACxBjK,EAAKsY,SAAU,EACfH,EAAYlO,GACZhK,EAAQD,GACRO,EAAcC,WAAW,yCAiBuHoP,kBA9BxH,SAAC3F,GACzBkO,EAAYlO,GACZhK,EAAQD,GACRA,EAAKsY,SAAU,EACf/X,EAAcC,WAAW,6CA4BvB,cAAC4I,EAAA,EAAD,CAAKV,MAAO,CAAC2H,SAAU,WAAYtP,OAAQ,GAAIC,MAAO,IAAtD,SACE,cAACuP,GAAD,CAAQgI,YAAa5X,EAAYH,eAEnC,cAACqR,GAAD,eAAgBtR,IAChB,cAAC,GAAD,2BAAcI,GAAd,IAA2BQ,QAAS,cAAC,GAAD,OACpC,cAACwL,GAAD,eAActL,OCzJpB,IAAMmG,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJoD,MAAO,OACPpC,OAAQyP,OAAOC,YACf7N,gBAAiB,YAGN,SAASgO,GAAU9Y,GAChC,IAAMmI,EAAUL,KAChB,EAA8B7H,oBAAS,GAAvC,mBAAO0J,EAAP,KAAgBuO,EAAhB,KAMA,OACE,cAACxO,EAAA,EAAD,CAAKX,UAAWZ,EAAQF,KAAMsI,eAAe,SAASjE,WAAW,SAAS3C,QAAQ,OAAlF,SACE,cAAC0G,EAAA,EAAD,CAAMC,GAAI3G,EAASoP,QAAS,IAAKC,QAPjB,WAClBC,YAAW,WACTf,GAAW,KACV,MAIsDgB,SAAU,kBAAMlZ,EAAMmZ,cAAa,IAA1F,SACE,cAACzP,EAAA,EAAD,CAAKsB,GAAG,OAAR,SACE,cAACtB,EAAA,EAAD,CAAKC,QAAQ,OAAO4G,eAAe,SAAnC,SACE,cAAC,IAAD,CAAavH,MAAO,CAAEY,MAAO,QAAS2H,SAAU,eCf7C,SAAS6H,KACtB,MAAkCnZ,oBAAS,GAA3C,mBAAOoZ,EAAP,KAAkBF,EAAlB,KAEA,OAAGE,EACD,cAACP,GAAD,CAAWK,aAAcA,IAGzB,cAACpZ,EAAD,UACE,cAACiY,GAAD,MClBN,IAYesB,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB7U,MAAK,YAAkD,IAA/C8U,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACZ,GAAD,MAEF7P,SAAS0Q,eAAe,SAM1BX,O","file":"static/js/main.47254670.chunk.js","sourcesContent":["import { useState, createContext } from 'react'\n\nexport const AppContext = createContext();\n\nexport default function MyContext(props){\n  const [google, setGoogle] = useState(null);\n  const [map, setMap] = useState(null);\n  const [plan, setPlan] = useState(null);\n  const [condition, setCondition] = useState(null);\n  const [snackbarState, setSnackbarState] = useState({\n    open: false,\n    handleClose: () => setSnackbarState({...snackbarState, open: false}),\n    handleOpen: (text) => setSnackbarState({...snackbarState, open: true, text}),\n  });\n  const [dialogState, setDialogState] = useState({\n    open: false,\n    handleClose: () => setDialogState({...dialogState, open: false}),\n    handleOpen: (status) => setDialogState({...dialogState, open: true, status})\n  })\n  const [drawerState, setDrawerState] = useState({\n    open: {\n      top: false,\n      left: false,\n      bottom: false,\n      right: false,\n    },\n    toggle: (anchor, open, content) => setDrawerState({ ...drawerState, content, open: { ...drawerState.open, [anchor]: open }}),\n    anchor: 'bottom',\n  })\n  const contextValue = {\n    google, setGoogle,\n    map, setMap,\n    plan, setPlan,\n    condition, setCondition,\n    snackbarState,\n    dialogState,\n    drawerState,\n  }\n  return(\n    <AppContext.Provider value={contextValue}>\n      {props.children}\n    </AppContext.Provider>\n  )\n}\n","export const findPlace = async (google, map, query, location) => {\n  var service = new google.maps.places.PlacesService(map);\n  var request = {\n    query: query,\n    fields: ['name', 'geometry', 'formatted_address', 'photos'],\n  };\n  if(location == null){\n    request.locationBias = {north: 45.29328154474485, east: 153.2360484603554, south: 26.151593390188783, west: 126.5636657976794};\n  }\n  else{\n    request.locationBias = {lat: location.lat(), lng: location.lng()};\n  }\n  var place = await new Promise(resolve => {\n    service.findPlaceFromQuery(request, function(results, status) {\n      if (status === google.maps.places.PlacesServiceStatus.OK) {\n        resolve(results);\n      }\n    });\n  });\n  return place;\n}\n\nexport const findPlaces = async (google, map, query, location) => {\n  var service = new google.maps.places.PlacesService(map);\n  var request = {\n    query,\n  }\n  if(location == null){\n    // request.bounds = {north: 45.29328154474485, east: 153.2360484603554, south: 26.151593390188783, west: 126.5636657976794};\n    request.bounds = map.getBounds();\n  }\n  else{\n    request.location = {lat: location.lat(), lng: location.lng()};\n    request.radius = 50000;\n  }\n  var places = await new Promise(resolve => {\n    service.textSearch(request, (results, status) => {\n      if (status == google.maps.places.PlacesServiceStatus.OK) {\n        resolve(results);\n      }\n    })\n  })\n  return places;\n}\n\nexport const getDetail = async (google, map, placeId, fields) => {\n  var request = {\n    placeId,\n    fields\n  };\n\n  const service = new google.maps.places.PlacesService(map);\n  const place = await new Promise(resolve => {\n    service.getDetails(request, (results, status) => {\n      if (status == google.maps.places.PlacesServiceStatus.OK) {\n        resolve(results);\n      }\n    });\n  })\n  return place;\n}\n\nexport const drivingDirection = async (google, origin, destination, waypoints) => {\n  const directionsService = new google.maps.DirectionsService();\n  // const directionsRenderer = new google.maps.DirectionsRenderer({suppressPolylines: true});\n  // directionsRenderer.setMap(map);\n  var request = {\n    origin,\n    destination,\n    travelMode: google.maps.TravelMode.DRIVING,\n  };\n  if(waypoints != null){\n    request.waypoints = waypoints;\n    request.optimizeWaypoints = true;\n  }\n\n  var direction = await directionsService\n    .route(request)\n    .then((response) => {\n      // directionsRenderer.setDirections(response);\n      return response;\n    })\n    .catch((e) => console.log(\"Directions request failed due to \" + e));\n  return direction\n}\n","import { findPlace, findPlaces, drivingDirection, } from './googleMapAPI'\r\n\r\nexport async function makePlan(google, map, plan, condition){\r\n  var {regionName, originName, destinationName, lunch, dinner, departureTime, arrivalTime, status} = condition;\r\n  if(arrivalTime == null) arrivalTime = 21 * 3600\r\n  var [origin] = await findPlace(google, map, originName);\r\n  var [destination] = await findPlace(google, map, destinationName);\r\n  var places = await getPlaces(google, map, plan, departureTime, arrivalTime, lunch, dinner, status, regionName);\r\n  var waypts = places.map(place => {\r\n    return{\r\n      location: place.formatted_address,\r\n      stopover: true,\r\n    }\r\n  });\r\n  var direction = await drivingDirection(google, originName, destinationName, waypts);\r\n  direction.routes[0].legs.map(leg => { setDuration(leg, leg.duration.value * 2)});\r\n\r\n  places = direction.routes[0].waypoint_order.map(i => places[i]);\r\n\r\n  setDuration(origin, 0);\r\n  setDuration(destination, 0);\r\n  places.map(place => setDuration(place, 3600));\r\n\r\n  var itinerary = [origin, ...places, destination];\r\n  setTime(itinerary, direction.routes[0].legs, departureTime)\r\n\r\n  if(lunch) await insertPlace(google, map, itinerary, direction.routes[0].legs, places, 12 * 3600, '昼食', departureTime);\r\n  if(dinner) await insertPlace(google, map, itinerary, direction.routes[0].legs, places, 18 * 3600, '夕食', departureTime);\r\n\r\n  const alphabet = 'abcdefghijklmnopqrstuvwxyz';\r\n  places.map((place, i) => {\r\n    place.type = 'plan';\r\n    place.label = alphabet[i];\r\n  })\r\n  return {places, origin, destination, itinerary, legs: direction.routes[0].legs};\r\n}\r\n\r\nasync function getPlaces(google, map, plan, departureTime, arrivalTime, lunch, dinner, status, regionName){\r\n  var duration = (arrivalTime - departureTime);\r\n  if(lunch) duration -= 3600;\r\n  if(dinner) duration -= 3600;\r\n  var num = duration / (75 * 60)\r\n\r\n  var places = []\r\n  if(status != 'new') places = plan.places;\r\n  const allPlaces = await findPlaces(google, map, regionName + ' 観光');\r\n  places = places.concat(allPlaces.slice(0, num - places.length))\r\n  return places;\r\n}\r\n\r\nconst setDuration = (place, value) => {\r\n  place.duration = {\r\n    value: Math.floor(value),\r\n    text: getDurationStr(value),\r\n  }\r\n}\r\n\r\nconst getItinerary = (places, origin, destination, legs, departureTime) => {\r\n  var itinerary = places.slice();\r\n  itinerary.unshift(origin);\r\n  itinerary.push(destination);\r\n  return itinerary;\r\n}\r\n\r\nexport const setTime = (itinerary, legs, departureTime) => {\r\n  var time = departureTime;\r\n  for(var i = 0; i < itinerary.length; i++){\r\n    itinerary[i].arrivalTime = {\r\n      text: getTimeStr(time),\r\n      value: time,\r\n    };\r\n    time += itinerary[i].duration.value;\r\n    itinerary[i].departureTime = {\r\n      text: getTimeStr(time),\r\n      value: time,\r\n    }\r\n    if(i < legs.length){\r\n      time += legs[i].duration.value;\r\n    }\r\n  }\r\n}\r\n\r\nexport const insertPlace = async (google, map, itinerary, legs, places, time, query, departureTime) => {\r\n  for(var i = 0; i < itinerary.length - 1; i++){\r\n    if(itinerary[i].departureTime.value >= time){\r\n      var [lunch] = await findPlace(google, map, query, itinerary[i].geometry.location);\r\n      lunch.duration = {\r\n        value: 3600,\r\n        text: getDurationStr(3600),\r\n      }\r\n      var goDirection = await drivingDirection(google, itinerary[i].formatted_address, lunch.formatted_address);\r\n      var goLeg = goDirection.routes[0].legs[0];\r\n      var backDirection = await drivingDirection(google, lunch.formatted_address, itinerary[i+1].formatted_address);\r\n      var backLeg = backDirection.routes[0].legs[0];\r\n      goLeg.duration.value *= 2;\r\n      goLeg.duration.newText = getDurationStr(goLeg.duration.value);\r\n      backLeg.duration.value *= 2;\r\n      backLeg.duration.newText = getDurationStr(backLeg.duration.value);\r\n      itinerary.splice(i+1, 0, lunch);\r\n      legs.splice(i, 1, goLeg, backLeg);\r\n      places.splice(i+1, 0, lunch);\r\n      break;\r\n    }\r\n  }\r\n  setTime(itinerary, legs, departureTime);\r\n}\r\n\r\n\r\n\r\nfunction getTimeStr(time){\r\n  var h = Math.floor(time / 3600);\r\n  var m = Math.floor((time % 3600) / 60);\r\n  return `${('00' + h).slice(-2)}:${('00' + m).slice(-2)}`;\r\n}\r\nfunction getDurationStr(time){\r\n  var h = Math.floor(time / 3600);\r\n  var m = Math.floor((time % 3600) / 60);\r\n  var str = '';\r\n  if(h > 0) str += `${h}hour`;\r\n  if((m == 0 && h == 0) || m > 0){\r\n    str += `${m}min`;\r\n  }\r\n  return str;\r\n}\r\n","import { AppContext } from '../MyContext'\nimport { useEffect, useContext, } from 'react'\nimport { Loader } from \"@googlemaps/js-api-loader\"\nimport { findPlace, findPlaces, } from './googleMapAPI';\nimport { makePlan, insertLunch, } from './planFuncs';\n\nexport const useGoogle = () => {\n  const {google, setGoogle} = useContext(AppContext);\n  useEffect(() => {\n    const API_KEY = \"AIzaSyCkNip5D4glIDSddF__OlVzY1ovG5yVf7g\";\n    const loader = new Loader({\n      apiKey: API_KEY,\n      version: \"weekly\",\n      libraries: [\"places\"],\n    });\n    loader.load().then((google) => {\n      setGoogle(google);\n    })\n  }, [])\n}\n\nexport const usePlan = (cnt, setCnt, handleOpenS) => {\n  const {google, map, plan, setPlan, condition, } = useContext(AppContext);\n\n  useEffect(async () => {\n    if(google == null || map == null || condition == null) return;\n\n    const newPlan = await makePlan(google, map, plan, condition);\n    setPlan({...newPlan});\n    console.log(newPlan);\n    setCnt(cnt + 1)\n    handleOpenS('プランが完成しました')\n  }, [google, map, condition])\n}\n","import { useState, useRef, useEffect, useContext } from 'react'\r\n\r\nimport { AppContext } from './MyContext'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n  },\r\n}));\r\n\r\nexport default function Map(props){\r\n  const classes = useStyles();\r\n  const {google, map, setMap} = useContext(AppContext);\r\n  const mapContainerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if(google == null || mapContainerRef == null) return;\r\n    const initialConfig = {\r\n      zoom: 15,\r\n      center: { lat: 35.6432027, lng: 139.6729435 },\r\n      disableDefaultUI: true,\r\n    }\r\n    const map = new google.maps.Map(mapContainerRef.current, initialConfig);\r\n    map.addListener(\"click\", props.handleClickPOI);\r\n    setMap(map);\r\n  }, [google, mapContainerRef]);\r\n\r\n\r\n\r\n  return(\r\n    <>\r\n      <div ref={mapContainerRef} className={classes.root} style={{height: '100%'}}>I can use the DOM with react ref</div>\r\n    </>\r\n  )\r\n}\r\n","import { useState, } from 'react'\r\nimport {\r\n  Box,\r\n  TextField,\r\n  InputAdornment,\r\n  InputBase,\r\n} from '@material-ui/core';\r\nimport LoyaltyIcon from '@material-ui/icons/Loyalty';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nexport default function TextForm(props){\r\n  const [text, setText] = useState(props.initialValue);\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // e.target.firstChild.firstChild.firstChild.blur()\r\n    const elem = document.activeElement;\r\n    elem.blur()\r\n    props.onSubmit(text);\r\n  }\r\n  const handleChange = (e) => {\r\n    setText(e.target.value);\r\n  }\r\n  return(\r\n    <form onSubmit={handleSubmit}>\r\n      <Box display='flex'>\r\n        <LoyaltyIcon color=\"action\" style={{margin: 10}}/>\r\n        <InputBase required placeholder=\"Search Google Maps\" size=\"small\" fullWidth label={'SEARCH'} onChange={handleChange} value={text}/>\r\n        <SearchIcon color='action' style={{margin: 10}}/>\r\n      </Box>\r\n    </form>\r\n  )\r\n}\r\n","import TextForm from './TextForm'\r\nimport LoyaltyIcon from '@material-ui/icons/Loyalty';\r\nimport { Box, Chip, InputAdornment, Paper} from '@material-ui/core'\r\n\r\nexport default function Top(props){\r\n  const handleClick = (id) => () => {\r\n    props.onClick(id);\r\n  }\r\n  const chips = props.types.map((type, id) => (\r\n    <Chip label={type.japanese} size=\"small\" icon={type.icon} onClick={handleClick(id)} style={{margin: 5, backgroundColor: props.chipIndex == id ? 'blue': 'white'}} color={props.chipIndex == id ? 'primary': 'default'}/>\r\n  ))\r\n  return(\r\n    <Box mx={2}>\r\n      <Paper>\r\n        <TextForm onSubmit={props.onSubmit}/>\r\n      </Paper>\r\n      <Box mt={2}style={{overflowX: 'auto', whiteSpace: 'nowrap'}}>\r\n        {chips}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Box, Chip, Collapse, } from '@material-ui/core'\r\nimport { Rating } from '@material-ui/lab'\r\nimport clsx from 'clsx';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { Skelton, } from '@material-ui/core'\r\n\r\nimport imgOsaka from './images/img_osaka.jpg';\r\n\r\nimport { useContext, } from 'react'\r\n\r\nimport {AppContext, } from './MyContext'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: '100%',\r\n    width: '100%',\r\n  },\r\n  media: {\r\n    height: 100,\r\n  },\r\n}));\r\n\r\nexport default function MediaCard(props) {\r\n  const classes = useStyles();\r\n  const {place} = props;\r\n  const { plan, } = useContext(AppContext)\r\n  if(place == null) return null;\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea onClick={props.onClick}>\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={place.photos == null ? null : place.photos[0].getUrl()}\r\n          title=\"Contemplative Reptile\"\r\n        />\r\n        <CardContent>\r\n          <Typography variant=\"h6\" component=\"h6\" noWrap>\r\n            {place.name}\r\n          </Typography>\r\n          <Typography gutterBottom variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            <Box display=\"flex\" alignItems=\"center\">\r\n              {place.rating}\r\n              <Rating name=\"read-only\" value={place.rating} precision={0.5} readOnly size='small' />\r\n              ({place.user_ratings_total})\r\n            </Box>\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      {plan != null && (\r\n        <CardActions disableSpacing>\r\n          {place.type == null ?\r\n            <Button size=\"small\" color=\"primary\" onClick={props.onClickAdd}>\r\n              ADD\r\n            </Button>\r\n            :\r\n            <Button size=\"small\" color=\"primary\" onClick={props.onClickDelete}>\r\n              DELETE\r\n            </Button>\r\n          }\r\n        </CardActions>\r\n      )}\r\n\r\n    </Card>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/img_osaka.c9ba6993.jpg\";","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%',\r\n    height: '80vh',\r\n  }\r\n});\r\n\r\nexport default function MyDrawer(props) {\r\n  const classes = useStyles();\r\n\r\n  const handleOpen = () => {\r\n    props.toggle(props.anchor, true)\r\n  }\r\n  const handleClose = () => {\r\n    props.toggle(props.anchor, false);\r\n  }\r\n  const content = (anchor) => (\r\n    <div\r\n      className={classes.root}\r\n      role=\"presentation\"\r\n      onKeyDown={handleClose}\r\n    >\r\n      {props.content}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <SwipeableDrawer\r\n        anchor={props.anchor}\r\n        open={props.open[props.anchor]}\r\n        onClose={handleClose}\r\n        onOpen={handleOpen}\r\n      >\r\n        {content(props.anchor)}\r\n      </SwipeableDrawer>\r\n    </div>\r\n  );\r\n}\r\n","import { Box, Typography, List, ListItem, ListItemIcon, ListItemText, Chip, Fab, } from '@material-ui/core'\nimport { Rating } from '@material-ui/lab'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport RoomIcon from '@material-ui/icons/Room';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport PublicIcon from '@material-ui/icons/Public';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { useContext, useEffect, useState, } from 'react';\nimport { AppContext } from './MyContext'\n\nimport { getDetail } from './funcs/googleMapAPI';\n\nimport { Card, CardHeader, CardContent, Avatar, ListSubheader, Button, } from '@material-ui/core'\n\nimport NavigationIcon from '@material-ui/icons/Navigation';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%'\n  },\n  img: {\n    width: '100%',\n    height: 200,\n    objectFit: 'cover',\n  }\n}));\n\nexport default function PlaceDetail(props){\n  const {place} = props;\n  const classes = useStyles();\n  const { google, map, plan, setPlan, } = useContext(AppContext);\n  const [detail, setDetail] = useState(null);\n\n  useEffect(() => {\n    console.log(place)\n    if(place == null) return;\n    (async() => {\n      const fields = ['name', 'formatted_address', 'photos', 'opening_hours', 'formatted_phone_number', 'website', 'url', 'reviews', 'rating', 'user_ratings_total']\n      const detail = await getDetail(google, map, place.place_id, fields)\n      setDetail(detail)\n      console.log(detail)\n    })()\n  }, [])\n\n  if(place == null) return;\n\n  return(\n    <Box className={classes.root}>\n      <img src={place.photos?.[0].getUrl() ?? detail?.photos[0].getUrl()} className={classes.img}/>\n      <Box>\n        <Box mx={2}>\n        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n          {place.name ?? detail?.name}\n        </Typography>\n        <Typography gutterBottom variant=\"body2\" color=\"textSecondary\" component=\"p\">\n          <Box display=\"flex\" alignItems=\"center\">\n            {place.rating ?? detail?.rating}\n            <Rating name=\"read-only\" value={place.rating ?? detail?.rating} precision={0.5} readOnly size='small' />\n            ({place.user_ratings_total ?? detail?.rating})\n          </Box>\n        </Typography>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          fullWidth\n          startIcon={<NavigationIcon />}\n          type='submit'\n          style={{marginTop: 20}}\n        >\n          Add\n        </Button>\n        </Box>\n        <List>\n          <ListItem button divider>\n            <ListItemIcon>{<RoomIcon/>}</ListItemIcon>\n            <ListItemText primary={<Typography variant='body2' style={{padding: '5px 0'}}>{place.formatted_address ?? detail?.formatted_address}</Typography>} />\n          </ListItem>\n          <ListItem button divider>\n            <ListItemIcon>{<AccessTimeIcon />}</ListItemIcon>\n            <ListItemText primary={<Typography variant='body2' style={{padding: '5px 0'}}>{'営業中'}</Typography>} />\n          </ListItem>\n          {detail != null && detail.formatted_phone_number != null && (\n            <ListItem button divider>\n              <ListItemIcon>{<PhoneIcon />}</ListItemIcon>\n              <ListItemText primary={<Typography variant='body2' style={{padding: '5px 0'}}>{detail.formatted_phone_number}</Typography>} />\n            </ListItem>\n          )}\n          {detail != null && detail.website != null && (\n            <ListItem divider>\n              <ListItemIcon>{<PublicIcon />}</ListItemIcon>\n              <ListItemText primary={<Typography variant='body2' noWrap style={{padding: '5px 0'}}>{detail.website}</Typography>} />\n            </ListItem>\n          )}\n          <ListItem button divider>\n            <ListItemIcon>{<SearchIcon />}</ListItemIcon>\n            <ListItemText primary={<Typography variant='body2' style={{padding: '5px 0'}}>{'googleで検索'}</Typography>} />\n          </ListItem>\n        </List>\n        <Box my={2}>\n        <List subheader={<ListSubheader disableSticky><Typography variant='h6'>クチコミ</Typography></ListSubheader>}>\n          {detail?.reviews?.map?.(review => (\n            <ListItem divider ><MyCard review={review}/></ListItem>\n          ))}\n        </List>\n        </Box>\n      </Box>\n    </Box>\n  )\n}\n\n\nfunction MyCard(props){\n  const {review} = props\n  return(\n    <Box>\n    <Box display='flex'alignItems=\"center\">\n      <Avatar aria-label=\"recipe\" src={review.profile_photo_url}/>\n      <Typography style={{marginLeft: 10}}>{review.author_name}</Typography>\n    </Box>\n    {<Rating name=\"read-only\" value={review.rating} precision={0.5} readOnly size='small' />}\n    <Typography variant='body2'>{review.text}</Typography>\n    </Box>\n  )\n}\n","import React from 'react';\r\nimport SwipeableViews from 'react-swipeable-views';\r\n\r\nimport MediaCard from './MediaCard';\r\n\r\nimport { Box} from '@material-ui/core';\r\n\r\nimport { useState, useContext, useEffect} from 'react'\r\n\r\nimport MyDrawer from './MyDrawer'\r\nimport PlaceDetail from './PlaceDetail'\r\n\r\nimport { AppContext, } from './MyContext'\r\n\r\nfunction PlaceCard(props){\r\n  const {place} = props;\r\n  const { drawerState, } = useContext(AppContext)\r\n  const [openDrawer, setOpenDrawer] = useState({\r\n    top: false,\r\n    left: false,\r\n    bottom: false,\r\n    right: false,\r\n  });\r\n  const toggleDrawer = (anchor, open) => {\r\n    setOpenDrawer({ ...openDrawer, [anchor]: open });\r\n  };\r\n  const handleClick = () => {\r\n    // toggleDrawer('bottom', true)\r\n    drawerState.toggle('bottom', true, <PlaceDetail place={place}/>)\r\n  }\r\n  return(\r\n    <Box>\r\n      <Box><MediaCard place={place} onClick={handleClick} onClickAdd={props.onClickAdd} onClickDelete={props.onClickDelete}/></Box>\r\n    </Box>\r\n  )\r\n  return(\r\n    <Box>\r\n      <Box><MediaCard place={place} onClick={handleClick} onClickAdd={props.onClickAdd} onClickDelete={props.onClickDelete}/></Box>\r\n      <MyDrawer drawer={<PlaceDetail place={place}/>} toggleDrawer={toggleDrawer} state={openDrawer} anchor={'bottom'}/>\r\n    </Box>\r\n  )\r\n}\r\n\r\nconst Carousel = (props) => {\r\n  const { chipIndex, markers, setMarkers} = props\r\n  // const [places, setPlaces] = useState(props.places);\r\n  const { places, setPlaces, } = props\r\n  // const [value, setValue] = useState(0);\r\n  const { map, plan, setPlan, snackbarState, } = useContext(AppContext)\r\n\r\n  const handleChangeIndex = (index) => {\r\n    props.setCarouselIndex(index);\r\n    map.panTo({lat: places[index].geometry.location.lat(), lng: places[index].geometry.location.lng()})\r\n  }\r\n\r\n  if(places == null) return;\r\n  return(\r\n    <SwipeableViews enableMouseEvents index={props.carouselIndex} onChangeIndex={(index) => handleChangeIndex(index)} style={{padding: '0 30px'}}>\r\n      {places.map((place, id) => (\r\n        <Box px={1}><PlaceCard place={place} onClickDelete={() => props.handleClickDelete(id)} onClickAdd={() => props.handleClickAdd(id)}/></Box>\r\n      ))}\r\n    </SwipeableViews>\r\n  )\r\n};\r\n\r\nexport default Carousel;\r\n","import { useContext, } from 'react';\r\n// import { AppContext, } from './App'\r\nimport { Box, Zoom, } from '@material-ui/core'\r\nimport Carousel from './Carousel'\r\n\r\nexport default function Bottom(props){\r\n  if(props.places == null) return null;\r\n\r\n  return(\r\n    <Zoom in={props.display}>\r\n      <Box display='flex' justifyContent='center'>\r\n        <Box width='100%'>\r\n          <Carousel {...props}/>\r\n        </Box>\r\n      </Box>\r\n    </Zoom>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport SpeedDial from '@material-ui/lab/SpeedDial';\r\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\r\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\r\n\r\nimport ScheduleIcon from '@material-ui/icons/Schedule';\r\nimport UpdateIcon from '@material-ui/icons/Update';\r\nimport NewReleasesIcon from '@material-ui/icons/NewReleases';\r\n\r\nimport { useContext, } from 'react';\r\nimport { AppContext } from './MyContext'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    transform: 'translateZ(0px)',\r\n    flexGrow: 1,\r\n  },\r\n  exampleWrapper: {\r\n    position: 'relative',\r\n    height: 180,\r\n  },\r\n  speedDial: {\r\n    position: 'absolute',\r\n  },\r\n}));\r\n\r\nconst actions = [\r\n  { icon: <ScheduleIcon />, name: 'Timeline' },\r\n  { icon: <NewReleasesIcon />, name: 'New' },\r\n];\r\n\r\nexport default function MySpeedDial(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const { dialogState, } = useContext(AppContext)\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClick = (id) => () => {\r\n    if(id == 0) props.toggleDrawer('bottom', true)\r\n    else if(id == 1) dialogState.handleOpen('new');\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.exampleWrapper}>\r\n        <SpeedDial\r\n          ariaLabel=\"SpeedDial example\"\r\n          className={classes.speedDial}\r\n          icon={<SpeedDialIcon />}\r\n          onClose={handleClose}\r\n          onOpen={handleOpen}\r\n          open={open}\r\n          direction={'up'}\r\n        >\r\n          {actions.map((action, id) => (\r\n            <SpeedDialAction\r\n              key={action.name}\r\n              icon={action.icon}\r\n              tooltipTitle={action.name}\r\n              onClick={handleClick(id)}\r\n            />\r\n          ))}\r\n        </SpeedDial>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, } from 'react'\r\nimport CustomizedTimeline from './CustomizedTimeline';\r\nimport MySpeedDial from './MySpeedDial'\r\nimport MyDrawer from './MyDrawer'\r\n\r\nexport default function Action(props){\r\n  const [openDrawer, setOpenDrawer] = useState({\r\n    top: false,\r\n    left: false,\r\n    bottom: false,\r\n    right: false,\r\n  });\r\n  const toggleDrawer = (anchor, open) => {\r\n    setOpenDrawer({ ...openDrawer, [anchor]: open });\r\n  };\r\n\r\n  return null;\r\n\r\n  return(\r\n    <>\r\n      <MyDrawer drawer={<CustomizedTimeline toggleDrawer={toggleDrawer}/>} toggleDrawer={toggleDrawer} state={openDrawer} anchor={'bottom'}/>\r\n      <MySpeedDial toggleDrawer={toggleDrawer}/>\r\n    </>\r\n  )\r\n}\r\n","export function addMarkers(google, map, places, type, origin, destination){\r\n  const infoWindow = new google.maps.InfoWindow();\r\n  const originMarker = origin == null ? null : addMarker(google, map, infoWindow, origin, null)\r\n  const destinationMarker = destination == null ? null : addMarker(google, map, infoWindow, destination, null)\r\n  const markers = places.map((place, id) => {\r\n    const labelText = type.name == 'plan' ? place.label : type.iconCode;\r\n    return addMarker(google, map, infoWindow, place, labelText, type.name == 'plan' ? null : 'Material Icons')\r\n  })\r\n  return {markers, originMarker, destinationMarker}\r\n}\r\n\r\nexport function addMarker(google, map, infoWindow, place, labelText, fontFamily){\r\n  const label = {\r\n    text: labelText, // codepoint from https://fonts.google.com/icons\r\n    color: \"#ffffff\",\r\n    fontSize: \"14px\"\r\n  }\r\n  if(fontFamily != null) label.fontFamily = fontFamily\r\n  const option = {\r\n    position: {\r\n      lat: place.geometry.location.lat(),\r\n      lng: place.geometry.location.lng(),\r\n    },\r\n    map: map,\r\n    label: label,\r\n    title: place.name,\r\n    optimized: false,\r\n    animation: google.maps.Animation.DROP,\r\n  }\r\n  const marker = new google.maps.Marker(option);\r\n  marker.addListener(\"click\", () => {\r\n    infoWindow.close();\r\n    infoWindow.setContent(marker.getTitle());\r\n    infoWindow.open(marker.getMap(), marker);\r\n  });\r\n  marker.setMap(map)\r\n  return marker;\r\n}\r\n","import Alert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nexport default function MySnackbar(props){\r\n  return(\r\n    <Snackbar open={props.open} autoHideDuration={3000} onClose={props.handleClose}>\r\n      <Alert elevation={6} variant=\"filled\" onClose={props.handleClose} severity=\"success\">\r\n        {props.text}\r\n      </Alert>\r\n    </Snackbar>\r\n  )\r\n}\r\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport { Box, Avatar, Typography, } from '@material-ui/core'\nimport NavigationIcon from '@material-ui/icons/Navigation';\n\nimport indigo from '@material-ui/core/colors/indigo';\n\nexport default function ScrollDialog(props) {\n  const handleClose = () => {\n    props.handleClose();\n  };\n\n  const descriptionElementRef = React.useRef(null);\n  React.useEffect(() => {\n    if (props.open) {\n      const { current: descriptionElement } = descriptionElementRef;\n      if (descriptionElement !== null) {\n        descriptionElement.focus();\n      }\n    }\n  }, [props.open]);\n\n  return (\n    <div>\n      <Dialog\n        open={props.open}\n        onClose={handleClose}\n        scroll={'paper'}\n        aria-labelledby=\"scroll-dialog-title\"\n        aria-describedby=\"scroll-dialog-description\"\n      >\n        <DialogTitle style={{backgroundColor: indigo[500]}}>\n          <Box display=\"flex\">\n            <Avatar>\n              <NavigationIcon />\n            </Avatar>\n            <Typography variant='h4' style={{color: 'white', marginLeft: 10}}>Plan</Typography>\n          </Box>\n        </DialogTitle>\n        <DialogContent dividers={'paper' === 'paper'} >\n          {props.content}\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Select from '@material-ui/core/Select';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Chip from '@material-ui/core/Chip';\nimport OutlinedInput from '@material-ui/core/OutlinedInput'\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    width: '100%',\n    minWidth: 120,\n    maxWidth: '100%',\n  },\n  chips: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  chip: {\n    margin: 2,\n  },\n  noLabel: {\n    marginTop: theme.spacing(3),\n  },\n}));\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n    },\n  },\n};\n\nconst names = [\n  '一人',\n  '友人',\n  'カップル',\n  '家族',\n  'せっかち',\n  'ゆっくり',\n  '男性におすすめ',\n  '女性におすすめ',\n  '定番',\n  '安さ重視',\n  '学生',\n];\n\nfunction getStyles(name, personName, theme) {\n  return {\n    fontWeight:\n      personName.indexOf(name) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\n\nexport default function MultipleSelect(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [personName, setPersonName] = React.useState([]);\n\n  const handleChange = (event) => {\n    props.setState(event.target.value);\n  };\n\n  const handleChangeMultiple = (event) => {\n    const { options } = event.target;\n    const value = [];\n    for (let i = 0, l = options.length; i < l; i += 1) {\n      if (options[i].selected) {\n        value.push(options[i].value);\n      }\n    }\n    props.setState(value);\n  };\n\n  return (\n    <>\n      <FormControl className={classes.formControl}>\n        <InputLabel id=\"demo-mutiple-chip-label\">{props.label}</InputLabel>\n        <Select\n          labelId=\"demo-mutiple-chip-label\"\n          id=\"demo-mutiple-chip\"\n          multiple\n          value={props.state}\n          onChange={handleChange}\n          input={<Input id=\"select-multiple-chip\" margin='dense'/>}\n          renderValue={(selected) => (\n            <div className={classes.chips}>\n              {selected.map((value) => (\n                <Chip size='small' key={value} label={value} className={classes.chip} />\n              ))}\n            </div>\n          )}\n          MenuProps={MenuProps}\n        >\n          {names.map((name) => (\n            <MenuItem dense key={name} value={name} style={getStyles(name, personName, theme)}>\n              {name}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    </>\n  );\n}\n","import 'date-fns'\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardTimePicker,\r\n  KeyboardDatePicker,\r\n  TimePicker,\r\n} from '@material-ui/pickers';\r\n\r\nexport default function MaterialUIPickers(props) {\r\n  return (\r\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n      <TimePicker\r\n        margin=\"dense\"\r\n        id=\"time-picker\"\r\n        label={props.label}\r\n        value={props.selectedDate}\r\n        onChange={props.handleDateChange}\r\n        KeyboardButtonProps={{\r\n          'aria-label': 'change time',\r\n        }}\r\n        style={{width: '100%',}}\r\n        size='small'\r\n      />\r\n    </MuiPickersUtilsProvider>\r\n  );\r\n}\r\n","import { useState, useContext, useEffect } from 'react'\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport { TextField, Button, Box, Collapse, Typography, Avatar, Grid, } from '@material-ui/core';\r\nimport NavigationIcon from '@material-ui/icons/Navigation';\r\n\r\nimport MultipleSelect from './MultipleSelect'\r\nimport MaterialUIPickers from './MaterialUIPickers'\r\n\r\nimport {AppContext} from './MyContext'\r\n\r\nimport {makePlan} from './funcs/planFuncs'\r\n\r\nexport default function SwitchListSecondary(props) {\r\n  const [checked, setChecked] = useState(['new']);\r\n  const [regionName, setRegionName] = useState('大阪');\r\n  const [originName, setOriginName] = useState('大阪駅');\r\n  const [destinationName, setDestinationName] = useState('大阪駅');\r\n  const departureDate = new Date();\r\n  const arrivalDate = new Date();\r\n  departureDate.setHours(9)\r\n  departureDate.setMinutes(0)\r\n  arrivalDate.setHours(21)\r\n  arrivalDate.setMinutes(0)\r\n  const [departureTime, setDepartureTime] = useState(departureDate);\r\n  const [arrivalTime, setArrivalTime] = useState(arrivalDate);\r\n  const [querys, setQuerys] = useState([])\r\n  const { google, map, plan, setPlan, condition, setCondition, snackbarState, dialogState} = useContext(AppContext);\r\n\r\n  useEffect(() => {\r\n    if(dialogState.status == 'update'){\r\n      handleToggle('new')()\r\n    }\r\n  }, [])\r\n\r\n  const handleToggle = (value) => () => {\r\n    const currentIndex = checked.indexOf(value);\r\n    const newChecked = [...checked];\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n    setChecked(newChecked);\r\n  };\r\n  const handleChangeRegionName = (e) => {\r\n    setRegionName(e.target.value);\r\n  }\r\n  const handleChangeOriginName = (e) => {\r\n    setOriginName(e.target.value);\r\n  }\r\n  const handleChangeDestinationName = (e) => {\r\n    setDestinationName(e.target.value);\r\n  }\r\n  const handleDepartureDateChange = (date) => {\r\n    setDepartureTime(date);\r\n  };\r\n  const handleArrivalDateChange = (date) => {\r\n    setArrivalTime(date);\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const condition = {\r\n      regionName,\r\n      originName,\r\n      destinationName,\r\n      place: checked.indexOf('place') != -1,\r\n      lunch: checked.indexOf('lunch') != -1,\r\n      dinner: checked.indexOf('dinner') != -1,\r\n      departureTime: departureTime.getHours() * 3600 + departureTime.getMinutes() * 60,\r\n      arrivalTime: arrivalTime.getHours() * 3600 + arrivalTime.getMinutes() * 60,\r\n      querys,\r\n      status: checked.indexOf('new') != -1 ? 'new' : 'update',\r\n    };\r\n    setCondition({...condition})\r\n    const newPlan = await makePlan(google, map, plan, condition);\r\n    setPlan({...newPlan});\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Box width='100%'>\r\n        <Box display=\"flex\" justifyContent=\"center\">\r\n          <Typography variant='h5'></Typography>\r\n        </Box>\r\n      </Box>\r\n      <Box color='text.secondary'>\r\n        <form onSubmit={handleSubmit}>\r\n          <List dense={false}>\r\n            <ListItem disableGutters>\r\n              <TextField label={<Typography component='body2'variant='body2'>エリア</Typography>} fullWidth margin='dense' required  onChange={handleChangeRegionName} value={regionName}/>\r\n            </ListItem>\r\n            <ListItem disableGutters>\r\n              <Grid container spacing={2}>\r\n              <Grid item xs={6}>\r\n              <TextField label={<Typography component='body2'variant='body2'>出発</Typography>} fullWidth margin='dense' required onChange={handleChangeOriginName} value={originName} />\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n              <TextField label={<Typography component='body2'variant='body2'>到着</Typography>} fullWidth margin='dense'onChange={handleChangeDestinationName} value={destinationName} />\r\n              </Grid>\r\n              </Grid>\r\n            </ListItem>\r\n            <Collapse in={checked.indexOf('checkBox') == -1}>\r\n              <ListItem disableGutters>\r\n              </ListItem>\r\n            </Collapse>\r\n            <ListItem disableGutters>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={6}>\r\n                  <MaterialUIPickers label={<Typography component='body2'variant='body2'>出発時間</Typography>} selectedDate={departureTime} handleDateChange={handleDepartureDateChange}/>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                  <MaterialUIPickers label={<Typography component='body2'variant='body2'>到着時間</Typography>} selectedDate={arrivalTime} handleDateChange={handleArrivalDateChange}/>\r\n                </Grid>\r\n              </Grid>\r\n            </ListItem>\r\n            <ListItem disableGutters>\r\n              <ListItemText primary={<Typography variant='body2'>新規作成</Typography>} />\r\n              <ListItemSecondaryAction>\r\n                <Switch\r\n                  edge=\"end\"\r\n                  onChange={handleToggle('new')}\r\n                  checked={checked.indexOf('new') !== -1}\r\n                  color=\"primary\"\r\n                />\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n            <Collapse in={checked.indexOf('new') == -1}>\r\n              <ListItem disableGutters>\r\n                <ListItemText primary={<Typography variant='body2'>スポットを自動で追加</Typography>} />\r\n                <ListItemSecondaryAction>\r\n                  <Switch\r\n                    edge=\"end\"\r\n                    onChange={handleToggle('place')}\r\n                    checked={checked.indexOf('place') !== -1}\r\n                    color=\"primary\"\r\n                  />\r\n                </ListItemSecondaryAction>\r\n              </ListItem>\r\n            </Collapse>\r\n            <ListItem disableGutters>\r\n              <ListItemText primary={<Typography variant='body2'>昼食を自動で追加</Typography>} />\r\n              <ListItemSecondaryAction>\r\n                <Switch\r\n                  edge=\"end\"\r\n                  onChange={handleToggle('lunch')}\r\n                  checked={checked.indexOf('lunch') !== -1}\r\n                  color=\"primary\"\r\n                />\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n            <ListItem disableGutters>\r\n              <ListItemText primary={<Typography variant='body2'>夕食を自動で追加</Typography>} />\r\n              <ListItemSecondaryAction>\r\n                <Switch\r\n                  edge=\"end\"\r\n                  onChange={handleToggle('dinner')}\r\n                  checked={checked.indexOf('dinner') !== -1}\r\n                  color=\"primary\"\r\n                />\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n            <ListItem disableGutters>\r\n              <MultipleSelect label={<Typography component='body2'variant='body2'>その他</Typography>} state={querys} setState={setQuerys}/>\r\n            </ListItem>\r\n          </List>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            fullWidth\r\n            startIcon={<NavigationIcon />}\r\n            type='submit'\r\n            style={{marginTop: 20}}\r\n          >\r\n            Plan\r\n          </Button>\r\n        </form>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n","import { useState, useContext, useEffect ,} from 'react'\r\nimport Map from './Map';\r\nimport {AppContext} from './MyContext'\r\nimport Top from './Top';\r\nimport Bottom from './Bottom';\r\nimport Action from './Action'\r\n\r\nimport { useGoogle } from './funcs/customHooks';\r\nimport { addMarkers, } from './funcs/markerFuncs';\r\nimport { findPlaces } from './funcs/googleMapAPI';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Box, } from '@material-ui/core'\r\n\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport LocalCafeIcon from '@material-ui/icons/LocalCafe';\r\nimport NatureIcon from '@material-ui/icons/Nature';\r\nimport PetsIcon from '@material-ui/icons/Pets';\r\nimport EmojiPeopleIcon from '@material-ui/icons/EmojiPeople';\r\nimport RestaurantIcon from '@material-ui/icons/Restaurant';\r\n\r\nimport MySnackbar from './MySnackbar';\r\nimport MyDialog from './MyDialog'\r\nimport MyDrawer from './MyDrawer'\r\nimport ConditionPage from './ConditionPage'\r\nimport PlaceDetail from './PlaceDetail'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    position: 'relative',\r\n  },\r\n}));\r\n\r\nconst types = [\r\n  {name: 'plan', japanese: 'プラン', query: '', icon: <FaceIcon />, iconCode: '\\ue87c'},\r\n  {name: 'touristAttractions', japanese: '観光スポット', query: '観光スポット', icon: <EmojiPeopleIcon />, iconCode: '\\uea1d'},\r\n  {name: 'restrant', japanese: 'レストラン', query: 'レストラン', icon: <RestaurantIcon />, iconCode: '\\ue56c'},\r\n  {name: 'park', japanese: '公園', query: '公園', icon: <NatureIcon />,iconCode: '\\ue406'},\r\n  {name: 'cafe', japanese: 'カフェ', query: 'カフェ', icon: <LocalCafeIcon />,iconCode: '\\ue541'},\r\n  {name: 'amusementPark', japanese: '遊園地', query: '遊園地', icon: <PetsIcon />,iconCode: '\\ue91d'},\r\n]\r\n\r\nexport default function Home(){\r\n  const classes = useStyles();\r\n\r\n  const [chipIndex, setChipIndex] = useState(0);\r\n  const { google, map, plan, setPlan, snackbarState, dialogState, drawerState} = useContext(AppContext)\r\n  const [places, setPlaces] = useState(null);\r\n  const [markers, setMarkers] = useState(null);\r\n  const [display, setDisplay] = useState(false);\r\n  const [carouselIndex, setCarouselIndex] = useState(0);\r\n\r\n  useGoogle();\r\n\r\n  const handleClick = async (id) => {\r\n    setChipIndex(id);\r\n    var places;\r\n    if(id == 0) places = plan?.places;\r\n    else places = await findPlaces(google, map, types[id].query);\r\n    setPlaces(places);\r\n  }\r\n  const handleSubmit = async (text) => {\r\n    setChipIndex(-1);\r\n    var places = await findPlaces(google, map, text);\r\n    setPlaces(places);\r\n  }\r\n\r\n  useEffect(() => {\r\n    snackbarState.handleOpen('プランを新規作成しましょう')\r\n    dialogState.handleOpen('new')\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if(plan == null) return;\r\n    var places\r\n    if(chipIndex == 0) places = plan?.places;\r\n    setPlaces(places)\r\n    dialogState.handleClose()\r\n    snackbarState.handleOpen('プランが完成しました')\r\n  }, [plan])\r\n\r\n  useEffect(() => {\r\n    if(places == null) return;\r\n    setCarouselIndex(0);\r\n    setDisplay(true);\r\n\r\n    var markers;\r\n    if(chipIndex == 0) markers = addMarkers(google, map, places, types[chipIndex], plan.origin, plan.destination)\r\n    else markers = addMarkers(google, map, places, chipIndex == -1 ? types[1] : types[chipIndex])\r\n    markers.markers.map((marker, id) => {\r\n      marker.addListener('click', ()=>{\r\n        for(var i = 0; i < places.length; i++){\r\n          if(places[i].name == marker.title){\r\n            setCarouselIndex(i)\r\n            break;\r\n          }\r\n        }\r\n      })\r\n    })\r\n    setMarkers(markers)\r\n    map.panTo({lat: places[0].geometry.location.lat(), lng: places[0].geometry.location.lng()})\r\n\r\n    return () => {\r\n      setDisplay(false);\r\n      if(markers != null){\r\n        markers.markers.map((marker) => marker.setMap(null));\r\n        if(markers.originMarker != null) markers.originMarker.setMap(null);\r\n        if(markers.destinationMarker != null) markers.destinationMarker.setMap(null);\r\n      }\r\n    }\r\n  }, [places])\r\n\r\n  const deletePlace = (id) => {\r\n    markers.markers[id].setMap(null);\r\n    markers.markers.splice(id, 1);\r\n    setMarkers(markers)\r\n    places.splice(id, 1);\r\n    setPlaces(places);\r\n    if(id < places.length) map.panTo({lat: places[id].geometry.location.lat(), lng: places[id].geometry.location.lng()})\r\n  }\r\n  const handleClickDelete = (id) => {\r\n    deletePlace(id)\r\n    setPlan(plan);\r\n    plan.changed = true;\r\n    snackbarState.handleOpen('削除しました')\r\n  }\r\n  const handleClickAdd = (id) => {\r\n    places[id].type = 'plan'\r\n    places[id].label = 'new';\r\n    plan.places.push(places[id]);\r\n    plan.changed = true;\r\n    deletePlace(id);\r\n    setPlan(plan);\r\n    snackbarState.handleOpen('追加しました')\r\n  }\r\n  const handleClickPOI = (event) => {\r\n    if(event.placeId){\r\n      drawerState.toggle('bottom', true, <PlaceDetail place={{place_id: event.placeId}}/>);\r\n    }\r\n  }\r\n\r\n  return(\r\n    <Box className={classes.root}>\r\n      <div style={{height: window.innerHeight}}>\r\n        <Map handleClickPOI={handleClickPOI}/>\r\n      </div>\r\n      <Box style={{position: 'absolute', width: '100%', top: 20}}>\r\n        <Top onClick={handleClick} chipIndex={chipIndex} types={types} onSubmit={handleSubmit}/>\r\n      </Box>\r\n      <Box style={{position: 'absolute', width: '100%', bottom: 20}}>\r\n        <Bottom carouselIndex={carouselIndex} setCarouselIndex={setCarouselIndex} places={places} display={display} handleClickAdd={handleClickAdd} handleClickDelete={handleClickDelete}/>\r\n      </Box>\r\n      <Box style={{position: 'absolute', bottom: 20, right: 70}}>\r\n        <Action handleOpenD={dialogState.handleOpen}/>\r\n      </Box>\r\n      <MySnackbar {...snackbarState}/>\r\n      <MyDialog {...dialogState} content={<ConditionPage/>}/>\r\n      <MyDrawer {...drawerState}/>\r\n    </Box>\r\n  );\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { Box, Typography, Zoom, } from '@material-ui/core';\r\nimport LoyaltyIcon from '@material-ui/icons/Loyalty';\r\nimport { useState, } from 'react';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    height: window.innerHeight,\r\n    backgroundColor: 'pink',\r\n  },\r\n}));\r\nexport default function FirstPage(props){\r\n  const classes = useStyles();\r\n  const [display, setDisplay] = useState(true);\r\n  const handleEnter = () => {\r\n    setTimeout(() => {\r\n      setDisplay(false)\r\n    }, 1000)\r\n  }\r\n  return(\r\n    <Box className={classes.root} justifyContent=\"center\" alignItems=\"center\" display=\"flex\">\r\n      <Zoom in={display} timeout={300} onEnter={handleEnter} onExited={() => props.setFirstPage(false)}>\r\n        <Box mx='auto'>\r\n          <Box display=\"flex\" justifyContent=\"center\">\r\n            <LoyaltyIcon style={{ color: 'white', fontSize: 200 }}/>\r\n          </Box>\r\n        </Box>\r\n      </Zoom>\r\n    </Box>\r\n  )\r\n}\r\n","import { useState, createContext } from 'react'\nimport { makeStyles, } from '@material-ui/core/styles';\nimport { useGoogle } from './funcs/customHooks';\n\nimport Home from './Home';\nimport FirstPage from './FirstPage'\nimport MyContext from './MyContext'\n\n// export const AppContext = createContext();\n\nexport default function App() {\n  const [firstPage, setFirstPage] = useState(true);\n  \n  if(firstPage) return(\n    <FirstPage setFirstPage={setFirstPage}/>\n  )\n  return(\n    <MyContext>\n      <Home />\n    </MyContext>\n  )\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}